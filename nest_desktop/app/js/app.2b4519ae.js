(function(e){function t(t){for(var n,a,r=t[0],c=t[1],l=t[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);h&&h(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,a=1;a<i.length;a++){var r=i[a];0!==s[r]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=i[0]))}return e}var n={},a={app:0},s={app:0},o=[];function r(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-3c2299ea":"c691bda0","chunk-4c1d7003":"0259ad51","chunk-eefb417a":"091af959","chunk-36b84bbf":"2b2e51a2","chunk-52ff25c1":"63ac18de"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(e){var t=[],i={"chunk-3c2299ea":1,"chunk-4c1d7003":1,"chunk-eefb417a":1,"chunk-36b84bbf":1,"chunk-52ff25c1":1};a[e]?t.push(a[e]):0!==a[e]&&i[e]&&t.push(a[e]=new Promise((function(t,i){for(var n="css/"+({}[e]||e)+"."+{"chunk-3c2299ea":"f4f2c1ce","chunk-4c1d7003":"bb12fe22","chunk-eefb417a":"9075b51c","chunk-36b84bbf":"399a520f","chunk-52ff25c1":"d2fa3718"}[e]+".css",s=c.p+n,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===s))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===n||u===s)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var n=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete a[e],h.parentNode.removeChild(h),i(o)},h.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){a[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=s[e]=[t,i]}));t.push(n[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var i=s[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,i[1](d)}s[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(i,n,function(t){return e[t]}.bind(null,n));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/nest_desktop/app/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"0324":function(e){e.exports=JSON.parse('{"name":"spatial spike activity","network":{"nodes":[{"model":"poisson_generator","size":1,"view":{"position":{"x":-150,"y":-25}},"params":[{"id":"rate","value":6500,"visible":true}]},{"model":"iaf_psc_alpha","size":100,"view":{"position":{"x":0,"y":25}},"params":[],"spatial":{"positions":"free","specs":{"center":[0,0],"extent":[1,1],"edgeWrap":false,"numDimensions":2}}},{"model":"spike_recorder","view":{"position":{"x":150,"y":-25}},"params":[]}],"connections":[{"source":0,"target":1,"synapse":{"model":"static_synapse","params":[{"id":"weight","value":10,"visible":true}]}},{"source":1,"target":2}]},"simulation":{"kernel":{"resolution":1,"localNumThreads":1},"time":1000,"randomSeed":1},"version":"3.1.0"}')},"032b":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("9224"),a={baseUrl:"",production:!1,VERSION:n["a"]}},"034f":function(e,t,i){"use strict";i("5a56")},"03d2":function(e){e.exports=JSON.parse('{"abbreviation":"ng","id":"noise_generator","elementType":"stimulator","label":"noise generator (Gaussian)","recordables":["I"],"params":[{"id":"mean","label":"mean value of the noise current","unit":"pA","value":0,"input":"valueSlider","max":1000,"min":-1000,"step":1},{"id":"std","label":"standard deviation of noise current","unit":"pA","value":0,"input":"valueSlider","max":100,"min":0,"step":1},{"id":"start","label":"start time","unit":"ms","value":0,"input":"valueSlider","max":1000,"min":0,"step":1},{"id":"stop","label":"stop time","unit":"ms","value":1000,"input":"valueSlider","max":1000,"min":0,"step":1}]}')},"0b4a":function(e){e.exports=JSON.parse('{"name":"spatial neurons","network":{"nodes":[{"model":"poisson_generator","size":1,"view":{"position":{"x":-150,"y":-25}},"params":[{"id":"rate","value":6500,"visible":true}]},{"model":"iaf_psc_alpha","size":100,"view":{"position":{"x":0,"y":25}},"params":[],"spatial":{"positions":"free","specs":{"center":[0,0],"extent":[1,1],"edgeWrap":false,"numDimensions":2}}},{"model":"voltmeter","view":{"position":{"x":150,"y":-25}},"params":[]}],"connections":[{"source":0,"target":1,"synapse":{"params":[{"id":"weight","value":10,"visible":true}]}},{"source":2,"target":1}]},"simulation":{"kernel":{"resolution":1},"time":1000,"randomSeed":1},"version":"3.1.0"}')},1:function(e,t){},"104a":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("1da1"),a=i("d4ec"),s=i("bee2"),o=i("ade3"),r=(i("96cf"),i("b0c0"),i("a4d3"),i("e01a"),i("fb6a"),i("bf19"),i("d3b7"),i("159b"),i("4de4"),i("d81d"),i("b64b"),i("ed09")),c=i("d442"),l=i("ec26"),u=i("2b0e"),d=i("8053"),h=i("bcdc"),p=i("89aa"),v=i("b2b8"),m=i("6340");i("4fad"),i("caad"),i("2532"),i("ac1f"),i("1276"),i("a9e3");function f(e,t){var i={nodes:[],connections:[]};return 0===Object.keys(t).length||(t.app.nodes.forEach((function(e){var n=t.simulation.collections[e.idx],a=t.simulation.models[n.model],s=t.app.models[n.model],o=Object.entries(a.params).map((function(e){return{id:e[0],value:e[1],visible:!!s&&s.display.includes(e[0])}})),r={elementType:n.element_type,color:e.color,position:e.position},c={idx:e.idx,params:o,size:n.n||1,model:"string"===typeof a?a:a.existing,view:r};n.hasOwnProperty("spatial")&&(c.spatial=n.spatial,c.spatial.hasOwnProperty("rows")&&(c.spatial.shape=[c.spatial.rows,c.spatial.columns]),c.spatial.hasOwnProperty("positions")&&(c.spatial.pos=c.spatial.positions)),i.nodes.push(c)})),t.simulation.connectomes.forEach((function(t){var n={source:null!=t.source?t.source:t.pre,target:null!=t.target?t.target:t.post};t.hasOwnProperty("conn_spec")&&(n.rule=t.conn_spec.rule||"all_to_all",n.params=Object.entries(t.conn_spec).filter((function(e){return"rule"!==e[0]})).map((function(e){return{id:e[0],value:e[1]}})));var a={params:[]},s=e.model.getModel(a.model||"static_synapse");t.hasOwnProperty("syn_spec")&&s.params.forEach((function(e){var i=t.syn_spec[e.id],n={id:e.id,value:null!=i?i:e.value,visible:null!=i};a.params.push(n)})),n.synapse=a,i.connections.push(n)}))),i}function _(e,t){if(0===Object.keys(t).length)return{};if(!t.hasOwnProperty("version"))return t;var i=t.version.split("."),n=2===Number(i[0])&&Number(i[1])>=5||Number(i[0])>2,a=n?t.network:f(e,t),s=3===Number(i[0]);return s||(a.nodes.filter((function(e){return"spike_detector"===e.model})).forEach((function(e){e.model="spike_recorder"})),a.connections.forEach((function(e){e.params.map((function(e){e.visible=!0}))}))),{activityGraph:t.activityGraph||{},network:a,simulation:t.simulation}}var b=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a["a"])(this,e),Object(o["a"])(this,"_activityGraph",void 0),Object(o["a"])(this,"_app",void 0),Object(o["a"])(this,"_code",void 0),Object(o["a"])(this,"_createdAt",void 0),Object(o["a"])(this,"_description",void 0),Object(o["a"])(this,"_doc",void 0),Object(o["a"])(this,"_id",void 0),Object(o["a"])(this,"_name",void 0),Object(o["a"])(this,"_network",void 0),Object(o["a"])(this,"_networkRevisionIdx",-1),Object(o["a"])(this,"_networkRevisions",[]),Object(o["a"])(this,"_rev",void 0),Object(o["a"])(this,"_simulation",void 0),Object(o["a"])(this,"_state",void 0),Object(o["a"])(this,"_updatedAt",void 0),this._app=t,this._doc=i||{},this._id=i.id||Object(l["a"])(),this._rev=i._rev||"",this._createdAt=i.createdAt||new Date,this._updatedAt=i.updatedAt,this._name=i.name||"",this._description=i.description||"",this._state=Object(r["e"])({activityStatsPanelId:0,hasActivities:!1,hasAnalogActivities:!1,hash:"",hasSpatialActivities:!1,hasSpikeActivities:!1,selected:!1,withActivities:!1}),i=_(this._app,i),this.initSimulation(i.simulation),this.initNetwork(i.network),this._code=new v["a"](this),this._activityGraph=new d["a"](this,i.activityGraph),this.clean()}return Object(s["a"])(e,[{key:"activityGraph",get:function(){return this._activityGraph}},{key:"app",get:function(){return this._app}},{key:"code",get:function(){return this._code}},{key:"createdAt",get:function(){return this._createdAt},set:function(e){this._createdAt=e}},{key:"description",get:function(){return this._description}},{key:"doc",get:function(){return this._doc},set:function(e){this._doc=e}},{key:"docId",get:function(){return this._doc?this._doc._id:void 0}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"network",get:function(){return this._network}},{key:"rev",get:function(){return this._rev}},{key:"simulation",get:function(){return this._simulation}},{key:"shortId",get:function(){return this._id?this._id.slice(0,6):""}},{key:"state",get:function(){return this._state}},{key:"updatedAt",get:function(){return this._updatedAt},set:function(e){this._updatedAt=e}},{key:"consoleLog",value:function(e){Object(h["a"])(this,e,4)}},{key:"isSelected",value:function(){return this._id===this._app.project.view.state.project.id}},{key:"save",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._app.project.importProject(this));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{generateCode:!0};this.clean(),e.generateCode&&this.code.generate(),this._network.state.reset(),this.commitNetwork(this._network)}},{key:"clone",value:function(){var t=new e(this._app,this.toJSON());return t._id=Object(l["a"])(),t._updatedAt="",t.init(),t}},{key:"duplicate",value:function(){var e=this.clone();return this._app.project.state.projects.unshift(e),e}},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._app.project.deleteProject(this));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"export",value:function(){this._app.project.exportProject(this._id)}},{key:"exportWithActivities",value:function(){this._app.project.exportProject(this._id,!0)}},{key:"reload",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._app.project.reloadProject(this));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isRevisionSelected",value:function(){return this._rev===this._app.project.view.state.project.rev}},{key:"initNetwork",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.clearNetworkHistory(),this._network=new p["a"](this,e)}},{key:"networkRevisionIdx",get:function(){return this._networkRevisionIdx}},{key:"networkRevisions",get:function(){return this._networkRevisions}},{key:"clearNetworkHistory",value:function(){this._networkRevisions=[],this._networkRevisionIdx=-1}},{key:"commitNetwork",value:function(e){this.consoleLog("Commit network of "+e.project.shortId),this._networkRevisions=this._networkRevisions.slice(0,this._networkRevisionIdx+1);var t=this._app.project.view?this._app.project.view.config.maxNetworkRevisions:5;this._networkRevisions.length>t&&(this._networkRevisions=this._networkRevisions.slice(this._networkRevisions.length-t));var i,n=this._networkRevisions.length>0?this._networkRevisions[this._networkRevisions.length-1]:{};null!=n.codeHash&&n.codeHash===this._code.hash?(i=this._networkRevisions.pop(),e.nodes.filter((function(e){return e.model.isRecorder()})).forEach((function(e){i.nodes[e.idx].activity=e.activity.toJSON()}))):(i=e.toJSON(),i.codeHash=this._code.hash,this._code.hash===this._activityGraph.codeHash&&e.nodes.filter((function(e){return e.model.isRecorder()})).forEach((function(e){i.nodes[e.idx].activity=e.activity.toJSON()}))),this._networkRevisions.push(i),this._networkRevisionIdx=this._networkRevisions.length-1}},{key:"checkoutNetwork",value:function(){var e=this;this.consoleLog("Checkout network"),this._networkRevisionIdx>=this._networkRevisions.length&&(this._networkRevisionIdx=this._networkRevisions.length-1);var t=this._networkRevisions[this._networkRevisionIdx];if(this._network.update(t),this.code.generate(),this._activityGraph.init(),this._app.project.view.config.simulateAfterCheckout)setTimeout((function(){return e.runSimulation()}),1);else{var i=this.activities.map((function(e){return e.toJSON()}));this.initActivities(i)}}},{key:"networkOlder",value:function(){this._networkRevisionIdx>0&&this._networkRevisionIdx--,this.checkoutNetwork()}},{key:"networkOldest",value:function(){this._networkRevisionIdx=0,this.checkoutNetwork()}},{key:"networkNewer",value:function(){this._networkRevisionIdx<this._networkRevisions.length&&this._networkRevisionIdx++,this.checkoutNetwork()}},{key:"networkNewest",value:function(){this._networkRevisionIdx=this._networkRevisions.length-1,this.checkoutNetwork()}},{key:"initSimulation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._simulation=new m["a"](this,e)}},{key:"runSimulation",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.consoleLog("Run simulation"),this.cancelGettingActivityInsite(),!this.app.project.view.config.simulateWithInsite){e.next=4;break}return e.abrupt("return");case 4:return this._simulation.kernel.config.autoRNGSeed&&(this._simulation.kernel.rngSeed=Math.round(1e3*Math.random()),this._code.generate()),this._simulation.resetState(),this._simulation.running=!0,e.abrupt("return",this.app.backends.nestSimulator.instance.post("exec",{source:this._code.script,return:"response"}).then((function(e){var i;switch(e.status){case 0:t.openToast("Failed to find NEST Simulator.","error");break;case 200:i=e.data.data,t._simulation.state.biologicalTime=i.kernel.biological_time,i.positions&&i.activities.forEach((function(e){var t=e.nodeIds.map((function(e){return i.positions[e]}));e.nodePositions=t})),t.initActivities(i.activities),t.commitNetwork(t._network);break;default:t.openToast(e.data,"error");break}return e})).catch((function(e){e.response?t.openToast(e.response.data,"error"):e.request?t.openToast("Failed to find NEST Simulator.","error"):t.openToast(e.message,"error")})).finally((function(){t._simulation.running=!1})));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"runSimulationInsite",value:function(){var e=this;this.consoleLog("Run simulation with Insite"),this.cancelGettingActivityInsite(),this.app.project.view.config.simulateWithInsite&&(this._app.project.view.state.fromTime=0,this._simulation.kernel.config.autoRNGSeed&&(this._simulation.kernel.rngSeed=Math.round(1e3*Math.random()),this._code.generate()),this._simulation.resetState(),this._simulation.state.biologicalTime=this._simulation.time,this._simulation.running=!0,this._app.backends.nestSimulator.instance.post("exec",{source:this._code.script}).then((function(t){switch(t.status){case 0:e.openToast("Failed to find NEST Simulator.","error"),e.cancelGettingActivityInsite();break;case 200:e._app.backends.insiteAccess.instance.get("nest/simulationTimeInfo/").then((function(t){e.openToast("Simulation is finished.","success"),e._simulation.running=t.data.end>t.data.current+t.data.stepSize}));break;default:e.openToast(t.responseText,"error"),e.cancelGettingActivityInsite();break}return t})).catch((function(t){return e.openToast(t.response.data,"error"),e.cancelGettingActivityInsite(),t})).finally((function(){e._simulation.running=!1})),setTimeout((function(){return e.getActivitiesInsite()}),100))}},{key:"getActivitiesInsite",value:function(){var e=this;this.consoleLog("Get activites from Insite"),this._app.backends.insiteAccess.instance.get("nest/simulationTimeInfo/").catch((function(){setTimeout((function(){return e.getActivitiesInsite()}),100)})).then((function(t){if(null!=t){e._simulation.state.timeInfo=t.data,e.continuouslyUpdateActivityGraph();var i={};e._app.backends.insiteAccess.instance.get("nest/nodes/").then((function(t){t.data.forEach((function(e){null!=e.position&&(i[e.nodeId]=e.position)})),e.checkActivities(),e._state.hasSpikeActivities&&e.getSpikeActivitiesInsite(i),e._state.hasAnalogActivities&&e.getAnalogSignalActivitiesInsite(i)}))}}))}},{key:"cancelGettingActivityInsite",value:function(){this.activities.forEach((function(e){return e.lastFrame=!0}))}},{key:"getSpikeActivitiesInsite",value:function(e){var t=this;this.consoleLog("Get spike activities from Insite"),this._app.backends.insiteAccess.instance.get("nest/spikerecorders/").then((function(i){var n=i.data.map((function(t){var i={nodeCollectionId:t.spikerecorderId,nodeIds:t.nodeIds,nodePositions:[]};return Object.keys(e).length>0&&t.nodeIds.forEach((function(t){t in e&&i.nodePositions.push(e[t])})),i}));t.initActivities(n),t.spikeActivities.forEach((function(e){return e.getActivityInsite()}))}))}},{key:"getAnalogSignalActivitiesInsite",value:function(e){var t=this;this.consoleLog("Get analog signal activities from Insite"),this._app.backends.insiteAccess.instance.get("nest/multimeters/").then((function(i){var n=i.data.map((function(t){var i={times:[],senders:[]};t.attributes.forEach((function(e){i[e]=[]}));var n={events:i,nodeCollectionId:t.multimeterId,nodeIds:t.nodeIds,nodePositions:[]};return Object.keys(e).length>0&&t.nodeIds.forEach((function(t){t in e&&n.nodePositions.push(e[t])})),n}));t.initActivities(n),t.analogSignalActivities.forEach((function(e){return e.getActivityInsite()}))}))}},{key:"continuouslyUpdateActivityGraph",value:function(){var e=this;this.consoleLog("Update activity graph continuously"),this._app.project.view.state.refreshIntervalId=setInterval((function(){e.checkActivities(),e._activityGraph.update();var t=e.activities.every((function(e){return e.lastFrame}));t&&clearInterval(e._app.project.view.state.refreshIntervalId)}),1e3)}},{key:"activities",get:function(){var e=this._network?this._network.recorders.map((function(e){return e.activity})):[];return e.forEach((function(e,t){e.idx=t})),e}},{key:"analogSignalActivities",get:function(){return this.activities.filter((function(e){return e.hasAnalogData()}))}},{key:"neuronAnalogSignalActivities",get:function(){return this.activities.filter((function(e){return e.hasNeuronAnalogData()}))}},{key:"inputAnalogSignalActivities",get:function(){return this.activities.filter((function(e){return e.hasInputAnalogData()}))}},{key:"spikeActivities",get:function(){return this.activities.filter((function(e){return e.hasSpikeData()}))}},{key:"initActivityGraph",value:function(){this.consoleLog("Initialize activity graph of "+this._name),void 0!=this._activityGraph&&(this._activityGraph.init(),this._state.hasActivities&&this._activityGraph.update())}},{key:"initActivities",value:function(e){var t=this.activities;e.forEach((function(e,i){var n=t[i];n.init(e)})),this.checkActivities(),this._activityGraph.update()}},{key:"updateActivities",value:function(e){var t=this.activities;e.forEach((function(e,i){var n=t[i];n.update(e)})),this.checkActivities(),this._activityGraph.update()}},{key:"checkActivities",value:function(){var e=this.activities;this._state.hasActivities=e.length>0&&e.some((function(e){return e.hasEvents()})),this._state.hasAnalogActivities=e.length>0&&e.some((function(e){return e.hasAnalogData()})),this._state.hasSpikeActivities=e.length>0&&e.some((function(e){return e.hasSpikeData()})),this._state.hasSpatialActivities=!!this._state.hasActivities&&e.some((function(e){return e.hasEvents()&&e.nodePositions.length>0}))}},{key:"clean",value:function(){this.updateHash()}},{key:"resetState",value:function(){this._state.selected=!1,this._state.withActivities=!1}},{key:"openToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this._app.project.view.state.toast.message=e,this._app.project.view.state.toast.type=t,this._app.project.view.state.toast.message&&u["default"].$toast.open(this._app.project.view.state.toast)}},{key:"updateHash",value:function(){this._state.hash=Object(c["sha1"])({description:this._description,name:this._name,network:this._network.toJSON(),simulation:this._simulation.toJSON()})}},{key:"toJSON",value:function(){var e={activityGraph:this._activityGraph.toJSON(),createdAt:this._createdAt,description:this._description,id:this._id,name:this._name,network:this._network.toJSON(),simulation:this._simulation.toJSON(),updatedAt:this._updatedAt,version:this._app.state.version};return e}}]),e}()},1660:function(e,t,i){},"1d39":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("d4ec"),a=i("bee2"),s=i("ade3"),o=(i("4de4"),i("d3b7"),i("159b"),i("d81d"),i("bf19"),i("4468")),r=i("987c"),c=function(){function e(t){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(n["a"])(this,e),Object(s["a"])(this,"_config",{}),Object(s["a"])(this,"_data",[]),Object(s["a"])(this,"_imageButtonOptions",void 0),Object(s["a"])(this,"_layout",{}),Object(s["a"])(this,"_options",{}),Object(s["a"])(this,"_panel",void 0),Object(s["a"])(this,"_panels",[]),Object(s["a"])(this,"_project",void 0),Object(s["a"])(this,"_state",{dialog:!1,gd:void 0,ref:void 0}),this._project=t,this._config={autoResize:!0,autoSizable:!0,displaylogo:!1,displayModeBar:!0,editable:!0,modeBarButtons:[[{name:"Download plot",icon:o["Icons"].camera,click:function(e){i._state.gd=e,i._state.dialog=!0}}],["zoom2d","pan2d"],["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"],["hoverClosestCartesian","hoverCompareCartesian"]],scrollZoom:!0};var c=this._project.app.darkMode;this._layout={autosize:!0,barmode:"overlay",font:{color:c?"white":"#121212"},margin:{t:40},paper_bgcolor:c?"#121212":"white",plot_bgcolor:c?"#121212":"white",title:{text:"",xref:"paper",x:0}},this._panel=new r["a"](this),this.init(a)}return Object(a["a"])(e,[{key:"data",get:function(){return this._data}},{key:"currenttime",get:function(){var e=this._project.simulation.state;return e.timeInfo.current>0?e.timeInfo.current:e.biologicalTime}},{key:"endtime",get:function(){return this._project.simulation.state.biologicalTime}},{key:"imageButtonOptions",get:function(){return this._imageButtonOptions}},{key:"layout",get:function(){return this._layout}},{key:"options",get:function(){return this._options}},{key:"panel",get:function(){return this._panel}},{key:"panels",get:function(){return this._panels},set:function(e){this._panels=e,this.update()}},{key:"panelsVisible",get:function(){return this._panels.filter((function(e){return e.state.visible}))}},{key:"project",get:function(){return this._project}},{key:"state",get:function(){return this._state}},{key:"addPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{model:"spikeTimesRasterPlot"};this._panels.push(new r["a"](this,e))}},{key:"empty",value:function(){this._data=[]}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._project.checkActivities(),this._panels=[],t.length>0?t.forEach((function(t){return e.addPanel(t)})):(this._project.state.hasAnalogActivities&&this.addPanel({model:{id:"analogSignalPlot"}}),this._project.state.hasSpikeActivities&&(this.addPanel({model:{id:"spikeTimesRasterPlot"}}),this.addPanel({model:{id:"spikeTimesHistogram"}}))),this.updateVisiblePanelsLayout(),this.react()}},{key:"initEvents",value:function(){var e=this;this._state.ref.on("plotly_legendclick",(function(t){setTimeout((function(){null!=t&&null!=t.data&&t.data.forEach((function(t){var i=e._panels[t.panelIdx];"threshold"===t.id?i.model.state.visibleThreshold=t.visible:i.model.state.visible=t.visible}))}),1e3)}))}},{key:"initPanels",value:function(){this._panels.forEach((function(e){return e.model.init()}))}},{key:"removePanel",value:function(e){this._panels=this._panels.filter((function(t){return t!==e})),this.update()}},{key:"resetLayout",value:function(){this._layout=Object.assign({},this._layout)}},{key:"update",value:function(){var e=this;this.empty(),this.resetLayout(),this.updateVisiblePanelsLayout(),this.updatePanelModels(),this.updateLayoutColor(),this.panelsVisible.forEach((function(t){e.updateData(t),e.updateLayoutPanel(t)})),this.react()}},{key:"updateData",value:function(e){var t=this;e.model.data.forEach((function(i){i.panelIdx=e.idx,i.xaxis="x"+e.xaxis,i.yaxis="y"+e.yaxis,t._data.push(i)}))}},{key:"updateLayoutColor",value:function(){var e=this._project.app.darkMode;this._layout.font.color=e?"white":"#121212",this._layout.paper_bgcolor=e?"#121212":"white",this._layout.plot_bgcolor=e?"#121212":"white"}},{key:"updateLayoutPanel",value:function(e){this.layout["yaxis"+(e.yaxis>1?e.yaxis:"")]=e.layout.yaxis,this.layout["xaxis"+(e.xaxis>1?e.xaxis:"")]=e.layout.xaxis}},{key:"updatePanelModels",value:function(){this._panels.forEach((function(e){return e.model.update()}))}},{key:"updateRecordsColor",value:function(){this._panels.forEach((function(e){return e.model.updateRecordsColor()}))}},{key:"updateVisiblePanelsLayout",value:function(){this.panelsVisible.forEach((function(e){return e.updatePanelLayout()}))}},{key:"newPlot",value:function(e){var t=this;this._state.ref=e,o["newPlot"](this._state.ref,this._data,this._layout,this._config).then((function(){t.initEvents()}))}},{key:"react",value:function(){null!=this._state.ref&&o["react"](this._state.ref,this._data,this._layout)}},{key:"downloadImage",value:function(e){null!=this._state.gd&&o["downloadImage"](this._state.gd,e)}},{key:"toJSON",value:function(){return{panels:this._panels.map((function(e){return e.toJSON()}))}}}]),e}()},"1d81":function(e){e.exports=JSON.parse('{"name":"current input","network":{"nodes":[{"model":"dc_generator","size":1,"view":{"position":{"x":-150,"y":25}},"params":[{"id":"amplitude","value":1,"visible":true},{"id":"start","value":100,"visible":true},{"id":"stop","value":600,"visible":true}]},{"model":"iaf_psc_alpha","size":1,"view":{"position":{"x":0,"y":-25}},"params":[{"id":"C_m","value":250,"visible":true}]},{"model":"voltmeter","view":{"position":{"x":150,"y":25}},"params":[{"id":"interval","value":0.1,"visible":true}]}],"connections":[{"source":0,"target":1},{"source":2,"target":1}]},"simulation":{"kernel":{"resolution":0.1},"time":1000,"randomSeed":1},"version":"3.1.0"}')},"1f90":function(e){e.exports=JSON.parse('{"name":"Poisson spikes steps to model","network":{"nodes":[{"model":"inhomogeneous_poisson_generator","size":1,"view":{"position":{"x":50,"y":100}},"params":[{"id":"rate_times","value":[100,200,300,400,500,600,700,800,900,1000,1100,1200,1300,1400,1500,1600,1700,1800,1900,2000,2100,2200,2300,2400,2500,2600,2700,2800],"visible":true},{"id":"rate_values","value":[10,0,20,0,40,0,80,0,160,0,320,0,640,0,1280,0,2560,0,5120,0,10240,0,20480,0,40960,0,81920,0],"visible":true}]},{"model":"iaf_psc_alpha","view":{"position":{"x":200,"y":50}},"params":[]},{"model":"voltmeter","size":1,"view":{"position":{"x":350,"y":100}},"params":[{"id":"interval","value":0.1,"visible":true}]}],"connections":[{"source":0,"target":1},{"source":2,"target":1}]},"simulation":{"kernel":{"resolution":0.1},"time":3000,"randomSeed":1},"version":"3.1.0"}')},"23e6":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("d4ec"),a=i("bee2"),s=i("ade3"),o=(i("d3b7"),i("159b"),i("9129"),i("a9e3"),i("d81d"),i("7db0"),i("4de4"),i("b64b"),i("7909")),r=i("5a89"),c=i("262e"),l=i("2caf"),u=function(){function e(t){Object(n["a"])(this,e),Object(s["a"])(this,"_graphGroup",void 0),Object(s["a"])(this,"_layer",void 0),this._layer=t,this.initGraph()}return Object(a["a"])(e,[{key:"graphGroup",get:function(){return this._graphGroup},set:function(e){this._graphGroup=e}},{key:"layer",get:function(){return this._layer}},{key:"initGraph",value:function(){this._graphGroup=new r["i"],this.addGraph()}},{key:"addGraph",value:function(){}},{key:"render",value:function(e){this.resetObjects(),null!=e.senders&&(this._layer.activity.hasSpikeData()&&this.renderTrails(),0!==e.senders.length&&this.updateObjects(e))}},{key:"renderTrails",value:function(){var e=this.layer.config.trail;if(e.length>0)for(var t=e.length;t>0;t--){var i=this.layer.frames[this.layer.graph.state.frameIdx-t];i&&this.updateObjects(i,t)}}},{key:"resetObjects",value:function(){var e=this._layer.config.object.size;this._graphGroup.children.forEach((function(t){t.material.opacity=0;var i=t.userData.position;t.position.set(i.x,-1,i.z),t.scale.set(e,e,e)})),this._layer.state.reset=!0}},{key:"updateObjects",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this._layer.state.reset=!1;var n,a=this.layer.config.trail,s=this.layer.config.object,o=null!=i?i/(a.length+1):0,r=null!=i?a.fading?1-o:1:s.opacity,c=s.size;switch(a.mode){case"growing":n=(1+o)*c;break;case"shrinking":n=(1-o)*c;break;default:n=c}var l=this.layer.state.record,u=null!=l&&e.hasOwnProperty(l.id)?e[l.id]:[];e.senders.forEach((function(i,a){var s,o;if(u.length===e.senders.length){var d=l.normalize(u[a]);s=l.valueColor(d),o=d*c}else s=t.layer.activity.recorder.view.color,o=c;var h=t._graphGroup.children[i];t.updateMesh(h,{color:s,height:o,opacity:r,scale:n})}))}},{key:"updateMesh",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.material.color.set(t.color),e.material.opacity=t.opacity;var i=e.userData.position;e.position.set(i.x,i.y,i.z),e.scale.set(t.scale,t.scale,t.scale)}}]),e}(),d=function(e){Object(c["a"])(i,e);var t=Object(l["a"])(i);function i(e){return Object(n["a"])(this,i),t.call(this,e)}return Object(a["a"])(i,[{key:"addGraph",value:function(){var e=this,t=.01,i=new r["c"](t,t,t);this.layer.state.positions.forEach((function(n){var a=new r["m"]({color:e.layer.activity.recorder.view.color,transparent:!0}),s=new r["k"](i,a);s.userData.position=n,s.position.set(n.x,n.y,n.z),s.scale.set(t,t,t),s.layers.set(e.layer.activity.idx+1),e.graphGroup.add(s)}))}},{key:"updateMesh",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.material.color.set(t.color),e.material.opacity=t.opacity,e.scale.set(t.scale,t.scale,t.scale),e.position.setY(e.userData.position.y),this.layer.config.object.flatHeight?(e.scale.setY(.5),this.layer.config.object.flyingBoxes&&e.position.setY(.01*t.height)):(this.layer.activity.hasAnalogData()&&e.scale.setY(t.height),e.position.setY(e.userData.position.y+t.height/200))}}]),i}(u),h=function(e){Object(c["a"])(i,e);var t=Object(l["a"])(i);function i(e){return Object(n["a"])(this,i),t.call(this,e)}return Object(a["a"])(i,[{key:"addGraph",value:function(){var e=this,t=.01,i=new r["s"](t/2);this.layer.state.positions.forEach((function(n){var a=new r["l"]({color:e.layer.activity.recorder.view.color,transparent:!0}),s=new r["k"](i,a);s.userData.position=n,s.position.set(n.x,n.y,n.z),s.scale.set(t,t,t),s.layers.set(e.layer.activity.idx+1),e.graphGroup.add(s)}))}}]),i}(u),p=function(){function e(t,i){Object(n["a"])(this,e),Object(s["a"])(this,"_activity",void 0),Object(s["a"])(this,"_config",{object:{flatHeight:!1,flyingBoxes:!1,opacity:1,size:4},trail:{fading:!1,length:0,mode:"off"}}),Object(s["a"])(this,"_frames",void 0),Object(s["a"])(this,"_graph",void 0),Object(s["a"])(this,"_graphGroup",void 0),Object(s["a"])(this,"_model",void 0),Object(s["a"])(this,"_models",[{component:d,id:"BoxGeometryLayerModel",label:"box geometry"},{component:h,id:"SphereGeometryLayerModel",label:"sphere geometry"}]),Object(s["a"])(this,"_offset",{x:0,y:0,z:0}),Object(s["a"])(this,"_state",{layout:{extent:[[-1,0],[-.5,.5],[.5,-.5]]},modelSelected:void 0,ndim:-1,positions:[],record:void 0,records:[],reset:!1,visible:!0}),this._graph=t,this._activity=i}return Object(a["a"])(e,[{key:"activity",get:function(){return this._activity}},{key:"bins",get:function(){return this._graph.config.grid.divisions}},{key:"config",get:function(){return this._config}},{key:"frame",get:function(){return this.frames[this._graph.state.frameIdx]||{}}},{key:"frames",get:function(){return this._frames}},{key:"graph",get:function(){return this._graph}},{key:"graphGroup",get:function(){return this._graphGroup}},{key:"model",get:function(){return this._model}},{key:"modelSelected",get:function(){return this._state.modelSelected},set:function(e){this._state.modelSelected=e,this.init(),this._graph.updateScene()}},{key:"models",get:function(){return this._models}},{key:"offset",get:function(){return this._offset}},{key:"state",get:function(){return this._state}},{key:"positionsBinned",get:function(){var e=this.interval(-.5,.5,this.bins),t=this.interval(-.5,.5,this.bins),i=[];return e.forEach((function(e){t.forEach((function(t){i.push({x:e,z:t})}))})),i}},{key:"init",value:function(){this._activity.nodePositions.length>0&&(this._state.ndim=this._activity.nodePositions[0].length,this._state.positions=this._activity.nodePositions.map((function(e){return{x:e[0],y:3===e.length?e[1]:0,z:3===e.length?e[2]:e[1]}}))),this.initAnalogRecords(),this.initFrames(),this.initModel(),this.initGraph()}},{key:"initAnalogRecords",value:function(){var e=this;if(this._activity.hasAnalogData()&&(this._state.records=[],null!=this._activity.recorder.records&&(this._activity.recorder.records.forEach((function(t){t.activity=e._activity,e._state.records.push(t)})),null==this._state.record))){var t=this._state.records.find((function(e){return"V_m"===e.id}));this._state.record=null!=t?t:this._state.records[0]}}},{key:"initModel",value:function(){null==this._state.modelSelected&&(this._state.modelSelected=this._models[0]),this._model=new this._state.modelSelected.component(this)}},{key:"initGraph",value:function(){this._graphGroup=new r["i"],this._graphGroup.userData.layer=this,this._graphGroup.add(this.createGrids(this.bins)),this._graphGroup.add(this._model.graphGroup)}},{key:"createGrids",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=new r["i"],i={x:1,y:1,z:1};if(3===this._state.ndim){var n=new r["h"](1,e);n.geometry.rotateZ(Math.PI/2),n.position.x=-i.x/2,t.add(n)}var a=new r["h"](1,e);if(a.position.y=2===this._state.ndim?0:-i.y/2,t.add(a),3===this._state.ndim){var s=new r["h"](1,e);s.geometry.rotateX(Math.PI/2),s.position.z=-i.z/2,t.add(s)}return t}},{key:"interval",value:function(e,t,i){var n=(t-e)/i/2,a=o["b"](e,t,n);return a._data.filter((function(e,t){return t%2===1}))}},{key:"initFrames",value:function(){this.addEmptyFrames(),this.updateFrames()}},{key:"addEmptyFrames",value:function(){this._frames=[];for(var e=0;e<this._graph.state.nSamples;e++)this._frames.push({})}},{key:"updateFrames",value:function(){var e=this,t=Object.assign({},this._activity.events);if(null!=t.senders){this._activity.hasAnalogData()&&this._state.records.forEach((function(e){return e.update()})),t.senders=t.senders.map((function(t){return e._activity.nodeIds.indexOf(t)})),this._frames.forEach((function(e){Object.keys(t).forEach((function(t){e[t]=[]}))}));var i=this._graph.config.frames.sampleRate;t.times.forEach((function(n,a){var s=Math.floor(n*i),o=e._frames[s-1];null!=o&&(Object.keys(t).forEach((function(e){o[e].push(t[e][a])})),e._frames[s-1]=o)}))}}},{key:"renderFrame",value:function(){this._state.visible?this._model.render(this.frame):this._state.reset||this._model.resetObjects()}}]),e}(),v=i("4721"),m=i("3191"),f=i.n(m),_=function(){function e(t,i){Object(n["a"])(this,e),Object(s["a"])(this,"_animationFrameIdx",void 0),Object(s["a"])(this,"_camera",void 0),Object(s["a"])(this,"_clippingPlanes",[]),Object(s["a"])(this,"_clock",void 0),Object(s["a"])(this,"_config",void 0),Object(s["a"])(this,"_controls",void 0),Object(s["a"])(this,"_delta",0),Object(s["a"])(this,"_graph",void 0),Object(s["a"])(this,"_layerGraphGroup",void 0),Object(s["a"])(this,"_ref",void 0),Object(s["a"])(this,"_renderer",void 0),Object(s["a"])(this,"_scene",void 0),Object(s["a"])(this,"_stats",void 0),Object(s["a"])(this,"_useStats",!1),this._graph=t,this._ref=i,this._config={camera:{control:!1,distance:12,rotation:{theta:0,speed:0},position:{x:16,y:8,z:8}}},this._animationFrameIdx=-1,this._camera=new r["n"](5,1,1,1e4),this._renderer=new r["x"]({antialias:!0}),this._controls=new v["a"](this._camera,this._renderer.domElement),this._clock=new r["d"],this._scene=new r["r"],this.updateSceneBackground(),this._stats=new f.a,this._useStats=this._graph.project.app.config.devMode,this.init()}return Object(a["a"])(e,[{key:"camera",get:function(){return this._camera}},{key:"config",get:function(){return this._config}},{key:"controls",get:function(){return this._controls}},{key:"layerGraphGroup",get:function(){return this._layerGraphGroup}},{key:"init",value:function(){var e=this;this.setCameraPosition(),this._scene.add(this._camera),this._scene.add(new r["b"](.1)),this._scene.add(this.createLights()),this._scene.add(this.createPlaneHelpers()),this._renderer.setPixelRatio(window.devicePixelRatio),this.resize(),window.addEventListener("resize",(function(){return e.resize()})),this._ref.appendChild(this._renderer.domElement),this._useStats&&(this._stats.showPanel(0),document.body.appendChild(this._stats.dom)),this.update(),this.animate()}},{key:"createLights",value:function(){var e=new r["i"],t=new r["f"](16777215,1);t.position.set(1,1,.5).normalize(),e.add(t);var i=new r["a"](5263440);return e.add(i),e}},{key:"createPlaneHelpers",value:function(){this._clippingPlanes.push(new r["o"](new r["w"](-1,0,0),1)),this._clippingPlanes.push(new r["o"](new r["w"](0,-1,0),1)),this._clippingPlanes.push(new r["o"](new r["w"](0,0,-1),1));var e=new r["i"];return e.add(new r["p"](this._clippingPlanes[0],2,16711680)),e.add(new r["p"](this._clippingPlanes[1],2,65280)),e.add(new r["p"](this._clippingPlanes[2],2,255)),e.visible=!1,e}},{key:"resize",value:function(){this._camera.aspect=this._ref.clientWidth/this._ref.clientHeight,this._camera.updateProjectionMatrix(),this._renderer.setSize(this._ref.clientWidth,this._ref.clientHeight),this._renderer.render(this._scene,this._camera)}},{key:"update",value:function(){this.updateSceneBackground(),this._scene.remove(this._layerGraphGroup),this._layerGraphGroup=new r["i"],this._graph.addLayersToGroup(this._layerGraphGroup),this._scene.add(this._layerGraphGroup)}},{key:"updateSceneBackground",value:function(){this._scene.background=this._graph.project.app.darkMode?new r["e"](1184274):new r["e"](16711422)}},{key:"animate",value:function(){var e=this;this._animationFrameIdx=requestAnimationFrame((function(){return e.animate()})),this._delta+=this._clock.getDelta();var t=1/this._graph.config.frames.rate;if(!(this._delta<=t)){this._stats&&this._stats.begin();var i=this._config.camera;i.control&&(i.rotation.speed>0&&this.moveCamera(),this.setCameraPosition()),this._graph.updateFrame(),this._renderer.render(this._scene,this._camera),this._stats&&this._stats.end(),this._delta=this._delta%t}}},{key:"moveCamera",value:function(){var e=this._config.camera;e.rotation.theta+=e.rotation.speed,e.rotation.theta=e.rotation.theta%360;var t=e.rotation.theta*(Math.PI/180),i=this._config.camera.position;i.x=e.distance*Math.abs(Math.cos(t)+Math.cos(4*t)),i.z=e.distance*Math.abs(Math.sin(t)+Math.sin(4*t)),this._camera.lookAt(this._scene.position)}},{key:"setCameraPosition",value:function(){var e=this._config.camera.position;this._camera.position.set(e.x,e.y,e.z),this._camera.lookAt(this._scene.position)}},{key:"destroy",value:function(){cancelAnimationFrame(this._animationFrameIdx),this._ref.firstChild===this._renderer.domElement&&this._ref.removeChild(this._renderer.domElement),document.body.lastChild===this._stats.dom&&document.body.removeChild(this._stats.dom),this._renderer.forceContextLoss()}},{key:"disableCameraControl",value:function(){this._config.camera.rotation.theta=0,this._config.camera.control=!0}},{key:"enableCameraControl",value:function(){this._config.camera.control=!1}}]),e}(),b=function(){function e(t){Object(n["a"])(this,e),Object(s["a"])(this,"_config",{frames:{rate:24,sampleRate:1,speed:1,windowSize:1},grid:{divisions:10}}),Object(s["a"])(this,"_layers",[]),Object(s["a"])(this,"_project",void 0),Object(s["a"])(this,"_scene",void 0),Object(s["a"])(this,"_state",{frameIdx:0,nSamples:0}),this._project=t,this.init()}return Object(a["a"])(e,[{key:"config",get:function(){return this._config}},{key:"layers",get:function(){return this._layers}},{key:"project",get:function(){return this._project}},{key:"scene",get:function(){return this._scene}},{key:"state",get:function(){return this._state}},{key:"init",value:function(){this._layers=[]}},{key:"update",value:function(){var e=this;this._state.nSamples=this._project.simulation.state.biologicalTime*this._config.frames.sampleRate,this.project.activities.forEach((function(t){var i=new p(e,t),n=t.idx;null==e._layers[n]?n=e._layers.push(i)-1:i.activity!==t&&(e._layers[n]=i),e._layers[n].init()})),this.updateScene()}},{key:"addLayersToGroup",value:function(e){this._layers.forEach((function(t){e.add(t.graphGroup)}))}},{key:"updateFrame",value:function(){this.updateFrameIdx(),this.renderFrameLayers()}},{key:"updateFrameIdx",value:function(){var e=this._config.frames;0===this._state.nSamples||Number.isNaN(this.state.frameIdx)?this.state.frameIdx=0:this._state.frameIdx=(this._state.frameIdx+e.speed*e.windowSize+this._state.nSamples)%this._state.nSamples}},{key:"renderFrameLayers",value:function(){this._layers.forEach((function(e){e.renderFrame()}))}},{key:"stepForwardFrame",value:function(){this.pauseFrameAnimation(),this._state.frameIdx=(this._state.frameIdx+1)%this._state.nSamples}},{key:"stepBackwardFrame",value:function(){this.pauseFrameAnimation(),this._state.frameIdx=(this._state.frameIdx-1+this._state.nSamples)%this._state.nSamples}},{key:"incrementFrameSpeed",value:function(){this._config.frames.speed+=1}},{key:"decrementFrameSpeed",value:function(){this._config.frames.speed-=1}},{key:"pauseFrameAnimation",value:function(){this._config.frames.speed=0}},{key:"playFrameAnimation",value:function(){this._config.frames.speed=1}},{key:"playBackwardFrameAnimation",value:function(){this._config.frames.speed=-1}},{key:"initScene",value:function(e){this.destroyScene(),this._scene=new _(this,e),this.updateScene()}},{key:"updateScene",value:function(){var e=this;this._scene&&(this._scene.update(),this._layers.forEach((function(t){return e._scene.camera.layers.enable(t.activity.idx+1)})))}},{key:"destroyScene",value:function(){this._scene&&this._scene.destroy()}}]),e}()},"28ca":function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("d4ec"),a=i("bee2"),s=i("ade3"),o=(i("4de4"),i("d3b7"),i("7db0"),i("159b"),i("d81d"),i("bf19"),i("5e7e")),r=i("257e"),c=i("262e"),l=i("2caf"),u=(i("99af"),i("a15b"),i("fa0a")),d=function(e){Object(c["a"])(i,e);var t=Object(l["a"])(i);function i(e){var a;return Object(n["a"])(this,i),a=t.call(this),Object(s["a"])(Object(r["a"])(a),"_synapse",void 0),a._synapse=e,a}return Object(a["a"])(i,[{key:"specs",value:function(){var e=[];"static_synapse"!==this._synapse.modelId&&e.push('"synapse_model": "'.concat(this._synapse.modelId,'"')),this._synapse.filteredParams.forEach((function(t){return e.push('"'.concat(t.id,'": ').concat(t.toCode()))}));var t="";return e.length>0&&(t+=", syn_spec={"+this._(),t+=e.join(","+this._()),t+=this.end()+"}"),t}}]),i}(u["a"]),h=function(){function e(t,i){Object(n["a"])(this,e),Object(s["a"])(this,"_name","Synapse"),Object(s["a"])(this,"_code",void 0),Object(s["a"])(this,"_connection",void 0),Object(s["a"])(this,"_modelId",void 0),Object(s["a"])(this,"_params",[]),this._connection=t,this._code=new d(this),null!=i&&i.params.length>0?(this._modelId=i.model||"static_synapse",this.initParameters(i)):(this._modelId="static_synapse",this.initParameters())}return Object(a["a"])(e,[{key:"code",get:function(){return this._code}},{key:"connection",get:function(){return this._connection}},{key:"model",get:function(){return this._connection.network.project.app.model.getModel(this._modelId)},set:function(e){this.modelId=e.id}},{key:"filteredParams",get:function(){return this._params.filter((function(e){return e.visible}))}},{key:"models",get:function(){var e=this.model.elementType;return this._connection.network.project.app.model.filterModels(e)}},{key:"modelId",get:function(){return this._modelId},set:function(e){this._modelId=e,this.initParameters(),this._connection.network.clean(),this.synapseChanges()}},{key:"name",get:function(){return this._name}},{key:"params",get:function(){return this._params}},{key:"weight",get:function(){var e=this._params.find((function(e){return"weight"===e.id}));return e?e.value:1},set:function(e){var t=this._params.find((function(e){return"weight"===e.id}));t.value=e}},{key:"delay",get:function(){var e=this._params.find((function(e){return"delay"===e.id}));return e?e.value:1},set:function(e){var t=this._params.find((function(e){return"delay"===e.id}));t.value=e}},{key:"synapseChanges",value:function(){this._connection.connectionChanges()}},{key:"initParameters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._params=[],this.model&&t&&t.hasOwnProperty("params")?this.model.params.forEach((function(i){var n=t.params.find((function(e){return e.id===i.id}));e.addParameter(n||i)})):this.model?this.model.params.forEach((function(t){return e.addParameter(t)})):t.hasOwnProperty("params")&&t.params.forEach((function(t){return e.addParameter(t)}))}},{key:"addParameter",value:function(e){this._params.push(new o["a"](this,e))}},{key:"showAllParams",value:function(){this.params.forEach((function(e){return e.state.visible=!0}))}},{key:"hideAllParams",value:function(){this.params.forEach((function(e){return e.state.visible=!1}))}},{key:"inverseWeight",value:function(){var e=this._params.find((function(e){return"weight"===e.id}));e.state.visible=!0,e.value=-1*e.value,this._connection.connectionChanges()}},{key:"toJSON",value:function(){var e={model:this._modelId,params:this._params.map((function(e){return e.toJSON()}))};return e}}]),e}()},"2c33":function(e){e.exports=JSON.parse('{"nodeRadius":20,"strokeWidth":3}')},"2fe8":function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var n=i("2909"),a=i("d4ec"),s=i("bee2"),o=i("257e"),r=i("262e"),c=i("2caf"),l=i("ade3"),u=(i("4de4"),i("d3b7"),i("d81d"),i("fb6a"),i("159b"),i("7db0"),i("bf19"),i("a434"),i("99af"),i("6062"),i("3ca3"),i("ddb0"),i("4e82"),i("caad"),i("2532"),i("d442")),d=i("6ecc"),h=(i("5db7"),i("73d9"),i("cb29"),i("38cf"),function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(this,i),t.call(this,e,n)}return Object(s["a"])(i,[{key:"init",value:function(e){this.initEvents(e),this.updateActivityRecords()}},{key:"update",value:function(e){null!=e.events&&(this.updateEvents(e),this.updateActivityRecords())}},{key:"updateActivityRecords",value:function(){this.state.records=Object(n["a"])(this.recorder.records)}},{key:"clone",value:function(){return new i(this.recorder,this.toJSON())}},{key:"repeat",value:function(e){return e.simulationTimes.flatMap((function(t){return Array(e.nodeIds.length).fill(t)}))}},{key:"tile",value:function(e){return e.simulationTimes.flatMap((function(){return e.nodeIds}))}},{key:"getActivityInsite",value:function(){var e=this,t="V_m",i="nest/multimeters/".concat(this.nodeCollectionId,"/attributes/").concat(t,"/?fromTime=").concat(this.lastTime);this.project.app.backends.insiteAccess.instance.get(i).then((function(i){var n=e.repeat(i.data),a=e.tile(i.data),s={events:{times:n,senders:a},nodeIds:i.data.nodeIds,times:i.data.simulationTimes};s.events[t]=i.data.values,e.update(s),e.lastFrame=e.lastTime+1>=e.endtime,setTimeout((function(){e.lastFrame||e.getActivityInsite()}),100)}))}}]),i}(d["a"])),p=i("669f"),v=i("bcdc"),m=i("5e7e"),f=(i("b0c0"),i("a15b"),i("fa0a")),_=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var n;return Object(a["a"])(this,i),n=t.call(this),Object(l["a"])(Object(o["a"])(n),"_node",void 0),n._node=e,n}return Object(s["a"])(i,[{key:"label",get:function(){return this._node.view.label}},{key:"create",value:function(){var e="";e+="".concat(this.label,' = nest.Create("').concat(this._node.modelId,'"');var t=!this._node.spatial.hasPositions()||this._node.spatial.hasPositions()&&"free"===this._node.spatial.positions.name;t&&!this._node.model.isRecorder()&&(e+=", ".concat(this._node.size));var i=this.nodeParams();return i.length>0&&(e+=", params=".concat(i)),this._node.spatial.hasPositions()&&(e+=","+(i.length>0?" ":this._())+"positions="+this._node.spatial.positions.toCode()),e+=")",e+"\n"}},{key:"XOR",value:function(e,t){return(e||t)&&!(e&&t)}},{key:"nodeParams",value:function(){var e="";if(void 0==this._node.params||0===this._node.params.length)return e;var t=this._node.filteredParams.map((function(e){return'"'.concat(e.id,'": ').concat(e.toCode())}));if(this._node.model.isMultimeter()){var i=this._node.records.map((function(e){return'"'+e.id+'"'}));t.push('"record_from": ['.concat(i.join(","),"]"))}return"recorder"===this._node.model.elementType&&this._node.network.project.app.project.view.config.simulateWithInsite&&t.push('"record_to": "insite"'),t.length>0&&(e+="{"+this._(),e+=t.join(","+this._()),e+=this.end()+"}"),e}}]),i}(f["a"]),b=i("898b"),g=function(){function e(t,i){Object(a["a"])(this,e),Object(l["a"])(this,"_activity",void 0),Object(l["a"])(this,"_color",void 0),Object(l["a"])(this,"_colorMap",{max:-55,min:-70,reverse:!1,scale:"Spectral"}),Object(l["a"])(this,"_groupId",void 0),Object(l["a"])(this,"_id",void 0),Object(l["a"])(this,"_label",void 0),Object(l["a"])(this,"_node",void 0),Object(l["a"])(this,"_nodeSize",void 0),Object(l["a"])(this,"_unit",void 0),this._id=i.id,this._label=i.label,this._node=t,this._unit=i.unit,this.updateGroupID(),this.updateColor()}return Object(s["a"])(e,[{key:"activity",get:function(){return this._activity},set:function(e){this._activity=e}},{key:"color",get:function(){return this._color},set:function(e){this._color=e}},{key:"colorMap",get:function(){return this._colorMap}},{key:"darkMode",get:function(){return this._activity.project.app.darkMode}},{key:"groupId",get:function(){return this._groupId}},{key:"id",get:function(){return this._id}},{key:"label",get:function(){return this._label}},{key:"labelCapitalize",get:function(){return this._label.charAt(0).toUpperCase()+this._label.slice(1)}},{key:"node",get:function(){return this._node}},{key:"nodeLabel",get:function(){return this._node.view.label}},{key:"nodeSize",get:function(){return this._nodeSize}},{key:"times",get:function(){return this._activity.events.times}},{key:"unit",get:function(){return this._unit}},{key:"values",get:function(){return this._activity.events[this._id]}},{key:"hasEvent",value:function(){return this._activity.events.hasOwnProperty(this._id)}},{key:"hasValues",value:function(){return this.values.length>0}},{key:"update",value:function(){this._nodeSize=this._activity.nodeIds.length,this.updateGroupID(),this.updateState()}},{key:"updateColor",value:function(){this._color=this.node.view.color}},{key:"updateGroupID",value:function(){this._groupId=this.id+"."+this.node.view.label}},{key:"updateState",value:function(){if(this.hasEvent()&&this.hasValues()){var e=this.values;this._colorMap.max=b["max"](e),this._colorMap.min=b["min"](e)}}},{key:"normalize",value:function(e){var t=this._colorMap.min,i=this._colorMap.max;return(e-t)/(i-t)}},{key:"valueColor",value:function(e){var t=b["interpolate"+this._colorMap.scale];return t(this._colorMap.reverse?1-e:e)}},{key:"toJSON",value:function(){return{id:this._id,color:this._color,groupId:this._groupId}}}]),e}(),y=i("b69b"),k=function(){function e(t){Object(a["a"])(this,e),Object(l["a"])(this,"_node",void 0),this._node=t}return Object(s["a"])(e,[{key:"node",get:function(){return this._node}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._node.consoleLog("Focus node of "+this._node.network.project.shortId);var t=this._node.network.state;e&&t.resetFocus(),t.focusedNode=this._node}},{key:"isFocused",value:function(){return this._node.network.state.isNodeFocused(this._node)}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._node.consoleLog("Select node of "+this._node.network.project.shortId);var t=this._node.network.state;e&&t.resetSelection(),t.selectedNode=this._node}},{key:"isAnySelected",value:function(){return null!=this._node.network.state.selectedNode}},{key:"isSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._node.network.state.isNodeSelected(this._node,e)}}]),e}(),j=(i("ac1f"),i("1276"),function(){function e(t,i){Object(a["a"])(this,e),Object(l["a"])(this,"_color",void 0),Object(l["a"])(this,"_label",void 0),Object(l["a"])(this,"_node",void 0),Object(l["a"])(this,"_position",{x:0,y:0}),Object(l["a"])(this,"_positions",[]),Object(l["a"])(this,"_visible",!0),this._node=t,this._color=i.color,this._position=i.position,this._visible=i.visible||!0}return Object(s["a"])(e,[{key:"color",get:function(){var e=this;if("string"===typeof this._color)return this._color;if(this._node.model.isRecorder()){var t=this._node.network.connections.filter((function(t){return t.sourceIdx===e._node.idx||t.targetIdx===e._node.idx}));if(1===t.length&&t[0].sourceIdx!==t[0].targetIdx){var i=t[0],n=i.sourceIdx===this._node.idx?i.target:i.source;return n.view.color}}return this._node.network.getNodeColor(this._node.idx)},set:function(e){this._color="none"===e?void 0:e,this._node.network.clean()}},{key:"label",get:function(){var e,t=this;if(this._label)return this._label;var i=this._node.model.elementType;switch(i){case void 0:return e=this._node.network.nodes.indexOf(this._node),"n"+(e+1);case"neuron":return e=this._node.network.neurons.indexOf(this._node),"n"+(e+1);default:var n=this._node.network.nodes.filter((function(e){return e.modelId===t._node.modelId}));e=n.indexOf(this._node);var a=this._node.model.abbreviation||this._node.modelId.split("_").map((function(e){return e[0]})).join("");return a+(e+1)}}},{key:"node",get:function(){return this._node}},{key:"position",get:function(){return this._position}},{key:"positions",get:function(){return this._positions},set:function(e){this._positions=e}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e}},{key:"weight",get:function(){var e=this;if(this._node.model.isRecorder())return"";var t=this._node.network.connections.filter((function(t){return t.source.idx===e._node.idx&&!t.target.model.isRecorder()}));if(t.length>0){var i=t.map((function(e){return e.synapse.weight}));return i.every((function(e){return e>0}))?"excitatory":i.every((function(e){return e<0}))?"inhibitory":"mixed"}return""}},{key:"paramsVisible",value:function(){return this._node.params.filter((function(e){return e.visible})).map((function(e){return e.id}))}},{key:"recordLabel",value:function(e){var t=this._node.recordables,i=t.find((function(t){return t.id==e}));if(void 0==i)return e;var n="".concat(i.label.slice(0,1).toUpperCase()).concat(i.label.slice(1));return i.unit&&(n+=" (".concat(i.unit,")")),n}},{key:"clean",value:function(){}},{key:"toJSON",value:function(){var e={color:this._color,position:this._position,visible:this._visible};return e}}]),e}()),x=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(this,i),n=t.call(this,e),Object(l["a"])(Object(o["a"])(n),"_times",void 0),n.init(s),n}return Object(s["a"])(i,[{key:"init",value:function(e){this.initEvents(e),this.initTimes()}},{key:"initTimes",value:function(){var e=this;this._times=Object.create(null),this.nodeIds.forEach((function(t){return e._times[t]=[]})),this.updateTimes(this.events)}},{key:"update",value:function(e){void 0!=e.events&&(this.updateEvents(e),this.updateTimes(e.events))}},{key:"updateTimes",value:function(e){var t=this;e.senders.forEach((function(e,i){t._times[e].push(t.events.times[i])}))}},{key:"ISI",value:function(){var e=this;return this.nodeIds.map((function(t){return e.getISI(e._times[t])}))}},{key:"getISI",value:function(e){if(e.length<=1)return[0];e.sort((function(e,t){return e-t}));for(var t=[],i=0;i<e.length-1;i++)t.push(e[i+1]-e[i]);return t}},{key:"getAverage",value:function(e){var t=e.length,i=e.reduce((function(e,t){return e+t}),0);return i/t||0}},{key:"getVariance",value:function(e){var t=e.length,i=this.getAverage(e);return e.map((function(e){return Math.pow(e-i,2)})).reduce((function(e,t){return e+t}))/t}},{key:"getStandardDeviation",value:function(e){return Math.sqrt(this.getVariance(e))}},{key:"clone",value:function(){return new i(this.recorder,this.toJSON())}},{key:"getActivityInsite",value:function(){var e=this,t="nest/spikerecorders/".concat(this.nodeCollectionId,"/spikes/?fromTime=").concat(this.lastTime);this.project.app.backends.insiteAccess.instance.get(t).then((function(t){e.update({events:{senders:t.data.nodeIds,times:t.data.simulationTimes}}),e.lastFrame=t.data.lastFrame,t.data.lastFrame||setTimeout((function(){e.getActivityInsite()}),500)}))}}]),i}(d["a"]),w=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e,n){var s;return Object(a["a"])(this,i),s=t.call(this,"Node"),Object(l["a"])(Object(o["a"])(s),"_name","Node"),Object(l["a"])(Object(o["a"])(s),"_activity",void 0),Object(l["a"])(Object(o["a"])(s),"_code",void 0),Object(l["a"])(Object(o["a"])(s),"_doc",{}),Object(l["a"])(Object(o["a"])(s),"_idx",void 0),Object(l["a"])(Object(o["a"])(s),"_hash",void 0),Object(l["a"])(Object(o["a"])(s),"_modelId",void 0),Object(l["a"])(Object(o["a"])(s),"_network",void 0),Object(l["a"])(Object(o["a"])(s),"_params",void 0),Object(l["a"])(Object(o["a"])(s),"_positions",[]),Object(l["a"])(Object(o["a"])(s),"_recordables",[]),Object(l["a"])(Object(o["a"])(s),"_records",[]),Object(l["a"])(Object(o["a"])(s),"_size",void 0),Object(l["a"])(Object(o["a"])(s),"_spatial",void 0),Object(l["a"])(Object(o["a"])(s),"_state",void 0),Object(l["a"])(Object(o["a"])(s),"_view",void 0),s._idx=e.nodes.length,s._modelId=n.model,s._network=e,s._size=n.size||1,s._doc=n,s._code=new _(Object(o["a"])(s)),s._view=new j(Object(o["a"])(s),n.view),s._state=new k(Object(o["a"])(s)),s._spatial=new y["a"](Object(o["a"])(s),n.spatial),s.initParameters(n),s.initActivity(n.activity),s.updateHash(),s}return Object(s["a"])(i,[{key:"activity",get:function(){return this._activity},set:function(e){this._activity=e}},{key:"code",get:function(){return this._code}},{key:"filteredParams",get:function(){return this._params.filter((function(e){return e.visible}))}},{key:"hash",get:function(){return this._hash}},{key:"idx",get:function(){return this._idx}},{key:"model",get:function(){return this._network.project.app.model.getModel(this._modelId)},set:function(e){this.modelId=e.id}},{key:"models",get:function(){var e=this.model.elementType;return this._network.project.app.model.filterModels(e)}},{key:"modelId",get:function(){return this._modelId},set:function(e){this._modelId=e,this.initParameters(),this.initActivity(),this.updateRecords(),this.updateRecordsColor(),this.nodeChanges(),this.model.isRecorder()&&this._network.project.initActivityGraph()}},{key:"n",get:function(){return this._size}},{key:"name",get:function(){return this._name}},{key:"network",get:function(){return this._network}},{key:"nodes",get:function(){return this.model.isSpikeRecorder()?this.sources:this.model.isAnalogRecorder()?this.targets:[]}},{key:"params",get:function(){return this._params},set:function(e){var t=this;this._params=e.map((function(e){return new m["a"](t,e)}))}},{key:"positions",get:function(){return this._positions}},{key:"recordables",get:function(){return this._recordables}},{key:"records",get:function(){return this._records},set:function(e){this._records=e}},{key:"size",get:function(){return this._size},set:function(e){this._size=e,this.nodeChanges()}},{key:"shortHash",get:function(){return this._hash?this._hash.slice(0,6):""}},{key:"sources",get:function(){var e=this,t=this._network.connections.filter((function(t){return t.targetIdx===e._idx})).map((function(e){return e.source}));return t}},{key:"spatial",get:function(){return this._spatial}},{key:"targets",get:function(){var e=this,t=this._network.connections.filter((function(t){return t.sourceIdx===e._idx})).map((function(e){return e.target}));return t}},{key:"state",get:function(){return this._state}},{key:"view",get:function(){return this._view}},{key:"consoleLog",value:function(e){Object(v["a"])(this,e,6)}},{key:"isExcitatoryNeuron",value:function(){return this.model.isNeuron()&&"excitatory"===this._view.weight}},{key:"isInhibitoryNeuron",value:function(){return this.model.isNeuron()&&"inhibitory"===this._view.weight}},{key:"nodeChanges",value:function(){this.clean(),this._spatial.updateHash(),this._network.networkChanges()}},{key:"initActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.model.isRecorder()&&(this.model.isSpikeRecorder()?this._activity=new x(this,e):this.model.isAnalogRecorder()?this._activity=new h(this,e):this._activity=new d["a"](this,e))}},{key:"initParameters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._params=[],this.model&&t&&this.hasParameters(t)?this.model.params.forEach((function(i){var n=t.params.find((function(e){return e.id===i.id}));e.addParameter(n||i.toJSON())})):this.model?this.model.params.forEach((function(t){return e.addParameter(t.toJSON())})):this.hasParameters(t)&&t.params.forEach((function(t){return e.addParameter(t)}))}},{key:"hasParameters",value:function(e){return e.hasOwnProperty("params")}},{key:"addParameter",value:function(e){this._params.push(new m["a"](this,e))}},{key:"hasParameter",value:function(e){return void 0!==this._params.find((function(t){return t.id===e}))}},{key:"getParameter",value:function(e){if(this.hasParameter(e))return this._params.find((function(t){return t.id===e})).value}},{key:"resetParameters",value:function(){this._params.forEach((function(e){return e.reset()})),this.nodeChanges()}},{key:"hideAllParams",value:function(){this.params.map((function(e){return e.state.visible=!1}))}},{key:"showAllParams",value:function(){this.params.map((function(e){return e.state.visible=!0}))}},{key:"setWeights",value:function(e){var t=this,i=this._network.connections.filter((function(e){return e.source.idx===t._idx&&!e.target.model.isRecorder()}));i.forEach((function(t){var i=t.synapse.params.find((function(e){return"weight"===e.id}));i.value=("inhibitory"===e?-1:1)*Math.abs(i.value),i.visible=!0})),this.nodeChanges()}},{key:"toggleSpatial",value:function(){var e=1===this._size?"grid":"free";this._spatial.init({positions:this.spatial.hasPositions()?void 0:e}),this.nodeChanges()}},{key:"updateHash",value:function(){this._hash=Object(u["sha1"])({color:this.view.color,idx:this.idx,darkMode:this._network.project.app.darkMode})}},{key:"removeRecord",value:function(e){this._records.splice(this._records.indexOf(e),1),this._records=Object(n["a"])(this._records)}},{key:"updateRecords",value:function(){var e=this;if(0!==this.targets.length){var t,i=[];if(this.targets.length>0)if(this.model.isMultimeter()){var a=this.targets.map((function(e){return Object(n["a"])(e.model.recordables)}));if(a.length>0){var s,o=(s=[]).concat.apply(s,Object(n["a"])(a));i=Object(n["a"])(new Set(o)),i.sort((function(e,t){return e.id-t.id}))}}else i.push(this.model.config.recordables.find((function(e){return"V_m"===e.id})));if(t=i.map((function(e){return e.id})),this._recordables=Object(n["a"])(this._recordables.filter((function(e){return t.includes(e.id)}))),t=this._recordables.map((function(e){return e.id})),i.filter((function(e){return!t.includes(e.id)})).forEach((function(t){e._recordables.push(new g(e,t))})),null!=this._doc.records){var r=this._doc.records.map((function(e){return e.id}));this._records=Object(n["a"])(this._recordables.filter((function(e){return r.includes(e.id)})))}else if(this._records.length>0){var c=this._records.map((function(e){return e.id}));this._records=Object(n["a"])(this._recordables.filter((function(e){return c.includes(e.id)}))),this.records.forEach((function(e){return e.updateGroupID()}))}else this._records=Object(n["a"])(this._recordables)}}},{key:"updateRecordsColor",value:function(){var e=this;this._recordables.forEach((function(t){return t.color=e._view.color})),this._network.project.activityGraph.activityChartGraph.updateRecordsColor()}},{key:"clean",value:function(){this._idx=this._network.nodes.indexOf(this),this.view.clean(),this.updateHash(),this.updateRecords()}},{key:"clone",value:function(){return new i(this._network,this.copy(this.toJSON()))}},{key:"remove",value:function(){this._network.deleteNode(this)}},{key:"copy",value:function(e){return Object.assign({},e)}},{key:"toJSON",value:function(){var e={model:this._modelId,params:this._params.map((function(e){return e.toJSON()})),size:this._size,view:this._view.toJSON()};return this.model.isMultimeter()&&(e.records=this._records.map((function(e){return e.toJSON()}))),this._spatial.hasPositions()&&(e.spatial=this._spatial.toJSON()),e}}]),i}(p["a"])},3443:function(e){e.exports=JSON.parse('{"abbreviation":"sr","id":"spike_recorder","elementType":"recorder","label":"spike recorder","params":[{"id":"start","label":"start time","unit":"ms","value":0,"input":"valueSlider","max":10000,"min":0,"step":10},{"id":"stop","label":"stop time","unit":"ms","value":10000,"input":"valueSlider","max":10000,"min":0,"step":10}]}')},3939:function(e){e.exports=JSON.parse('{"abbreviation":"sg","id":"spike_generator","elementType":"stimulator","label":"spike generator","params":[{"id":"spike_times","label":"spike times","unit":"ms","input":"arrayInput"},{"id":"spike_weights","label":"weights of spike","unit":"pA","input":"arrayInput"}]}')},"3f5f":function(e){e.exports=JSON.parse('{"graph":{"width":{"label":"line width","max":5,"min":0,"step":0.1,"value":2.5},"maxDistance":{"label":"max distance","max":400,"min":0,"value":200},"opacity":{"label":"line opacity (beyond max distance)","max":1,"min":0,"step":0.01,"value":0.5},"terminusOpacity":{"label":"terminus opacity (beyond max distance)","max":1,"min":0,"step":0.01,"value":0.5},"ellipticalArc":{"label":"line elliptical arc","max":5,"min":0,"step":0.1,"value":2.5},"xAxisRotation":{"label":"line x axis rotation (deg)","max":360,"min":0,"value":0}},"rules":[{"value":"all_to_all","label":"all to all","params":[]},{"value":"fixed_indegree","label":"fixed indegree","params":[{"id":"indegree","input":"valueSlider","label":"indegree","max":100,"min":1,"step":1,"value":1,"visible":true},{"id":"p","input":"valueSlider","label":"p","max":1,"min":0.01,"step":0.01,"value":0.1,"visible":false},{"id":"allow_autapses","input":"checkbox","label":"allow autapses","value":true,"visible":false},{"id":"allow_multapses","input":"checkbox","label":"allow multapses","value":true,"visible":false}]},{"value":"fixed_outdegree","label":"fixed outdegree","params":[{"id":"outdegree","input":"valueSlider","label":"outdegree","max":100,"min":1,"step":1,"value":1,"visible":true},{"id":"p","input":"valueSlider","label":"p","max":1,"min":0.01,"step":0.01,"value":0.1,"visible":false},{"id":"allow_autapses","input":"checkbox","label":"allow autapses","value":true,"visible":false},{"id":"allow_multapses","input":"checkbox","label":"allow multapses","value":true,"visible":false}]},{"value":"fixed_total_number","label":"fixed total number","params":[{"id":"N","input":"valueSlider","label":"N","max":1000,"min":1,"step":1,"value":1,"visible":true},{"id":"allow_autapses","input":"checkbox","label":"allow autapses","value":true,"visible":false},{"id":"allow_multapses","input":"checkbox","label":"allow multapses","value":true,"visible":false}]},{"value":"one_to_one","label":"one to one","params":[]},{"value":"pairwise_bernoulli","label":"pairwise Bernoulli","params":[{"id":"p","input":"valueSlider","label":"p","max":1,"min":0.01,"step":0.01,"value":0.1,"visible":true},{"id":"allow_autapses","input":"checkbox","label":"allow autapses","value":true,"visible":false},{"id":"use_on_source","input":"checkbox","label":"use on source","value":false,"visible":false}]},{"value":"symmetric_pairwise_bernoulli","label":"symmetric pairwise Bernoulli","params":[{"id":"p","input":"valueSlider","label":"p","max":1,"min":0.01,"step":0.01,"value":0.1,"visible":true},{"id":"allow_autapses","input":"checkbox","label":"allow autapses","readonly":true,"value":false,"visible":true},{"id":"make_symmetric","input":"checkbox","label":"make symmetric","readonly":true,"value":true,"visible":true},{"id":"use_on_source","input":"checkbox","label":"use on source","value":false,"visible":false}]}]}')},"40ac":function(e){e.exports=JSON.parse('{"params":[{"id":"start","input":"valueInput","label":"start","value":0,"visible":true},{"id":"stop","input":"valueInput","label":"stop","value":1,"visible":true},{"id":"step","input":"valueInput","label":"step","value":1,"visible":true}]}')},"4aa3":function(e){e.exports=JSON.parse('{"circular":{"specs":[{"id":"radius","input":"valueSlider","label":"radius","max":10,"min":0,"step":0.1,"value":0.5}]},"doughnut":{"specs":[{"id":"inner_radius","input":"valueSlider","label":"inner radius","max":10,"min":0,"step":0.1,"value":0.1},{"id":"outer_radius","input":"valueSlider","label":"outer radius","max":10,"min":0,"step":0.1,"value":0.5}]},"elliptical":{"specs":[{"id":"major_axis","input":"valueSlider","label":"major axis","max":10,"min":0,"step":0.1,"value":1},{"id":"minor_axis","input":"valueSlider","label":"minor_axis","max":10,"min":0,"step":0.1,"value":1},{"id":"azimuth_angle","input":"valueSlider","label":"azimuth angle","max":360,"min":0,"step":1,"value":0},{"id":"anchor","input":"arrayInput","label":"anchor","value":[0,0]}]},"rectangular":{"specs":[{"id":"lower_left","input":"arrayInput","label":"lower left","value":[-0.5,-0.5]},{"id":"upper_right","input":"arrayInput","label":"upper right","value":[0.5,0.5]},{"id":"azimuth_angle","input":"valueSlider","label":"azimuth angle","max":360,"min":0,"step":1,"value":0}]}}')},"4aa8":function(e){e.exports=JSON.parse('{"abbreviation":"scg","id":"step_current_generator","elementType":"stimulator","label":"step current generator","recordables":["I"],"params":[{"id":"amplitude_times","label":"times at which current changes","unit":"ms","input":"arrayInput"},{"id":"amplitude_values","label":"amplitudes of step current current","unit":"pA","input":"arrayInput"}]}')},"4f1a":function(e){e.exports=JSON.parse('{"id":"iaf_psc_alpha","elementType":"neuron","label":"IAF psc alpha","recordables":["I_syn_ex","I_syn_in","V_m","weighted_spikes_ex","weighted_spikes_in"],"params":[{"id":"C_m","label":"capacity of the membrane","unit":"pF","value":250,"input":"valueSlider","max":500,"min":1,"step":1},{"id":"E_L","label":"leak reversal potential","unit":"mV","value":-70,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"I_e","label":"constant external input current","unit":"pA","value":0,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"V_m","label":"initial membrane potential","unit":"mV","value":-70,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"V_reset","label":"reset potential of the membrane","unit":"mV","value":-70,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"V_th","label":"spike threshold","unit":"mV","value":-55,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"t_ref","label":"duration of refractory period","unit":"ms","value":2,"input":"valueSlider","max":5,"min":0.1,"step":0.1},{"id":"tau_m","label":"membrane time constant","unit":"ms","value":10,"input":"valueSlider","max":30,"min":1,"step":0.1},{"id":"tau_syn_ex","label":"time constant of the excitatory synapse","unit":"ms","value":2,"input":"valueSlider","max":4,"min":0.1,"step":0.1},{"id":"tau_syn_in","label":"time constant of the inhibitory synapse","unit":"ms","value":2,"input":"valueSlider","max":4,"min":0.1,"step":0.1}]}')},"513c":function(e){e.exports=JSON.parse('{"id":"static_synapse","elementType":"synapse","label":"static synapse","params":[{"id":"weight","label":"synaptic weight","value":1,"unit":"pA","input":"valueSlider","max":100,"min":-100,"step":1},{"id":"delay","label":"synaptic delay","value":1,"unit":"ms","input":"valueSlider","max":100,"min":1,"step":1}]}')},5339:function(e,t,i){"use strict";var n=i("2b0e"),a=i("ed09"),s=i("66e0");n["default"].use(a["a"]);var o=Object(a["e"])({app:new s["a"]});t["a"]=o},5765:function(e){e.exports=JSON.parse('{"abbreviation":"vm","id":"voltmeter","elementType":"recorder","label":"voltmeter","params":[{"id":"interval","label":"time interval of recording","unit":"ms","value":1,"input":"tickSlider","ticks":[0.01,0.1,1,10],"rules":[["value < 1","A small recording intervals produce many data points which could cause a high system load and thus freezes and lags!","warning"]]},{"id":"start","label":"start time","unit":"ms","value":0,"input":"valueSlider","max":10000,"min":0,"step":10},{"id":"stop","label":"stop time","unit":"ms","value":10000,"input":"valueSlider","max":10000,"min":0,"step":10}]}')},"58e8":function(e){e.exports=JSON.parse('{"name":"spike activity","network":{"nodes":[{"model":"poisson_generator","size":1,"view":{"position":{"x":-150,"y":-25}},"params":[{"id":"rate","value":6500,"visible":true}]},{"model":"iaf_psc_alpha","size":100,"view":{"position":{"x":0,"y":25}},"params":[]},{"model":"spike_recorder","view":{"position":{"x":150,"y":-25}},"params":[]}],"connections":[{"source":0,"target":1,"synapse":{"model":"static_synapse","params":[{"id":"weight","value":10,"visible":true}]}},{"source":1,"target":2}]},"simulation":{"kernel":{"resolution":0.1},"time":1000,"randomSeed":1},"version":"3.1.0"}')},"5a4b":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("d4ec"),a=i("bee2"),s=i("257e"),o=i("262e"),r=i("2caf"),c=i("ade3"),l=(i("7db0"),i("d3b7"),i("4de4"),i("2ca0"),i("b0c0"),i("e9c4"),i("a15b"),i("d81d"),i("99af"),i("ed09")),u=i("669f"),d=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e,a){var o;return Object(n["a"])(this,i),o=t.call(this,"Parameter"),Object(c["a"])(Object(s["a"])(o),"_factors",void 0),Object(c["a"])(Object(s["a"])(o),"_id",void 0),Object(c["a"])(Object(s["a"])(o),"_idx",void 0),Object(c["a"])(Object(s["a"])(o),"_input",void 0),Object(c["a"])(Object(s["a"])(o),"_label",void 0),Object(c["a"])(Object(s["a"])(o),"_max",void 0),Object(c["a"])(Object(s["a"])(o),"_min",void 0),Object(c["a"])(Object(s["a"])(o),"_parent",void 0),Object(c["a"])(Object(s["a"])(o),"_readonly",void 0),Object(c["a"])(Object(s["a"])(o),"_rules",void 0),Object(c["a"])(Object(s["a"])(o),"_state",void 0),Object(c["a"])(Object(s["a"])(o),"_step",void 0),Object(c["a"])(Object(s["a"])(o),"_ticks",void 0),Object(c["a"])(Object(s["a"])(o),"_type",{id:"constant"}),Object(c["a"])(Object(s["a"])(o),"_unit",void 0),Object(c["a"])(Object(s["a"])(o),"_value",void 0),o._parent=e,o._idx=a.idx||e.params.length,o._id=a.id,o._value=a.value||0,o._state=Object(l["e"])({visible:void 0!=a.visible&&a.visible,disabled:void 0==a.disabled||a.disabled}),o._rules=a.rules||[],o._factors=a.factors||[],o._type=a.type||{id:"constant"},o._input=a.input,o._label=a.label||a.id,o._max=a.max,o._min=a.min,o._readonly=a.readonly||!1,o._step=a.step,o._ticks=a.ticks,o._unit=a.unit||"",o}return Object(a["a"])(i,[{key:"disabled",get:function(){return this._state.disabled}},{key:"id",get:function(){return this._id}},{key:"idx",get:function(){return this._idx}},{key:"input",get:function(){return this._input},set:function(e){this._input=e}},{key:"factors",get:function(){return this._factors}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"max",get:function(){return this._max},set:function(e){this._max=e}},{key:"min",get:function(){return this._min},set:function(e){this._min=e}},{key:"options",get:function(){return this}},{key:"parent",get:function(){return this._parent}},{key:"readonly",get:function(){return this._readonly}},{key:"rules",get:function(){return this._rules}},{key:"specs",get:function(){return"constant"===this._type.id?[{label:this.label,value:this._value}]:this._type.specs||[]}},{key:"state",get:function(){return this._state}},{key:"step",get:function(){return this._step},set:function(e){this._step=e}},{key:"ticks",get:function(){return this._ticks},set:function(e){this._ticks=e}},{key:"title",get:function(){var e="".concat(this.options["label"])||this.options.id;return this.options.unit&&(e+=" (".concat(this.options["unit"],")")),e}},{key:"type",get:function(){return this._type},set:function(e){this._type=this.config.types.find((function(t){return t.id===e}))}},{key:"types",get:function(){var e=this.config.types;return this.isSpatial()?e:e.filter((function(e){return!e.id.startsWith("spatial")}))}},{key:"unit",get:function(){return this._unit},set:function(e){this._unit=e}},{key:"value",get:function(){return this._value},set:function(e){this._value=e}},{key:"visible",get:function(){return this._state.visible}},{key:"isConstant",value:function(){return"constant"===this._type.id}},{key:"isSpatial",value:function(){if("Connection"===this._parent.name){var e=this._parent;return e.isBothSpatial()}if("Synapse"===this._parent.name){var t=this._parent;return t.connection.isBothSpatial()}return!1}},{key:"toggleDisabled",value:function(){this._state.disabled=!this._state.disabled,this.paramChanges()}},{key:"copy",value:function(){return new i(this._parent,this)}},{key:"reset",value:function(){this.type="constant"}},{key:"paramChanges",value:function(){var e;switch(this.parent.name){case"Connection":e=this.parent,e.connectionChanges();break;case"Model":e=this.parent,e.modelChanges();break;case"Node":e=this.parent,e.nodeChanges();break;case"NodeSlice":e=this.parent,e.node.nodeChanges();break;case"Synapse":e=this.parent,e.synapseChanges();break}}},{key:"toCode",value:function(){var e;if(this.isConstant())e="boolean"===typeof this._value?this._value?"True":"False":JSON.stringify(this._value);else if(this._type.id.startsWith("numpy")){var t=this.specs.filter((function(e){return!(e.optional&&e.value===e.default)})).map((function(e){return e.value})).join(", ");e="list(".concat(this._type.id,"(").concat(t,"))")}else if("spatial.distance"===this._type.id){var i=this.specs;e="",e+=1!==i[0].value?"".concat(i[0].value," * "):"",e+="nest.".concat(this._type.id),e+=0!==i[1].value?" + ".concat(i[1].value):""}else if(this._type.id.startsWith("spatial")){var n=this.specs.map((function(e){return e.value})).join(", ");e="nest.".concat(this._type.id,"(nest.spatial.distance, ").concat(n,")")}else{var a=this.specs.map((function(e){return e.value})).join(", ");e="nest.".concat(this._type.id,"(").concat(a,")")}return e}},{key:"toJSON",value:function(){var e={id:this._id,value:this._value,visible:this._state.visible};return this._factors.length>0&&(e.factors=this._factors),this._rules.length>0&&(e.rules=this._rules),this.isConstant()||(e.type=this._type),e}}]),i}(u["a"])},"5a56":function(e,t,i){},"5afc":function(e){e.exports=JSON.parse('{"coloredToolbar":false,"maxNetworkRevisions":5,"showHelp":true,"simulateAfterChange":false,"simulateAfterCheckout":false,"simulateAfterLoad":false,"simulateWithInsite":false}')},"5e7e":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("d4ec"),a=i("bee2"),s=i("262e"),o=i("2caf"),r=(i("b0c0"),i("7db0"),i("d3b7"),i("5a4b")),c=function(e){Object(s["a"])(i,e);var t=Object(o["a"])(i);function i(e,a){return Object(n["a"])(this,i),t.call(this,e,a)}return Object(a["a"])(i,[{key:"options",get:function(){var e,t=this;if("Model"===this.parent.name)e=this.parent;else{var i=this.parent;e=i.model}var n=e?e.params.find((function(e){return e.id===t.id})):void 0;return n}},{key:"reset",value:function(){this.type="constant",this.value=this.options.value}},{key:"paramChanges",value:function(){if("Node"===this.parent.name){var e=this.parent;e.nodeChanges()}else if("Synapse"===this.parent.name){var t=this.parent;t.synapseChanges()}}},{key:"toJSON",value:function(){var e={id:this.id,value:this.value};return"Model"===this.parent.name?(e.input=this.input,e.label=this.label,e.unit=this.unit,"valueSlider"===this.input?(e.min=this.min,e.max=this.max,e.step=this.step):"tickSlider"===this.input&&(e.ticks=this.ticks)):(e.visible=this.visible,this.factors.length>0&&(e.factors=this.factors),this.isConstant()||(e.type=this.type)),this.rules.length>0&&(e.rules=this.rules),e}}]),i}(r["a"])},"5f44":function(e){e.exports=JSON.parse('{"recordables":[{"id":"Act_m","label":"sodium channel activation"},{"id":"Act_n","label":"potassium channel activation"},{"id":"g_ex","label":"excitatory conductance","unit":"nS"},{"id":"g_ex.d","abbr":"g_ex dist","label":"distal conductance of excitatory input","unit":"nS"},{"id":"g_ex.p","abbr":"g_ex prox","label":"proximal conductance of excitatory input","unit":"nS"},{"id":"g_ex.s","abbr":"g_ex soma","label":"soma conductance of excitatory input","unit":"nS"},{"id":"g_in","label":"inhibitory conductance","unit":"nS"},{"id":"g_in.d","abbr":"g_in dist","label":"distal conductance of inhibitory input","unit":"nS"},{"id":"g_in.p","abbr":"g_in prox","label":"proximal conductance of inhibitory input","unit":"nS"},{"id":"g_in.s","abbr":"g_in soma","label":"soma conductance of inhibitory input","unit":"nS"},{"id":"I_syn_ex","label":"total excitatory synaptic current","unit":"pA"},{"id":"I_syn_in","label":"total inhibitory synaptic current","unit":"pA"},{"id":"I","label":"current","unit":"pA"},{"id":"Inact_h","label":"sodium channel inactivation"},{"id":"rate","label":"firing rate","unit":"spikes/s"},{"id":"t_ref_remaining","label":"time remaining till end of refractory state","unit":"ms"},{"abbr":"V_th","id":"V_th","label":"spike threshold","unit":"mV"},{"id":"V_m","label":"membrane potential","unit":"mV"},{"abbr":"V_m dist","id":"V_m.d","label":"distal membrane potential","unit":"mV"},{"abbr":"V_m prox","id":"V_m.p","label":"proximal membrane potential","unit":"mV"},{"abbr":"V_m soma","id":"V_m.s","label":"soma membrane potential","unit":"mV"},{"abbr":"w","id":"w","label":"spike-adaptation current","unit":"pA"}]}')},"616f":function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var n,a=i("d4ec"),s=i("bee2"),o=i("257e"),r=i("262e"),c=i("2caf"),l=i("ade3"),u=(i("4de4"),i("d3b7"),i("fb6a"),i("159b"),i("7db0"),i("d81d"),i("bf19"),i("d442")),d=i("669f"),h=(i("99af"),i("a15b"),i("caad"),i("fa0a")),p=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var n;return Object(a["a"])(this,i),n=t.call(this),Object(l["a"])(Object(o["a"])(n),"_connection",void 0),n._connection=e,n}return Object(s["a"])(i,[{key:"sourceLabel",get:function(){return this._connection.source.code.label}},{key:"targetLabel",get:function(){return this._connection.target.code.label}},{key:"specs",value:function(){var e="";if(this._connection.filteredParams.length>0){var t=[];(this._connection.source.size>1||this._connection.target.size>1)&&t.push('"rule": "'.concat(this._connection.rule,'"')),this._connection.filteredParams.forEach((function(e){return t.push('"'.concat(e.id,'": ').concat(e.toCode()))})),e+=", conn_spec={"+this._(),e+=t.join(","+this._()),e+=this.end()+"}"}else(this._connection.source.size>1||this._connection.target.size>1)&&(e+=', "'.concat(this._connection.rule,'"'));return e}},{key:"connect",value:function(){var e=this._connection.source,t=this._connection.target,i=t.model;if(["multimeter","voltmeter"].includes(i.id)){var n=[t,e];e=n[0],t=n[1]}var a="".concat(this.sourceLabel);this._connection.sourceSlice.visible&&(a+="".concat(this._connection.sourceSlice.indices()));var s="".concat(this.targetLabel);this._connection.targetSlice.visible&&(s+="".concat(this._connection.targetSlice.indices()));var o="nest.Connect(".concat(a,", ").concat(s);return o+=this.specs(),o+=this._connection.synapse.code.specs(),o+=")",o+"\n"}}]),i}(h["a"]);i("b64b");(function(e){e["circular"]="circular",e["doughnut"]="doughnut",e["elliptical"]="elliptical",e["none"]="none",e["rectangular"]="rectangular"})(n||(n={}));var v,m=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(this,i),s=t.call(this,"ConnectionMask"),Object(l["a"])(Object(o["a"])(s),"_connection",void 0),Object(l["a"])(Object(o["a"])(s),"_graph",void 0),Object(l["a"])(Object(o["a"])(s),"_masktype",void 0),Object(l["a"])(Object(o["a"])(s),"_specs",void 0),s._connection=e,s._graph={data:[],layout:{xaxis:{range:[-.55,.55]},yaxis:{range:[-.55,.55]}},style:{position:"relative",width:"100%",height:"100%"}},s._masktype=r.masktype||n.none,s._specs=r.specs||{},s}return Object(s["a"])(i,[{key:"connection",get:function(){return this._connection}},{key:"graph",get:function(){return this._graph}},{key:"masktype",get:function(){return this._masktype}},{key:"specs",get:function(){return this._specs}},{key:"list",value:function(){return Object.keys(this.config)}},{key:"hasMask",value:function(){return"none"!==this._masktype}},{key:"unmask",value:function(){this._masktype=n.none}},{key:"select",value:function(e){var t=this;"none"===e?this.unmask():(this._masktype=e,this._specs={},this.config.data[e].specs.forEach((function(e){t._specs[e.id]=e.value}))),this.draw()}},{key:"draw",value:function(){if(this._graph.layout.shapes=[],void 0!=this._masktype)switch(this._masktype){case"rectangular":this.drawRect();break;case"circular":this.drawCircle();break;case"doughnut":this.drawDoughnut();break;case"elliptical":this.drawEllipsis();break}}},{key:"drawRect",value:function(){this._graph.layout.shapes=[{type:"rect",xref:"x",yref:"y",x0:this._specs.lower_left[0],y0:this._specs.lower_left[1],x1:this._specs.upper_right[0],y1:this._specs.upper_right[1],opacity:.2,fillcolor:"blue",line:{color:"blue"}}]}},{key:"drawCircle",value:function(){this._graph.layout.shapes=[{type:"circle",xref:"x",yref:"y",x0:-1*this._specs.radius,y0:-1*this._specs.radius,x1:this._specs.radius,y1:this._specs.radius,opacity:.2,fillcolor:"blue",line:{color:"blue"}}]}},{key:"drawDoughnut",value:function(){this._graph.layout.shapes=[{type:"circle",xref:"x",yref:"y",x0:-1*this._specs.outer_radius,y0:-1*this._specs.outer_radius,x1:this._specs.outer_radius,y1:this._specs.outer_radius,opacity:.2,fillcolor:"blue",line:{color:"blue"}},{type:"circle",xref:"x",yref:"y",x0:-1*this._specs.inner_radius,y0:-1*this._specs.inner_radius,x1:this._specs.inner_radius,y1:this._specs.inner_radius,opacity:1,fillcolor:"white",line:{color:"white"}}]}},{key:"drawEllipsis",value:function(){this._graph.layout.shapes=[{type:"circle",xref:"x",yref:"y",x0:-1*this._specs.major_axis/2,y0:-1*this._specs.minor_axis/2,x1:this._specs.major_axis/2,y1:this._specs.minor_axis/2,opacity:.2,fillcolor:"blue",line:{color:"blue"}}]}},{key:"toJSON",value:function(){var e={masktype:this._masktype,specs:this._specs};return e}}]),i}(d["a"]),f=function(){function e(t){Object(a["a"])(this,e),Object(l["a"])(this,"_connection",void 0),this._connection=t}return Object(s["a"])(e,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._connection.network.state;e&&t.resetFocus(),t.focusedConnection=this._connection}},{key:"isFocused",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._connection.network.state.isConnectionFocused(this._connection,e)}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._connection.network.state;e&&t.resetSelection(),t.selectedConnection=this._connection}},{key:"isAnySelected",value:function(){return null!=this._connection.network.state.selectedConnection}},{key:"isSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._connection.network.state.isConnectionSelected(this._connection,e)}}]),e}(),_=function(){function e(t){Object(a["a"])(this,e),Object(l["a"])(this,"_colorExcitation","#595289"),Object(l["a"])(this,"_colorInhibition","#AF143C"),Object(l["a"])(this,"_connection",void 0),Object(l["a"])(this,"_visible",!0),this._connection=t}return Object(s["a"])(e,[{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e}},{key:"colorWeight",get:function(){var e=this._connection.synapse.weight;return 0===e?"black":e>0?this._colorExcitation:this._colorInhibition}},{key:"distance",value:function(){if(this._connection.source===this._connection.target)return 0;var e=this._connection.source.view.position,t=this._connection.target.view.position,i=e.x,n=e.y,a=t.x,s=t.y,o=a-i,r=s-n;return Math.sqrt(o*o+r*r)}},{key:"probabilistic",value:function(){return!["all_to_all","one_to_one"].includes(this._connection.rule)}},{key:"markerEnd",value:function(){return this._connection.synapse.weight>0&&!this.connectRecorder()?"url(#exc"+this._connection.idx+")":this._connection.synapse.weight<0&&!this.connectRecorder()?"url(#inh"+this._connection.idx+")":"url(#generic"+this._connection.idx+")"}},{key:"connectRecorder",value:function(){return this._connection.source.model.isRecorder()||this._connection.target.model.isRecorder()}},{key:"connectOnlyNeurons",value:function(){return this._connection.source.model.isNeuron()&&this._connection.target.model.isNeuron()}},{key:"connectSpikeRecorder",value:function(){return this._connection.target.model.isSpikeRecorder()}}]),e}(),b=i("5a4b"),g=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(a["a"])(this,i),n=t.call(this,"NodeSlice"),Object(l["a"])(Object(o["a"])(n),"_name","NodeSlice"),Object(l["a"])(Object(o["a"])(n),"_node",void 0),Object(l["a"])(Object(o["a"])(n),"_params",[]),Object(l["a"])(Object(o["a"])(n),"_visible",!1),n._node=e,n.initParameters(s),n._visible=s.length>0,n}return Object(s["a"])(i,[{key:"node",get:function(){return this._node}},{key:"visible",get:function(){return this._visible}},{key:"name",get:function(){return this._name}},{key:"params",get:function(){return this._params}},{key:"toggleVisible",value:function(){this._visible=!this._visible}},{key:"initParameters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._params=[],this.config.params.forEach((function(i){if(null!=t){var n=t.find((function(e){return e.id===i.id}));null!=n&&(i.value=n.value,i.disabled=!1)}e._params.push(new b["a"](e,i))}))}},{key:"indices",value:function(){var e=this._params[0],t=this._params[1],i=this._params[2];if(e.disabled&&t.disabled&&i.disabled)return"";var n=[e,t];i.disabled||n.push(i);var a=n.map((function(e){return e.disabled?null:e.value}));return"[".concat(a.join(":"),"]")}},{key:"update",value:function(){this._params[1].disabled&&(this._params[1].value=this._node.size)}},{key:"toJSON",value:function(){return this._params.filter((function(e){return!e.disabled})).map((function(e){return{id:e.id,value:e.value}}))}}]),i}(d["a"]),y=i("28ca");(function(e){e["AllToAll"]="all_to_all",e["FixedIndegree"]="fixed_indegree",e["FixedOutdegree"]="fixed_outdegree",e["FixedTotalNumber"]="fixed_total_number",e["OneToOne"]="one_to_one",e["PairwiseBernoulli"]="pairwise_bernoulli"})(v||(v={}));var k=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e,n){var s;return Object(a["a"])(this,i),s=t.call(this,"Connection"),Object(l["a"])(Object(o["a"])(s),"_name","Connection"),Object(l["a"])(Object(o["a"])(s),"_code",void 0),Object(l["a"])(Object(o["a"])(s),"_hash",void 0),Object(l["a"])(Object(o["a"])(s),"_idx",void 0),Object(l["a"])(Object(o["a"])(s),"_mask",void 0),Object(l["a"])(Object(o["a"])(s),"_network",void 0),Object(l["a"])(Object(o["a"])(s),"_params",void 0),Object(l["a"])(Object(o["a"])(s),"_rule",void 0),Object(l["a"])(Object(o["a"])(s),"_sourceIdx",void 0),Object(l["a"])(Object(o["a"])(s),"_sourceSlice",void 0),Object(l["a"])(Object(o["a"])(s),"_state",void 0),Object(l["a"])(Object(o["a"])(s),"_synapse",void 0),Object(l["a"])(Object(o["a"])(s),"_targetIdx",void 0),Object(l["a"])(Object(o["a"])(s),"_targetSlice",void 0),Object(l["a"])(Object(o["a"])(s),"_view",void 0),s._network=e,s._idx=e.connections.length,s._code=new p(Object(o["a"])(s)),s._state=new f(Object(o["a"])(s)),s._view=new _(Object(o["a"])(s)),s._sourceIdx=n.source,s._sourceSlice=new g(s.source,n.sourceSlice),s._targetIdx=n.target,s._targetSlice=new g(s.target,n.targetSlice),s._rule=n.rule||v.AllToAll,s.initParameters(n.params),s._mask=new m(Object(o["a"])(s),n.mask),s._synapse=new y["a"](Object(o["a"])(s),n.synapse),s.updateHash(),s}return Object(s["a"])(i,[{key:"code",get:function(){return this._code}},{key:"filteredParams",get:function(){return this._params.filter((function(e){return e.visible}))}},{key:"hash",get:function(){return this._hash}},{key:"idx",get:function(){return this._idx}},{key:"mask",get:function(){return this._mask}},{key:"model",get:function(){return this._synapse.model}},{key:"name",get:function(){return this._name}},{key:"network",get:function(){return this._network}},{key:"params",get:function(){return this._params}},{key:"recorder",get:function(){return this.source.model.isRecorder()?this.source:this.target}},{key:"rule",get:function(){return this._rule},set:function(e){this._rule=e,this.initParameters()}},{key:"shortHash",get:function(){return this._hash?this._hash.slice(0,6):""}},{key:"source",get:function(){return this._network.nodes[this._sourceIdx]},set:function(e){this._sourceIdx=e.idx}},{key:"sourceIdx",get:function(){return this._sourceIdx},set:function(e){this._sourceIdx=e}},{key:"sourceSlice",get:function(){return this._sourceSlice}},{key:"state",get:function(){return this._state}},{key:"synapse",get:function(){return this._synapse}},{key:"target",get:function(){return this._network.nodes[this._targetIdx]},set:function(e){this._targetIdx=e.idx}},{key:"targetIdx",get:function(){return this._targetIdx},set:function(e){this._targetIdx=e}},{key:"targetSlice",get:function(){return this._targetSlice}},{key:"view",get:function(){return this._view}},{key:"showAllParams",value:function(){this.params.forEach((function(e){return e.state.visible=!0}))}},{key:"hideAllParams",value:function(){this.params.forEach((function(e){return e.state.visible=!1}))}},{key:"resetAllParams",value:function(){var e=this.getRuleConfig();this.params.forEach((function(t){t.reset();var i=e.params.find((function(e){return e.id===t.id}));t.value=i.value})),this.synapse.params.forEach((function(e){return e.reset()}))}},{key:"connectionChanges",value:function(){this._network.networkChanges()}},{key:"initParameters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._params=[];var i=this.getRuleConfig();i.params.forEach((function(i){if(null!=t){var n=t.find((function(e){return e.id===i.id}));null!=n&&(i.value=n.value,i.visible=n.visible)}e.addParameter(i)}))}},{key:"addParameter",value:function(e){this._params.push(new b["a"](this,e))}},{key:"getRuleConfig",value:function(){var e=this;return this.config.rules.find((function(t){return t.value===e._rule}))}},{key:"reverse",value:function(){var e=[this._targetIdx,this._sourceIdx];this._sourceIdx=e[0],this._targetIdx=e[1],this.connectionChanges(),this._view.connectRecorder()&&(this.recorder.initActivity(),this._network.project.initActivityGraph())}},{key:"updateHash",value:function(){this._hash=Object(u["sha1"])({color:this.source.view.color,idx:this.idx})}},{key:"clean",value:function(){this._idx=this._network.connections.indexOf(this),this.updateHash()}},{key:"isBothSpatial",value:function(){return this.source.spatial.hasPositions()&&this.target.spatial.hasPositions()}},{key:"reset",value:function(){this.rule=v.AllToAll,this.initParameters(),this.synapse.modelId="static_synapse",this._mask.unmask(),this.connectionChanges()}},{key:"remove",value:function(){this._network.deleteConnection(this)}},{key:"toJSON",value:function(){var e={params:this._params.map((function(e){return e.toJSON()})),rule:this._rule,source:this._sourceIdx,synapse:this._synapse.toJSON(),target:this._targetIdx};return this._sourceSlice.visible&&(e.sourceSlice=this._sourceSlice.toJSON()),this._targetSlice.visible&&(e.targetSlice=this._targetSlice.toJSON()),this._mask.hasMask()&&(e.mask=this._mask.toJSON()),e}}]),i}(d["a"])},6340:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var n=i("d4ec"),a=i("bee2"),s=i("257e"),o=i("262e"),r=i("2caf"),c=i("ade3"),l=(i("bf19"),i("ed09")),u=i("669f"),d=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,"SimulationKernel"),Object(c["a"])(Object(s["a"])(a),"_localNumThreads",void 0),Object(c["a"])(Object(s["a"])(a),"_resolution",void 0),Object(c["a"])(Object(s["a"])(a),"_simulation",void 0),Object(c["a"])(Object(s["a"])(a),"_rngSeed",void 0),a._simulation=e,a._resolution=o.resolution||1,a._localNumThreads=o.localNumThreads||1,a._rngSeed=parseInt(o.rngSeed,0)||1,a}return Object(a["a"])(i,[{key:"localNumThreads",get:function(){return this._localNumThreads},set:function(e){this._localNumThreads=e}},{key:"rngSeed",get:function(){return this._rngSeed},set:function(e){this._rngSeed=e}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._resolution=e}},{key:"simulation",get:function(){return this._simulation}},{key:"toJSON",value:function(){var e={localNumThreads:this._localNumThreads,resolution:this._resolution,rngSeed:this._rngSeed};return e}}]),i}(u["a"]),h=i("fa0a"),p=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e){var a;return Object(n["a"])(this,i),a=t.call(this),Object(c["a"])(Object(s["a"])(a),"_simulation",void 0),a._simulation=e,a}return Object(a["a"])(i,[{key:"setKernelStatus",value:function(){var e="";return e+="nest.local_num_threads = ".concat(this._simulation.kernel.localNumThreads,"\n"),e+="nest.resolution = ".concat(this._simulation.kernel.resolution,"\n"),e+="nest.rng_seed = ".concat(this._simulation.kernel.rngSeed,"\n"),e}},{key:"simulate",value:function(){return"nest.Simulate(".concat(this._simulation.time,")\n")}}]),i}(h["a"]),v=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,"Simulation"),Object(c["a"])(Object(s["a"])(a),"_code",void 0),Object(c["a"])(Object(s["a"])(a),"_kernel",void 0),Object(c["a"])(Object(s["a"])(a),"_project",void 0),Object(c["a"])(Object(s["a"])(a),"_running",!1),Object(c["a"])(Object(s["a"])(a),"_state",void 0),Object(c["a"])(Object(s["a"])(a),"_time",void 0),a._project=e,a._kernel=new d(Object(s["a"])(a),o.kernel),a._code=new p(Object(s["a"])(a)),a._time=parseFloat(o.time)||1e3,a._state=Object(l["e"])({biologicalTime:0,timeInfo:{begin:0,current:0,end:0,stepSize:1}}),a}return Object(a["a"])(i,[{key:"code",get:function(){return this._code}},{key:"kernel",get:function(){return this._kernel}},{key:"project",get:function(){return this._project}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}},{key:"state",get:function(){return this._state}},{key:"time",get:function(){return this._time},set:function(e){this._time=e}},{key:"resetState",value:function(){this._state.biologicalTime=0,this._state.timeInfo={begin:0,current:0,end:0,stepSize:1}}},{key:"toJSON",value:function(){var e={kernel:this._kernel.toJSON(),time:this._time};return e}}]),i}(u["a"])},6406:function(e){e.exports=JSON.parse('{"name":"spike input","network":{"nodes":[{"model":"spike_generator","size":1,"view":{"position":{"x":-150,"y":25}},"params":[{"id":"spike_times","value":[300],"visible":true}]},{"model":"iaf_psc_alpha","size":1,"view":{"position":{"x":0,"y":-25}},"params":[]},{"model":"voltmeter","view":{"position":{"x":150,"y":25}},"params":[{"id":"interval","value":0.1,"visible":true}]}],"connections":[{"source":0,"target":1},{"source":2,"target":1}]},"simulation":{"kernel":{"resolution":0.1},"time":1000,"randomSeed":1},"version":"3.1.0"}')},6595:function(e,t,i){},"669f":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("d4ec"),a=i("bee2"),s=i("ade3"),o=(i("e9c4"),i("ac1f"),i("1276"),i("d3b7"),i("159b"),i("4fad"),i("032b")),r=function(){function e(t){Object(n["a"])(this,e),Object(s["a"])(this,"_configName",void 0),this._configName=t,this.isConfigValid()||this.upgradeConfig()}return Object(a["a"])(e,[{key:"assetConfig",get:function(){return i("95ac")("./".concat(this._configName,".json"))}},{key:"config",get:function(){if(localStorage.hasOwnProperty(this.configItemName)){var e=localStorage.getItem(this.configItemName);if(e)return JSON.parse(e)}return this.config=this.assetConfig,this.config},set:function(e){e.version=o["a"].VERSION;var t=JSON.stringify(e);localStorage.setItem(this.configItemName,t)}},{key:"configItemName",get:function(){return"nest-desktop-"+this._configName}},{key:"copy",value:function(e){return Object.assign({},e)}},{key:"isConfigReady",value:function(){return!0}},{key:"isConfigValid",value:function(){var e=o["a"].VERSION.split("."),t=this.config.version.split(".");return e[0]===t[0]&&e[1]===t[1]}},{key:"resetConfig",value:function(){localStorage.removeItem(this.configItemName)}},{key:"updateConfig",value:function(e){var t=this.config;Object.entries(e).forEach((function(e){return t[e[0]]=e[1]})),this.config=t}},{key:"upgradeConfig",value:function(){var e=this.assetConfig,t=this.config;Object.entries(e).forEach((function(e){t.hasOwnProperty(e[0])||(t[e[0]]=e[1])})),this.config=t}}]),e}()},"66e0":function(e,t,i){"use strict";i.d(t,"a",(function(){return A}));var n=i("d4ec"),a=i("bee2"),s=i("257e"),o=i("262e"),r=i("2caf"),c=i("ade3"),l=(i("a15b"),i("d3b7"),i("99af"),i("bcdc")),u=i("1da1"),d=(i("96cf"),i("ac1f"),i("1276"),i("d81d"),i("b64b"),i("bc3a")),h=i.n(d),p=i("e683"),v=i.n(p),m=i("669f"),f=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{path:"",port:5e3,versionPath:""};return Object(n["a"])(this,i),a=t.call(this,e),Object(c["a"])(Object(s["a"])(a),"_state",{ready:!1,version:{},seek:{path:"/",port:5e3,versionPath:""}}),a._state.seek=o,a}return Object(a["a"])(i,[{key:"host",get:function(){return v()(this.hostname+(this.port?":"+this.port:""),this.path)}},{key:"hostname",get:function(){return this.config.hostname||window.location.hostname||"localhost"}},{key:"instance",get:function(){return h.a.create({baseURL:this.url})}},{key:"path",get:function(){return this.config.path||""}},{key:"port",get:function(){return this.config.port}},{key:"protocol",get:function(){return this.config.protocol||window.location.protocol}},{key:"state",get:function(){return this._state}},{key:"url",get:function(){return void 0!=this.protocol&&void 0!=this.host&&""!==this.protocol&&""!==this.host?this.protocol+"//"+this.host:""},set:function(e){var t="",i="/",n="",a="";if(null!=e&&""!==e){var s=e.split("//");if(s.length>1){var o=s[1].split("/"),r=o[0].split(":");t=r[0],i=o.length>1?o[1]:"/",n=r.length>1?r[1]:"",a=s[0]}}this.updateConfig({hostname:t,path:i,port:n,protocol:a})}},{key:"resetState",value:function(){this.state.ready=!1,this.state.version={}}},{key:"check",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.resetState(),!this.config.hostname){e.next=5;break}return e.abrupt("return",this.ping(this.url));case 5:return e.abrupt("return",this.seek());case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"seek",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,i,n,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=window.location.protocol,i=window.location.hostname||"localhost",n=[v()(i+":"+this._state.seek.port),v()(i,this._state.seek.path)],a=n.map((function(e){return s.ping(t+"//"+e)})),e.abrupt("return",h.a.all(a));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ping",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.get(v()(t,this.state.seek.versionPath)).then((function(e){switch(e.status){case 0:break;case 200:i.url=t,i.state.ready=!0,i.state.version=e.data;break;case 502:console.log(e.data);break}})));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=e.url&&""!==e.url)this.url=e.url;else{var t={};null!=e.path&&""!==e.path&&(t["path"]=e.path),null!=e.port&&""!==e.port&&(t["port"]=e.port),Object.keys(t).length>0&&(this.updateConfig(t),this.url=this.url)}}}]),i}(m["a"]),_=(i("4de4"),i("7db0"),i("caad"),i("2532"),i("bf19"),i("e9c4"),i("159b"),i("8a79"),i("2ca0"),i("ed09")),b=i("bea4"),g=(i("3ca3"),i("ddb0"),i("4e82"),i("5b78")),y=function(){function e(t,i){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(n["a"])(this,e),Object(c["a"])(this,"_app",void 0),Object(c["a"])(this,"_db",void 0),Object(c["a"])(this,"_options",void 0),Object(c["a"])(this,"_state",{ready:!1,valid:!1,version:""}),Object(c["a"])(this,"_url",void 0),this._app=t,this._url=i,this._options=s,this._db=new g(i,s),this.getVersion().then((function(e){a._state.version=e})),this.checkVersion(),this._state.ready=!0}return Object(a["a"])(e,[{key:"app",get:function(){return this._app}},{key:"db",get:function(){return this._db}},{key:"state",get:function(){return this._state}},{key:"destroy",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._db.destroy());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.destroy().then((function(){t._db=new g(t._url,t._options)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isReady",value:function(){return this._state.ready}},{key:"isValid",value:function(){return this._state.valid}},{key:"count",value:function(){return this._db.allDocs().then((function(e){return e.total_rows})).catch((function(e){return e}))}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._db.allDocs({include_docs:!0}).then((function(i){var n=i.rows.map((function(e){return e.doc}));return e&&n.sort((function(t,i){return t[e].localeCompare(i[e])})),t&&n.reverse(),n})).catch((function(e){return e}))}},{key:"create",value:function(e){var t=e.toJSON();return t.hash=e.state.hash||void 0,t.version=this._app.state.version,t.createdAt=new Date,this._db.post(t).then((function(i){e.doc._id=i.id,e.doc.hash=e.state.hash,e.createdAt||(e.createdAt=t.createdAt),e.updatedAt=void 0})).catch((function(e){return console.log(e)}))}},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i={rev:t};return this._db.get(e,i).then((function(e){return e})).catch((function(e){return e}))}},{key:"update",value:function(e){var t=this;return this._db.get(e.doc._id).then((function(i){e.doc=i;var n=e.toJSON();n.hash=e.state.hash||void 0,n.version=t._app.state.version,n.updatedAt=new Date;var a=Object.keys(n);return a.filter((function(e){return!e.startsWith("_")})).forEach((function(e){return i[e]=n[e]})),t._db.put(i).then((function(){e.updatedAt=n.updatedAt})).catch((function(e){return console.log(e)}))})).catch((function(i){return console.log(i),t.create(e)}))}},{key:"delete",value:function(e){var t=this;return this._db.get(e).then((function(e){return t._db.remove(e)}))}},{key:"deleteBulk",value:function(e){var t=this;return this.list().then((function(i){return i.filter((function(t){return e.includes(t._id)})).forEach((function(e){return e._deleted=!0})),t._db.bulkDocs(i)}))}},{key:"revisions",value:function(e){return this._db.get(e,{revs:!0}).then((function(e){return e._revisions.ids.map((function(t,i){return e._revisions.start-i+"-"+t}))})).catch((function(e){return e}))}},{key:"getVersion",value:function(){return this._db.get("_local/version").then((function(e){return e.version}))}},{key:"setVersion",value:function(){return this._db.put({_id:"_local/version",version:this._app.state.version})}},{key:"checkVersion",value:function(){var e=this;this.getVersion().then((function(t){var i=t.split("."),n=e._app.state.version.split(".");e._state.valid=n[0]===i[0]&&n[1]===i[1]})).catch((function(){e.setVersion().then((function(){return e.checkVersion()}))}))}}]),e}(),k=function(e){Object(o["a"])(s,e);var t=Object(r["a"])(s);function s(e){return Object(n["a"])(this,s),t.call(this,e,"MODEL_STORE")}return Object(a["a"])(s,[{key:"consoleLog",value:function(e){Object(l["a"])(this,e,3)}},{key:"addModels",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Add models"),i=t.map((function(e){return new Promise((function(t){n.addModel(e).then((function(){t(e)}))}))})),e.abrupt("return",Promise.all(i));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"importModelsFromAssets",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Import models from assets"),t=Promise.resolve(),this.app.config.models.forEach((function(e){var a=i("719e")("./"+e+".json");t=t.then((function(){return n.addModel(a)}))})),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteModels",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.deleteBulk(t).then((function(){return i.app.model.update()})));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addModel",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Add model: "+t.id),i=new b["a"](this.app,t),e.abrupt("return",this.create(i));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteModel",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Delete model: "+t),e.abrupt("return",this.delete(t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"importModel",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Import model: "+t.id),e.abrupt("return",this.app.model.hasModel(t.id)?this.updateModel(t):this.addModel(t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateModel",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Update model: "+t.id),i=this.app.model.getModel(t.id),i.update(t),e.abrupt("return",this.update(i));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),s}(y),j=(i("b0c0"),i("5319"),i("fb6a"),i("104a")),x=function(){function e(t){Object(n["a"])(this,e),Object(c["a"])(this,"_app",void 0),Object(c["a"])(this,"_docKeywords",["Synopsis","Examples","Description","Parameters","Options","Requires","Require","Receives","Transmits","Sends","Variants","Bugs","Diagnostics","Remarks","Availability","References","See also","Author","Authors","FirstVersion","Source","EndUserDocs */"]),Object(c["a"])(this,"_state",void 0),Object(c["a"])(this,"_tools",[{disabled:!1,icon:"mdi-format-list-numbered-rtl",minWidth:440,name:"modelParameterDefaults",title:"Defaults",width:"440"},{disabled:!1,icon:"mdi-tune-variant",minWidth:440,name:"modelParameterInput",title:"Model",width:"440"},{disabled:!1,icon:"mdi-xml",minWidth:575,name:"modelSimulationCode",title:"Code",width:"575"}]),this._app=t,this._state=Object(_["e"])({defaults:{},doc:{blocks:[],helptext:"",subtitle:"",title:""},fileExistedGithub:!1,modeIdx:0,model:void 0,modelId:"",projectFilename:"current-input",project:new j["a"](this._app),tool:void 0,toolOpened:!1})}return Object(a["a"])(e,[{key:"app",get:function(){return this._app}},{key:"modeIdx",get:function(){return this._state.modeIdx},set:function(e){void 0==this._state.model?this._state.modeIdx=e:(this._state.modeIdx=this.isNeuron()||1!==e?e:0,this.isNeuron()&&1===this._state.modeIdx&&this._state.project&&this._state.project.code.hash!==this._state.project.activityGraph.codeHash&&this._app.project.view.config.simulateAfterLoad&&this._state.project.runSimulation()),0===this.modeIdx&&this._state.doc.title!==this._state.modelId&&this.updateModelDoc()}},{key:"state",get:function(){return this._state}},{key:"tools",get:function(){return this._tools}},{key:"consoleLog",value:function(e){Object(l["a"])(this,e,3)}},{key:"initModel",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.consoleLog("Initialize model: "+t),this._state.modelId=t||this._state.modelId,this._state.model=this._app.model.getModel(this._state.modelId),this.checkFileExistedGithub(),this.getParamDefaults().then((function(){e.initProject(),e._state.project.activityGraph.emptyActivityGraph(),e.updateToolView(),e.modeIdx=e.modeIdx}))}},{key:"reloadModel",value:function(){var e=this;this.consoleLog("Reload model"),this._state.model=void 0,setTimeout((function(){e._state.model=e._app.model.getModel(e._state.modelId),e.initProject(),e.updateToolView(),e.modeIdx=e.modeIdx}),100)}},{key:"newModel",value:function(){this.consoleLog("New model"),this._state.model=new b["a"](this._app)}},{key:"hasModel",value:function(){return this._app.model.hasModel(this._state.modelId)}},{key:"initProject",value:function(){var e=i("f1d0")("./".concat(this._state.projectFilename,".json"));e.name=this._state.projectFilename,this._state.project=new j["a"](this._app,e),this.updateProject()}},{key:"updateProject",value:function(){var e=this,t=this._state.defaults["element_type"];"neuron"===t&&(this._state.project.network.neurons.forEach((function(t){t.modelId=e._state.modelId,t.params=e._state.model.params,t.params.forEach((function(e){return e.state.visible=!0}))})),this._state.project.code.generate())}},{key:"selectProject",value:function(e){this._state.projectFilename=e,this.initProject(),this.modeIdx=1}},{key:"getParamDefaults",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._state.model.fetchDefaults().then((function(e){if("string"===typeof e.data){var i=e.data.replace(/(NaN|-?Infinity)/g,'"$1"');t._state.defaults=JSON.parse(i)}else t._state.defaults=e.data;t._state.params=Object.keys(t._state.defaults).map((function(e){return{id:e,value:t._state.defaults[e]}}))})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"selectTool",value:function(e){this._state.toolOpened=!this._state.toolOpened||this._state.tool!==e,this._state.tool=e}},{key:"updateToolView",value:function(){(!this.isNeuron()&&"code"===this._state.tool.title||0===this._state.model.params.length&&"input"===this._state.tool.title)&&this.selectTool(this._tools[0]),this._tools[1].disabled=0===this._state.model.params.length,this._tools[2].disabled=!this.isNeuron()}},{key:"resetTool",value:function(){this._state.toolOpened=!1,this._state.tool=this._tools[0]}},{key:"resetDoc",value:function(){this._state.doc={blocks:[],helptext:"",subtitle:"",title:""}}},{key:"isNeuron",value:function(){return this._state.model&&null!=this._state.model.elementType?this._state.model.isNeuron():!(!this._state.defaults||null==this._state.defaults.element_type)&&"neuron"===this._state.defaults.element_type}},{key:"updateModelDoc",value:function(){var e=this;if(this.resetDoc(),this._state.modelId){var t="api/help?return_text=true&obj="+this._state.modelId;this._app.backends.nestSimulator.instance.get(t).then((function(t){if(200===t.status){e._state.doc.helptext=t.data,e._state.doc.title=e._state.modelId;var i=e._state.doc.helptext.split("\n");e._state.doc.subtitle=i[0].split("  ")[1]||"";var n=e._docKeywords.map((function(e){return[i.indexOf(e),e]}));n=n.sort((function(e,t){return e[0]-t[0]})),n=n.filter((function(e){return-1!==e[0]}));var a={};n.map((function(e,t){var s=parseInt(e[0],0)+2,o=t<n.length-1?parseInt(n[t+1][0],0)-1:i.length;a[e[1]]=i.slice(s,o).join("\n")})),e._state.doc.blocks=e._docKeywords.filter((function(e){return a[e]})).map((function(e){return{title:e,content:a[e]}}))}})).catch((function(){e._state.doc.blocks=[{content:"Sorry, there is no help for '".concat(e._state.modelId,"'.")}]}))}}},{key:"checkFileExistedGithub",value:function(){var e=this;this._state.fileExistedGithub=this._app.model.state.filesGithub.some((function(t){return t.includes("/"+e._state.modelId)}))}},{key:"update",value:function(){this._state.project.network.networkChanges(),this._state.project.activityGraph.update()}}]),e}(),w=function(){function e(t){Object(n["a"])(this,e),Object(c["a"])(this,"_app",void 0),Object(c["a"])(this,"_db",void 0),Object(c["a"])(this,"_state",void 0),Object(c["a"])(this,"_view",void 0),this._app=t,this._db=new k(this._app),this._state=Object(_["e"])({filesGithub:[],filterTags:["installed"],models:[],modelsNEST:[],searchTerm:""}),this._view=new x(this._app)}return Object(a["a"])(e,[{key:"model",get:function(){return this._view.state.model},set:function(e){this._view.state.modelId=e.id,this._view.state.model=e}},{key:"state",get:function(){return this._state}},{key:"view",get:function(){return this._view}},{key:"consoleLog",value:function(e){Object(l["a"])(this,e,2)}},{key:"init",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Initialize model store"),e.abrupt("return",this._db.count().then((function(e){return 0===e?t._db.importModelsFromAssets().then((function(){return t.initModelList()})):t.initModelList()})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetDatabase",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Reset model database"),e.next=3,this._db.reset().then((function(){return t.init()}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initModelList",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Initialize model list"),e.next=3,this._db.list("id").then((function(e){return t._state.models=e.map((function(e){return new b["a"](t._app,e)}))}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"filterModels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e?this._state.models:this._state.models.filter((function(t){return t.elementType===e}))}},{key:"importModels",value:function(e){var t=this;this.consoleLog("Import models"),this._db.addModels(e).then((function(){t.initModelList()}))}},{key:"importModelFromGithub",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,i,n,a=this,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:"",this.consoleLog("Import model from GitHub"),i="https://raw.githubusercontent.com/nest-desktop/nest-desktop-models/main/",n=this._state.filesGithub.find((function(e){return e.includes("/"+(t||a._state.modelId))})),null!=n){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",h.a.get(v()(i,n)).then((function(e){if(200===e.status){var i=e.data;a._db.importModel(i).then((function(){a.initModelList().then((function(){t===a._view.state.modelId&&a._view.initModel(t)}))}))}})));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"exportModels",value:function(e){this.consoleLog("Export models");var t=e.map((function(e){return e.toJSON()}));this._app.download(JSON.stringify(t),1===t.length?"model":"models")}},{key:"deleteModels",value:function(e){var t=this,i=e.map((function(e){return e.id}));this._db.deleteModels(i).then((function(){return t.initModelList()}))}},{key:"resetModelStates",value:function(){this._state.models.forEach((function(e){return e.resetState()}))}},{key:"fetchModelsNEST",value:function(){var e=this;this._app.backends.nestSimulator.instance.get("api/Models").then((function(t){e._state.modelsNEST=t.data}))}},{key:"fetchModelFilesGithub",value:function(){var e=this,t="https://api.github.com/repos/nest-desktop/nest-desktop-models/git/trees/main?recursive=true";h.a.get(t).then((function(t){e._state.filesGithub=t.data.tree.filter((function(e){return e.path.endsWith(".json")})).map((function(e){return e.path}))}))}},{key:"fileExistGithub",value:function(e){return this._state.filesGithub.some((function(t){var i=t.split(".json")[0].split("/")[1];return e.startsWith(i)}))}},{key:"getModel",value:function(e){return this._state.models.find((function(t){return t.id===e}))||new b["a"](this._app,{id:e,params:[]})}},{key:"hasModel",value:function(e){return this._state.models.some((function(t){return t.id===e}))}},{key:"saveModel",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._db.importModel(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteModel",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._db.deleteModel(t).then((function(){i.initModelList()})));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearSearch",value:function(){this._state.searchTerm=""}}]),e}(),O=function(e){Object(o["a"])(s,e);var t=Object(r["a"])(s);function s(e){return Object(n["a"])(this,s),t.call(this,e,"PROJECT_STORE")}return Object(a["a"])(s,[{key:"consoleLog",value:function(e){Object(l["a"])(this,e,3)}},{key:"addProjects",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Add projects"),i=t.map((function(e){return new Promise((function(t){n.addProject(e).then((function(){t(e)}))}))})),e.abrupt("return",Promise.all(i));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteProjects",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Delete projects"),i=t.map((function(e){return e.docId})),e.abrupt("return",this.deleteBulk(i));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"importProjectsFromAssets",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Import projects from assets"),t=Promise.resolve(),this.app.config.projects.forEach((function(e){var a=i("f1d0")("./"+e+".json");t=t.then((function(){return n.addProject(a)}))})),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addProject",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Add project: "+t.name),i=new j["a"](this.app,t),e.abrupt("return",this.create(i));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),s}(y),S=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e){var a;return Object(n["a"])(this,i),a=t.call(this,"ProjectView"),Object(c["a"])(Object(s["a"])(a),"_app",void 0),Object(c["a"])(Object(s["a"])(a),"_state",void 0),Object(c["a"])(Object(s["a"])(a),"_tools",[{icon:"$network",minWidth:440,name:"networkParamEdit",title:"Network",width:440},{icon:"mdi-engine-outline",minWidth:440,name:"simulationKernel",title:"Kernel",width:440},{icon:"mdi-database",minWidth:575,name:"docJSON",title:"Doc",devMode:!0,width:575},{icon:"mdi-code-braces",minWidth:575,name:"dataJSON",title:"Data",devMode:!0,width:575},{icon:"mdi-xml",minWidth:575,name:"codeEditor",title:"Code",width:575},{icon:"mdi-tune-variant",minWidth:440,name:"activityEdit",title:"Activity",width:440},{icon:"mdi-table-large",minWidth:510,name:"activityStats",title:"Stats",width:510}]),a._app=e,a._state=Object(_["e"])({activityGraph:"abstract",fromTime:0,modeIdx:0,networkGraphHeight:"calc(100vh - 48px)",project:new j["a"](a._app),projectId:"",refreshIntervalId:void 0,tool:void 0,toolOpened:!1,toast:{message:"",pauseOnHover:!0,position:"top-right",type:"success"}}),a}return Object(a["a"])(i,[{key:"app",get:function(){return this._app}},{key:"state",get:function(){return this._state}},{key:"tools",get:function(){return this._tools}},{key:"consoleLog",value:function(e){Object(l["a"])(this,e,3)}},{key:"countBefore",value:function(){return this._state.project.networkRevisionIdx}},{key:"countAfter",value:function(){return this._state.project.networkRevisions.length-this._state.project.networkRevisionIdx-1}},{key:"init",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null!=this._state.projectId&&this.consoleLog("Initialize project: "+this._state.projectId.slice(0,6)),null==this._app.backends.insiteAccess.state.version.insite&&this.updateConfig({simulateWithInsite:!1}),e.abrupt("return",this._app.project.initProject(this._state.projectId).then((function(){if(t._state.project){var e=t.config.simulateWithInsite!==t._state.project.code.state.codeInsite;t._state.project.init({generateCode:e}),t.updateProjectMode(),t._state.activityGraph=t._state.project.network.hasPositions()?t._state.activityGraph:"abstract",t.update(),t.config.simulateAfterLoad&&1===t._state.modeIdx&&t._state.project.code.hash!==t._state.project.activityGraph.codeHash&&t._state.project.runSimulation()}})));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){this._state.project.network.networkChanges(),this._state.project.activityGraph.update()}},{key:"resizeNetworkGraph",value:function(){this.consoleLog("Resize network graph"),this._state.networkGraphHeight=2===this._state.modeIdx?"calc(30vh)":"calc(100vh - 48px)",setTimeout((function(){window.dispatchEvent(new Event("resize"))}),1)}},{key:"selectActivityGraph",value:function(e){this.consoleLog("Select activity graph"),this._state.activityGraph=e,this._state.modeIdx=1}},{key:"selectTool",value:function(e){this.consoleLog("Select project tool"),this._state.toolOpened=!this._state.toolOpened||this._state.tool!==e,this._state.tool=e}},{key:"showActivityExplorer",value:function(){this._state.modeIdx=1}},{key:"updateProjectMode",value:function(){this.consoleLog("Update project view"),[0,2].includes(this._state.modeIdx)&&(this._state.toolOpened=this._state.toolOpened?2!==this._state.modeIdx:this._state.toolOpened,this.resizeNetworkGraph()),this.config.simulateAfterLoad&&1===this._state.modeIdx&&this._state.project.code.hash!==this._state.project.activityGraph.codeHash&&this._state.project.runSimulation()}}]),i}(m["a"]),I=function(){function e(t){Object(n["a"])(this,e),Object(c["a"])(this,"_app",void 0),Object(c["a"])(this,"_db",void 0),Object(c["a"])(this,"_state",void 0),Object(c["a"])(this,"_view",void 0),this._app=t,this._db=new O(this._app),this._state=Object(_["e"])({searchTerm:"",projects:[],projectRevisions:[]}),this._view=new S(this._app)}return Object(a["a"])(e,[{key:"filteredProjects",get:function(){var e=this;return""===this._state.searchTerm?this._state.projects:this._state.projects.filter((function(t){return t.name.toLowerCase().indexOf(e._state.searchTerm.toLowerCase())>-1}))}},{key:"project",get:function(){return this._view.state.project},set:function(e){this._view.state.projectId=e.id,this._view.state.project=e}},{key:"recentProjectId",get:function(){return this._state.projects[0].id||void 0}},{key:"state",get:function(){return this._state}},{key:"view",get:function(){return this._view}},{key:"consoleLog",value:function(e){Object(l["a"])(this,e,2)}},{key:"init",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Initialize project store"),e.abrupt("return",this._db.count().then((function(e){return 0===e?t._db.importProjectsFromAssets().then((function(){return t.initProjectList()})):t.initProjectList()})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetDatabase",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Reset project database"),e.next=3,this._db.reset().then((function(){return t.init()}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initProjectList",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Initialize project list"),this._state.projects=[],this._state.projectRevisions=[],e.next=5,this._db.list("createdAt",!0).then((function(e){t._state.projects=e,null!=t._view.state.projectId&&(t.project=t.getProject(t._view.state.projectId)||new j["a"](t._app))}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"importProjects",value:function(e){var t=this;this.consoleLog("Import projects"),this._db.addProjects(e).then((function(){return t.initProjectList()}))}},{key:"exportProjects",value:function(e){this.consoleLog("Export projects");var t=e.map((function(e){var t=e.toJSON();return e.state.withActivities&&(t.activities=e.activities.map((function(e){return e.toJSON()}))),t}));this._app.download(JSON.stringify(t),1===t.length?"project":"projects")}},{key:"deleteProjects",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Delete projects"),e.abrupt("return",this._db.deleteProjects(t).then((function(){return i.initProjectList()})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetProjectStates",value:function(){this.consoleLog("Reset states of projects"),this._state.projects.forEach((function(e){return e.resetState()}))}},{key:"updateProjectRevisions",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:null,this.consoleLog("Update project revisions"),this._state.projectRevisions=[],null!=t){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",this._db.revisions(t).then((function(e){return e.forEach((function(e){return i._db.read(t,e).then((function(e){return i._state.projectRevisions.push(new j["a"](i._app,e))}))}))})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getProject",value:function(e){this.consoleLog("Get project");var t=this._state.projects.map((function(e){return e.id}));if(t.includes(e)){var i=t.indexOf(e),n=this._state.projects[i];return void 0==n.doc&&(n=new j["a"](this._app,n),n.init(),this._state.projects[i]=n),n}}},{key:"getProjectFromFile",value:function(e){this.consoleLog("Get project from file");var t=i("f1d0")("./".concat(e,".json"));return new j["a"](this._app,t)}},{key:"initProject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.consoleLog("Initialize project: id=".concat(t.slice(0,6),", rev=").concat(i)),new Promise((function(n){try{if(t&&i)e.project=e._state.projectRevisions.find((function(e){return e.id===t&&e.rev===i}));else if(t)e.project=e.getProject(t);else{var a="Project "+(e._state.projects.length+1);e.createNewProject({name:a})}n(!0)}catch(s){e.consoleLog("Error in project initialization"),n(!1)}}))}},{key:"deleteProject",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.consoleLog("Delete project"),!t.docId){e.next=5;break}return e.abrupt("return",this._db.delete(t.docId).finally((function(){i.removeFromList(t.id)})));case 5:this.removeFromList(t.id);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createNewProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.consoleLog("Create new project"),this.project=new j["a"](this._app,e),this.project.init(),this.addToList(this.project)}},{key:"reloadProject",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Reload project"),e.abrupt("return",this._db.read(t.id).then((function(e){var n=i._state.projects.map((function(e){return e.id})).indexOf(t.id),a=new j["a"](i._app,e);i._state.projects[n]=t,i._view.state.projectId===t.id&&(i.project=a)})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hasProject",value:function(e){return this.consoleLog("has project"),this._state.projects.some((function(t){return t.id===e}))}},{key:"importProject",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consoleLog("Import project: "+t.name),t.clean(),i=t.docId?this._db.update(t):this._db.create(t),e.abrupt("return",i.then((function(){return n.addToList(t)})));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"exportProject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.consoleLog("Export project: "+e);var i=this._state.projects.find((function(t){return t.id===e})),n=i.toJSON();t&&(n.activities=i.activities.map((function(e){return e.toJSON()}))),this._app.download(JSON.stringify(n),"project")}},{key:"removeFromList",value:function(e){this.consoleLog("Remove project from the list: "+e);var t=this._state.projects.map((function(e){return e.id})).indexOf(e);-1!==t&&(this._state.projects=this._state.projects.slice(0,t).concat(this._state.projects.slice(t+1)))}},{key:"addToList",value:function(e){this.consoleLog("Add project to the list: "+e.id),this.removeFromList(e.id),this._state.projects.unshift(e)}}]),e}(),C=i("032b"),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=e+"";while(i.length<t)i="0"+i;return i},A=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this,"App"),Object(c["a"])(Object(s["a"])(e),"_backends",{}),Object(c["a"])(Object(s["a"])(e),"_model",void 0),Object(c["a"])(Object(s["a"])(e),"_project",void 0),Object(c["a"])(Object(s["a"])(e),"_state",{ready:!1,theme:{dark:!1},version:"",dialog:{open:!1,source:"project",action:"export",content:[]}}),e._state.version=C["a"].VERSION,e._backends.insiteAccess=new f("InsiteAccess",{path:"/insite",port:8080,versionPath:"/version/"}),e._backends.nestSimulator=new f("NESTSimulator",{path:"/nest",port:5e3,versionPath:"/"}),e._model=new w(Object(s["a"])(e)),e._project=new I(Object(s["a"])(e)),e}return Object(a["a"])(i,[{key:"backends",get:function(){return this._backends}},{key:"datetime",get:function(){var e=new Date,t=[e.getFullYear()-2e3,P(e.getMonth()+1),P(e.getDate())],i=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())],n=t.join("")+"_"+i.join("");return n}},{key:"darkMode",get:function(){return this.state.theme.dark},set:function(e){this.state.theme.dark=e,this.updateConfig({darkMode:e}),this._project.view.update(),this._model.view.update(),window.dispatchEvent(new Event("resize"))}},{key:"model",get:function(){return this._model}},{key:"project",get:function(){return this._project}},{key:"state",get:function(){return this._state}},{key:"init",value:function(e){var t=this;Object(l["a"])(this,"Initialize app"),this.updateConfigs(e),this.checkBackends(),this._model.fetchModelsNEST(),this._model.fetchModelFilesGithub(),this._state.ready=!1;var i=Promise.resolve();i=i.then((function(){return t._model.init()})),i=i.then((function(){return t._project.init()})),i.then((function(){return t._state.ready=!0}))}},{key:"resetDatabases",value:function(){var e=this;Object(l["a"])(this,"Reset all client-side databases"),this._state.ready=!1;var t=Promise.resolve();t=t.then((function(){return e._model.resetDatabase()})),t=t.then((function(){return e._project.resetDatabase()})),t.then((function(){return e._state.ready=!0}))}},{key:"download",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";Object(l["a"])(this,"Download data");var n=document.createElement("a");n.setAttribute("href","data:text/".concat(i,";charset=UTF-8,").concat(encodeURIComponent(e))),n.setAttribute("download","nest-desktop-".concat(t,"-").concat(this.datetime,".").concat(i)),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"openDialog",value:function(e,t,i){Object(l["a"])(this,"Open dialog"),this._state.dialog.source=e,this._state.dialog.action=t,this._state.dialog.content=i,this._state.dialog.open=!0}},{key:"closeDialog",value:function(){Object(l["a"])(this,"Close dialog"),this._state.dialog.open=!1}},{key:"initTheme",value:function(e){this._state.theme=e,this._state.theme.dark=this.config.darkMode}},{key:"updateConfigs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l["a"])(this,"Update backend config"),null!=e&&(e.nestSimulator&&!this.backends.nestSimulator.config.custom&&this.backends.nestSimulator.updateURL(e.nestSimulator),e.insiteAccess&&!this.backends.insiteAccess.config.custom&&this.backends.insiteAccess.updateURL(e.insiteAccess))}},{key:"checkBackends",value:function(){this._backends.nestSimulator.check(),this._backends.insiteAccess.check()}}]),i}(m["a"])},"6e6c":function(e){e.exports=JSON.parse('{"name":"spikes (up/down) to model","network":{"nodes":[{"model":"spike_generator","size":1,"view":{"position":{"x":-150,"y":25}},"params":[{"id":"spike_times","value":[100,300],"visible":true},{"id":"spike_weights","value":[1,-1],"visible":true}]},{"model":"iaf_psc_alpha","view":{"position":{"x":0,"y":-25}},"params":[]},{"model":"voltmeter","size":1,"view":{"position":{"x":150,"y":25}},"params":[{"id":"interval","value":0.1,"visible":true}]}],"connections":[{"source":0,"target":1},{"source":2,"target":1}]},"simulation":{"kernel":{"resolution":0.1},"time":500,"randomSeed":1},"version":"3.1.0"}')},"6ecc":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("d4ec"),a=i("bee2"),s=i("ade3"),o=(i("d81d"),i("b64b"),i("d3b7"),i("159b"),i("99af"),i("e9c4"),i("caad"),i("2532"),i("bf19"),i("a15b"),i("ed09")),r=i("d442"),c=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,e),Object(s["a"])(this,"_events",{}),Object(s["a"])(this,"_hash",void 0),Object(s["a"])(this,"_idx",void 0),Object(s["a"])(this,"_lastFrame",!1),Object(s["a"])(this,"_nodeCollectionId",void 0),Object(s["a"])(this,"_nodeIds",[]),Object(s["a"])(this,"_nodePositions",[]),Object(s["a"])(this,"_recorder",void 0),Object(s["a"])(this,"_state",void 0),this._recorder=t,this._state=Object(o["e"])({records:[]}),this.init(i)}return Object(a["a"])(e,[{key:"currenttime",get:function(){var e=this._recorder.network.project.simulation.state;return e.timeInfo.current>0?e.timeInfo.current:e.biologicalTime}},{key:"elementTypes",get:function(){return this._recorder.nodes.map((function(e){return e.model.elementType}))}},{key:"endtime",get:function(){return this._recorder.network.project.simulation.state.biologicalTime}},{key:"events",get:function(){return this._events},set:function(e){this._events=e}},{key:"hash",get:function(){return this._hash}},{key:"idx",get:function(){return this._idx},set:function(e){this._idx=e}},{key:"lastFrame",get:function(){return this._lastFrame},set:function(e){this._lastFrame=e}},{key:"lastTime",get:function(){return this._events.times&&this._events.times.length>0?this.events.times[this.events.times.length-1]:0}},{key:"nEvents",get:function(){return this._events.hasOwnProperty("times")?this._events.times.length:0}},{key:"nodeCollectionId",get:function(){return this._nodeCollectionId},set:function(e){this._nodeCollectionId=e}},{key:"nodeIds",get:function(){return this._nodeIds},set:function(e){this._nodeIds=e}},{key:"nodePositions",get:function(){return this._nodePositions},set:function(e){this._nodePositions=e}},{key:"project",get:function(){return this.recorder.network.project}},{key:"recorder",get:function(){return this._recorder}},{key:"state",get:function(){return this._state}},{key:"simulationTimeInfo",get:function(){return this._recorder.network.project.simulation.state.timeInfo}},{key:"hasEvents",value:function(){return this.nEvents>0}},{key:"reset",value:function(){this._events={},this._lastFrame=!1,this._nodeIds=[],this._nodePositions=[],this._state.records=[]}},{key:"init",value:function(e){this.initEvents(e)}},{key:"initEvents",value:function(e){this.reset(),this.events=e.events||{senders:[],times:[]},this.nodeIds=e.nodeIds||[],this.nodePositions=e.nodePositions||[],this.nodeCollectionId=e.nodeCollectionId,this.updateHash()}},{key:"update",value:function(e){void 0!=e.events&&this.updateEvents(e)}},{key:"updateEvents",value:function(e){var t=this,i=e.events,n=Object.keys(i);n.forEach((function(e){var n=t._events[e],a=i[e];t._events[e]=n.concat(a)})),this.updateHash()}},{key:"updateHash",value:function(){this._hash=Object(r["sha1"])(JSON.stringify(this._events))}},{key:"getActivityInsite",value:function(){}},{key:"hasAnalogData",value:function(){return this._recorder.model.isAnalogRecorder()}},{key:"hasInputAnalogData",value:function(){return this.hasAnalogData()&&this.elementTypes.includes("stimulator")}},{key:"hasNeuronAnalogData",value:function(){return this.hasAnalogData()&&this.elementTypes.includes("neuron")}},{key:"hasSpikeData",value:function(){return this._recorder.model.isSpikeRecorder()}},{key:"export",value:function(){this._recorder.network.project.app.download(JSON.stringify(this.toJSON()),"activity")}},{key:"exportEvents",value:function(){this._recorder.network.project.app.download(JSON.stringify(this._events),"events")}},{key:"exportEventsCSV",value:function(){var e=this,t=["senders","times"];Object.keys(this._events).forEach((function(e){t.includes(e)||t.push(e)}));var i=t.join(",")+"\n";i+=this._events.times.map((function(i,n){return t.map((function(t){return e._events[t][n]})).join(",")})).join("\n"),this._recorder.network.project.app.download(i,"events","csv")}},{key:"clone",value:function(){return new e(this.recorder,this.toJSON())}},{key:"toJSON",value:function(){return{events:this._events,nodeIds:this._nodeIds,nodePositions:this._nodePositions}}}]),e}()},"7156f":function(e){e.exports=JSON.parse('{"autoUpdate":true,"databases":{"model":{"host":"","port":"","name":"model"},"project":{"host":"","port":"","name":"project"}},"darkMode":false,"devMode":false,"log":false,"models":["ac_generator","dc_generator","hh_psc_alpha","iaf_cond_alpha","iaf_psc_alpha","multimeter","noise_generator","parrot_neuron","poisson_generator","spike_generator","spike_recorder","static_synapse","step_current_generator","voltmeter"],"pinNav":true,"projects":["spatial-spike-activity","spatial-neurons","spike-activity","spike-input","current-input"]}')},"719e":function(e,t,i){var n={"./ac_generator.json":"ceae","./dc_generator.json":"dd61","./hh_psc_alpha.json":"9f51","./iaf_cond_alpha.json":"cd1d","./iaf_psc_alpha.json":"4f1a","./multimeter.json":"982a","./noise_generator.json":"03d2","./parrot_neuron.json":"c7bf","./poisson_generator.json":"f727","./spike_generator.json":"3939","./spike_recorder.json":"3443","./static_synapse.json":"513c","./step_current_generator.json":"4aa8","./voltmeter.json":"5765"};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="719e"},"766c":function(e,t,i){},"76c9":function(e){e.exports=JSON.parse('{"graph":{"radius":{"label":"shape radius","max":30,"min":1,"value":15},"strokeWidth":{"label":"stroke width","max":20,"min":1,"step":0.5,"value":2.5}},"size":{"id":"n","input":"valueSlider","label":"population size","max":1000,"min":1,"step":1,"value":1}}')},8053:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("d4ec"),a=i("bee2"),s=i("ade3"),o=(i("d3b7"),i("bf19"),i("1d39")),r=i("23e6"),c=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,e),Object(s["a"])(this,"_activityAnimationGraph",void 0),Object(s["a"])(this,"_activityChartGraph",void 0),Object(s["a"])(this,"_codeHash",void 0),Object(s["a"])(this,"_project",void 0),this._project=t,this.init(i)}return Object(a["a"])(e,[{key:"activityAnimationGraph",get:function(){return this._activityAnimationGraph}},{key:"activityChartGraph",get:function(){return this._activityChartGraph}},{key:"codeHash",get:function(){return this._codeHash}},{key:"project",get:function(){return this._project}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.initActivityChartGraph(e.panels||[]),this.initActivityAnimationGraph()}},{key:"update",value:function(){this._activityChartGraph.update(),this._activityAnimationGraph.update(),this.updateHash()}},{key:"updateHash",value:function(){this._codeHash=this._project.code.hash}},{key:"initActivityAnimationGraph",value:function(){null==this._activityAnimationGraph?this._activityAnimationGraph=new r["a"](this._project):this._activityAnimationGraph.init()}},{key:"initActivityChartGraph",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];void 0==this._activityChartGraph?this._activityChartGraph=new o["a"](this._project,e):this._activityChartGraph.init(e)}},{key:"emptyActivityGraph",value:function(){this._activityChartGraph.empty()}},{key:"hasAnyAnalogData",value:function(){return this._project.activities.some((function(e){return e.hasAnalogData()}))}},{key:"hasAnySpikeData",value:function(){return this._project.activities.some((function(e){return e.hasSpikeData()}))}},{key:"toJSON",value:function(){return this._activityChartGraph.toJSON()}}]),e}()},"84b5":function(e){e.exports=JSON.parse('{"name":"regular spikes steps to model","network":{"nodes":[{"model":"spike_generator","size":1,"view":{"position":{"x":50,"y":100}},"params":[{"id":"spike_times","value":[100,150,200,400,420,440,460,480,500,700,710,720,730,740,750,760,770,780,790,800,1000,1005,1010,1015,1020,1025,1030,1035,1040,1045,1050,1055,1060,1065,1070,1075,1080,1085,1090,1095,1100,1300,1302,1304,1306,1308,1310,1312,1314,1316,1318,1320,1322,1324,1326,1328,1330,1332,1334,1336,1338,1340,1342,1344,1346,1348,1350,1352,1354,1356,1358,1360,1362,1364,1366,1368,1370,1372,1374,1376,1378,1380,1382,1384,1386,1388,1390,1392,1394,1396,1398,1400,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1624,1625,1626,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700],"visible":true}]},{"model":"iaf_psc_alpha","view":{"position":{"x":200,"y":50}},"params":[]},{"model":"voltmeter","size":1,"view":{"position":{"x":350,"y":100}},"params":[{"id":"interval","value":0.1,"visible":true}]}],"connections":[{"source":0,"target":1},{"source":2,"target":1}]},"simulation":{"kernel":{"resolution":0.1},"time":2000,"randomSeed":1},"version":"3.1.0"}')},"89aa":function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var n=i("d4ec"),a=i("bee2"),s=i("257e"),o=i("262e"),r=i("2caf"),c=i("ade3"),l=(i("d3b7"),i("159b"),i("4de4"),i("d81d"),i("99af"),i("fb6a"),i("bf19"),i("669f")),u=i("616f"),d=i("bcdc"),h=(i("a15b"),i("fa0a")),p=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e){var a;return Object(n["a"])(this,i),a=t.call(this),Object(c["a"])(Object(s["a"])(a),"_network",void 0),a._network=e,a}return Object(a["a"])(i,[{key:"createNodes",value:function(){var e="";return this._network.nodes.forEach((function(t){e+=t.code.create()})),e}},{key:"connectNodes",value:function(){var e="";return this._network.connections.forEach((function(t){e+=t.code.connect()})),e}},{key:"getNodePositions",value:function(){var e=this,t="dict(numpy.concatenate([",i=this._network.nodes.filter((function(e){return e.spatial.hasPositions()})).map((function(t){return e._(2)+"getPosition(".concat(t.view.label,")")}));return t+="".concat(i.join(",\n")),t+=this._()+"]))",t}},{key:"getActivities",value:function(){var e="[",t=this._network.recorders.map((function(e){return'{"events": '.concat(e.view.label,'.events, "nodeIds": getNodeIds(').concat(e.view.label,")}")}));return t.length>0&&(e+=this._(2)+t.join(","+this._(2))),e+=this._()+"]",e}}]),i}(h["a"]),v=i("d442"),m=function(){function e(t){Object(n["a"])(this,e),Object(c["a"])(this,"_focusedConnection",null),Object(c["a"])(this,"_focusedNode",null),Object(c["a"])(this,"_network",void 0),Object(c["a"])(this,"_selectedConnection",null),Object(c["a"])(this,"_selectedElementType",null),Object(c["a"])(this,"_selectedNode",null),Object(c["a"])(this,"_hash",void 0),this._network=t}return Object(a["a"])(e,[{key:"focusedConnection",get:function(){return this._network.connections[this._focusedConnection]},set:function(e){this._focusedNode=null,this._focusedConnection=e.idx}},{key:"focusedNode",get:function(){return this._network.nodes[this._focusedNode]},set:function(e){this._focusedConnection=null,this._focusedNode=e.idx}},{key:"hash",get:function(){return this._hash}},{key:"selectedConnection",get:function(){return this._network.connections[this._selectedConnection]},set:function(e){this._selectedElementType=null,this._selectedNode=null,this._selectedConnection=this._selectedConnection===e.idx?null:e.idx}},{key:"selectedElementType",get:function(){return this._selectedElementType},set:function(e){this.resetSelection(),this._selectedElementType=e}},{key:"selectedNode",get:function(){return this._network.nodes[this._selectedNode]},set:function(e){this._selectedElementType=null,this._selectedConnection=null,this._selectedNode=this._selectedNode===e.idx?null:e.idx}},{key:"reset",value:function(){this.resetFocus(),this.resetSelection()}},{key:"resetFocus",value:function(){this._focusedNode=null,this._focusedConnection=null}},{key:"resetSelection",value:function(){this._selectedNode=null,this._selectedConnection=null}},{key:"isElementTypeSelected",value:function(e){return null==this._selectedElementType||this._selectedElementType===e}},{key:"isNodeFocused",value:function(e){return this._focusedNode===e.idx}},{key:"isNodeSelected",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null!=this._selectedNode)return this._selectedNode===e.idx;if(null!=this._selectedConnection&&n){var a=e.network.connections.filter((function(t){return t.sourceIdx===e.idx||t.targetIdx===e.idx}));return a.some((function(e){return e===t.selectedConnection}))}return i}},{key:"isConnectionFocused",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=this._focusedConnection?this._focusedConnection===e.idx:null!=this._focusedNode?this._focusedNode===e.sourceIdx:t}},{key:"isConnectionSelected",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=this._selectedConnection?this._selectedConnection===e.idx:null!=this._selectedNode?this._selectedNode===e.sourceIdx:t}},{key:"updateHash",value:function(){this._hash=Object(v["sha1"])({network:this._network.toJSON(),darkMode:this._network.project.app.darkMode})}}]),e}(),f=i("2fe8"),_=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,"Network"),Object(c["a"])(Object(s["a"])(a),"_code",void 0),Object(c["a"])(Object(s["a"])(a),"_connections",[]),Object(c["a"])(Object(s["a"])(a),"_nodes",[]),Object(c["a"])(Object(s["a"])(a),"_project",void 0),Object(c["a"])(Object(s["a"])(a),"_state",void 0),a._project=e,a._code=new p(Object(s["a"])(a)),a._state=new m(Object(s["a"])(a)),a.update(o),a}return Object(a["a"])(i,[{key:"code",get:function(){return this._code}},{key:"colors",get:function(){return this.config.color.cycle},set:function(e){var t=this.config.color;t.cycle=e,this.config.update({color:t})}},{key:"connections",get:function(){return this._connections},set:function(e){this._connections=e,this._connections.forEach((function(e){e.clean()})),this.updateRecords(),this.updateRecordsColor(),this.networkChanges()}},{key:"neurons",get:function(){return this._nodes.filter((function(e){return e.model.isNeuron()}))}},{key:"nodes",get:function(){return this._nodes},set:function(e){var t=e.map((function(e){return e.idx}));this._nodes=e,this._nodes.forEach((function(e){e.clean()})),this._connections.forEach((function(e){e.sourceIdx=t.indexOf(e.sourceIdx),e.targetIdx=t.indexOf(e.targetIdx),e.clean()})),this.updateRecords(),this.updateRecordsColor(),this.networkChanges()}},{key:"project",get:function(){return this._project}},{key:"recorders",get:function(){return this._nodes.filter((function(e){return e.model.isRecorder()}))}},{key:"recordersAnalog",get:function(){return this._nodes.filter((function(e){return e.model.isAnalogRecorder()}))}},{key:"state",get:function(){return this._state}},{key:"stimulators",get:function(){return this._nodes.filter((function(e){return e.model.isStimulator()}))}},{key:"visibleNodes",get:function(){return this._nodes.filter((function(e){return e.view.visible}))}},{key:"visibleConnections",get:function(){return this._connections.filter((function(e){return e.view.visible}))}},{key:"consoleLog",value:function(e){Object(d["a"])(this,e,5)}},{key:"hasSpatialNodes",value:function(){return this._nodes.filter((function(e){return e.spatial.hasPositions()})).length>0}},{key:"networkChanges",value:function(){var e=this;this.clean(),this._project.code.generate(),this._state.updateHash(),this._project.updateHash(),this._project.commitNetwork(this);var t=this._project.app.project.view;t.config.simulateAfterChange&&1===t.state.modeIdx&&setTimeout((function(){return e._project.runSimulation()}),1)}},{key:"oldest",value:function(){this._project.networkOldest()}},{key:"older",value:function(){this._project.networkOlder()}},{key:"newer",value:function(){this._project.networkNewer()}},{key:"newest",value:function(){this._project.networkNewest()}},{key:"addNode",value:function(e){this.consoleLog("Add node"),this._nodes.push(new f["a"](this,e))}},{key:"createNode",value:function(e){this.consoleLog("Create node");var t={neuron:"iaf_psc_alpha",recorder:"voltmeter",stimulator:"dc_generator"};this.addNode({model:t[e.elementType],view:e}),this.networkChanges()}},{key:"addConnection",value:function(e){this.consoleLog("Add connection");var t=new u["a"](this,e);return this._connections.push(t),t}},{key:"connectNodes",value:function(e,t){this.consoleLog("Connect nodes");var i=e.view.weight,n=this.addConnection({source:e.idx,target:t.idx});"inhibitory"===i&&e.setWeights(i),this.networkChanges(),n.view.connectRecorder()&&(n.recorder.initActivity(),this._project.initActivityGraph())}},{key:"deleteNode",value:function(e){this.consoleLog("Delete node"),this._state.reset(),this._connections=this._connections.filter((function(t){return t.source!==e&&t.target!==e})),this._connections.forEach((function(t){t.sourceIdx>e.idx&&(t.sourceIdx-=1),t.targetIdx>e.idx&&(t.targetIdx-=1)}));var t=e.idx;this._nodes=this._nodes.slice(0,t).concat(this.nodes.slice(t+1)),this.networkChanges(),this._project.initActivityGraph()}},{key:"deleteConnection",value:function(e){this.consoleLog("Delete connection"),this._state.reset();var t=e.idx;this._connections=this._connections.slice(0,t).concat(this.connections.slice(t+1)),this.networkChanges(),this._project.initActivityGraph()}},{key:"clean",value:function(){this._nodes.forEach((function(e){return e.clean()})),this._connections.forEach((function(e){return e.clean()})),this._connections.forEach((function(e){e.sourceSlice.update(),e.targetSlice.update()})),this._state.updateHash()}},{key:"copy",value:function(e){return Object.assign({},e)}},{key:"clone",value:function(){return new i(this._project,this.toJSON())}},{key:"update",value:function(e){var t=this;this._nodes=[],e.nodes&&e.nodes.forEach((function(e){return t.addNode(e)})),this._connections=[],e.connections&&e.connections.forEach((function(e){return t.addConnection(e)})),this.updateRecords(),this.clean()}},{key:"updateRecords",value:function(){this.recorders.forEach((function(e){return e.updateRecords()}))}},{key:"updateRecordsColor",value:function(){this.recorders.forEach((function(e){return e.updateRecordsColor()}))}},{key:"empty",value:function(){this._state.reset(),this._connections=[],this._nodes=[],this.clean(),this.networkChanges()}},{key:"isEmpty",value:function(){return 0===this._nodes.length&&0===this._connections.length}},{key:"hasPositions",value:function(){return this._nodes.some((function(e){return e.spatial.hasPositions()}))}},{key:"getNodeColor",value:function(e){var t=this.config.color.cycle;return t[e%t.length]}},{key:"toJSON",value:function(){var e=this._connections.map((function(e){return e.toJSON()})),t=this._nodes.map((function(e){return e.toJSON()}));return{connections:e,nodes:t}}}]),i}(l["a"])},"8b43":function(e,t,i){"use strict";i("fed5")},"8b56":function(e,t,i){"use strict";i("adeb")},"8c13":function(e){e.exports=JSON.parse('[{"abbr":"Act Na+","id":"Act_m","label":"sodium channel activation"},{"abbr":"Act K+","id":"Act_n","label":"potassium channel activation"},{"abbr":"I_ex","id":"I_syn_ex","label":"total excitatory synaptic current","unit":"pA"},{"abbr":"I_in","id":"I_syn_in","label":"total inhibitory synaptic current","unit":"pA"},{"abbr":"Inact Na+","id":"Inact_h","label":"sodium channel inactivation"},{"id":"count","label":"counts"},{"id":"count_normed","label":"normed counts"},{"id":"ct_","abbr":"Act_g","label":"activation of conductances"},{"id":"currents","abbr":"I","label":"currents","unit":"pA"},{"id":"g_ex","abbr":"g_ex","label":"excitatory conductance","unit":"nS"},{"id":"g_ex.d","abbr":"g_ex dist","label":"distal conductance of excitatory input","unit":"nS"},{"id":"g_ex.p","abbr":"g_ex prox","label":"proximal conductance of excitatory input","unit":"nS"},{"id":"g_ex.s","abbr":"g_ex soma","label":"soma conductance of excitatory input","unit":"nS"},{"id":"g_in","abbr":"g_in","label":"inhibitory conductance","unit":"nS"},{"id":"g_in.d","abbr":"g_in dist","label":"distal conductance of inhibitory input","unit":"nS"},{"id":"g_in.p","abbr":"g_in prox","label":"proximal conductance of inhibitory input","unit":"nS"},{"id":"g_in.s","abbr":"g_in soma","label":"soma conductance of inhibitory input","unit":"nS"},{"id":"I","abbr":"I","label":"input current","unit":"pA"},{"id":"input_currents_ex","abbr":"I_exc_in","label":"incoming excitatory currents","unit":"pA"},{"id":"input_currents_in","abbr":"I_inh_in","label":"incoming inhibitory currents","unit":"pA"},{"id":"isi","abbr":"ISI","label":"inter-spike interval","unit":"ms"},{"id":"neuron_id","label":"neuron id"},{"id":"rate","label":"firing rate","unit":"spikes/s"},{"id":"spike_count","label":"spike counts","unit":"spikes"},{"id":"t_ref_remaining","abbr":"t_ref remain","label":"time remaining till end of refractory state","unit":"ms"},{"id":"times","abbr":"ts","label":"time","unit":"ms"},{"abbr":"V_th","id":"V_th","label":"spike threshold","unit":"mV"},{"abbr":"V_m","id":"V_m","label":"membrane potential","unit":"mV"},{"abbr":"V_m dist","id":"V_m.d","label":"distal membrane potential","unit":"mV"},{"abbr":"V_m prox","id":"V_m.p","label":"proximal membrane potential","unit":"mV"},{"abbr":"V_m soma","id":"V_m.s","label":"soma membrane potential","unit":"mV"},{"abbr":"V_th","id":"V_th","label":"spike threshold","unit":"mV"}]')},"8d46":function(e,t,i){"use strict";i("6595")},"8fa9":function(e){e.exports=JSON.parse('{"a":{"id":"a","label":"a","max":10,"min":-10,"step":0.01,"value":1},"c":{"id":"c","label":"c","max":10,"min":-10,"step":0.01,"value":0},"kappa":{"id":"kappa","label":"kappa","max":10,"min":0,"step":0.1,"value":1},"max":{"id":"max","label":"max","max":10,"min":0,"step":0.01,"value":1},"mean":{"id":"mean","label":"mean","max":10,"min":-10,"step":0.01,"value":0},"mean_x":{"id":"mean_x","label":"mean x","max":10,"min":-10,"step":0.01,"value":0},"mean_y":{"id":"mean_y","label":"mean y","max":10,"min":-10,"step":0.01,"value":0},"min":{"id":"min","label":"min","max":10,"min":0,"step":0.01,"value":0},"mu":{"id":"mu","label":"mu","max":10,"min":0,"step":0.01,"value":0},"p_center":{"id":"p_center","label":"p center","max":10,"min":0,"step":0.01,"value":1},"rho":{"id":"rho","label":"rho","max":1,"min":0,"step":0.01,"value":0},"sigma":{"id":"sigma","label":"sigma","max":10,"min":0.01,"step":0.01,"value":0.1},"sigma_x":{"id":"sigma_x","label":"sigma x","max":10,"min":0.01,"step":0.01,"value":0.1},"sigma_y":{"id":"sigma_y","label":"sigma y","max":10,"min":0.01,"step":0.01,"value":0.1},"tau":{"id":"tau","label":"tau","max":10,"min":0.01,"step":0.01,"value":1},"theta":{"id":"theta","label":"theta","max":10,"min":0,"step":0.1,"value":1},"value":{"id":"value","label":"value","max":10,"min":-10,"step":0.01,"value":0}}')},"8ff2":function(e){e.exports=JSON.parse('{"custom":false,"hostname":"","path":"/","port":"","protocol":""}')},9224:function(e){e.exports=JSON.parse('{"a":"3.1.4"}')},"95ac":function(e,t,i){var n={"./ActivityAxisLabels.json":"8c13","./ActivityScatterAnimationGraph.json":"9dec","./App.json":"7156f","./ColorSchemes.json":"c998","./Connection.json":"3f5f","./ConnectionMask.json":"4aa3","./InsiteAccess.json":"8ff2","./Model.json":"5f44","./NESTSimulator.json":"be10","./Network.json":"c6c0","./NetworkGraph.json":"2c33","./NetworkGraphWorkspace.json":"a672","./Node.json":"76c9","./NodeSlice.json":"40ac","./NodeSpatial.json":"99a9","./Parameter.json":"c474","./ParameterRandom.json":"8fa9","./ProjectView.json":"5afc","./Simulation.json":"a793","./SimulationKernel.json":"c4da"};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="95ac"},"982a":function(e){e.exports=JSON.parse('{"abbreviation":"mm","id":"multimeter","elementType":"recorder","label":"multimeter","params":[{"id":"interval","label":"time interval of recording","unit":"ms","value":1,"input":"tickSlider","ticks":[0.01,0.1,1,10],"rules":[["value < 1","A small recording interval produces many data points which could cause a high system load and thus freezes and lags!","warning"]]},{"id":"start","label":"start time","unit":"ms","value":0,"input":"valueSlider","max":10000,"min":0,"step":10},{"id":"stop","label":"stop time","unit":"ms","value":10000,"input":"valueSlider","max":10000,"min":0,"step":10}]}')},"987c":function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i("d4ec"),a=i("bee2"),s=i("ade3"),o=(i("4de4"),i("d3b7"),i("fb6a"),i("7db0"),i("d81d"),i("18a5"),i("bf19"),i("7909")),r=i("262e"),c=i("2caf"),l=(i("159b"),i("ddb0"),i("898b")),u=(i("6062"),i("3ca3"),i("caad"),i("2532"),i("2909")),d=(i("a434"),i("ed09")),h=function(){function e(t){Object(n["a"])(this,e),Object(s["a"])(this,"_activities",[]),Object(s["a"])(this,"_activityType",""),Object(s["a"])(this,"_data",[]),Object(s["a"])(this,"_icon",""),Object(s["a"])(this,"_id",""),Object(s["a"])(this,"_label",""),Object(s["a"])(this,"_panel",void 0),Object(s["a"])(this,"_params",[]),Object(s["a"])(this,"_state",void 0),this._id="activityChart",this._panel=t,this._state=Object(d["e"])({histogram:{end:-1e100,start:1e100},records:[],recordsVisible:[],time:{end:0,start:0},visible:!0,visibleThreshold:"legendonly"})}return Object(a["a"])(e,[{key:"activities",get:function(){return this._activities},set:function(e){this._activities=e}},{key:"activityType",get:function(){return this._activityType},set:function(e){this._activityType=e}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"icon",get:function(){return this._icon},set:function(e){this._icon=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"panel",get:function(){return this._panel}},{key:"params",get:function(){return this._params},set:function(e){this._params=e}},{key:"state",get:function(){return this._state}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"hasActivities",value:function(){return this.activities.length>0}},{key:"isRecordSelected",value:function(e){return this._state.recordsVisible.some((function(t){return t===e}))}},{key:"reset",value:function(){this.data=[]}},{key:"initAnalogRecords",value:function(){var e=this;this._state.records=[],this.activities.filter((function(e){return e.recorder.model.isAnalogRecorder()})).forEach((function(t){null!=t.recorder.records&&t.recorder.records.forEach((function(i){i.activity=t,e._state.records.push(i)}))})),0===this._state.recordsVisible.length&&(this._state.recordsVisible=Object(u["a"])(this.state.records))}},{key:"initAnalogRecordsVisible",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0!==this._state.records.length?t.length>0&&(this._state.recordsVisible=t.filter((function(t){return e._state.records.some((function(e){return e.groupId===t.groupId}))})).map((function(t){var i=e._state.records.find((function(e){return e.groupId===t.groupId}));return null!=i&&(i.color=t.color),i}))):this._state.recordsVisible=[]}},{key:"update",value:function(){var e=this;this.updateTime(),this.updateAnalogRecords(),this.data=[],this.activities.forEach((function(t){e.updateData(t)})),this.updateLayoutLabel()}},{key:"updateAnalogRecords",value:function(){var e=this;this._state.records=this._state.records.filter((function(e){return e.node.records.some((function(t){return t.groupId===e.groupId}))})),this._activities.filter((function(e){return e.recorder.model.isAnalogRecorder()})).forEach((function(t){null!=t.recorder.records&&t.recorder.records.forEach((function(i){e._state.records.includes(i)||(i.activity=t,e._state.records.push(i))}))})),this._state.records.forEach((function(e){return e.update()}))}},{key:"updateRecordsColor",value:function(){var e=this;this._data.forEach((function(t){if("background"!==t.class){var i=e._state.recordsVisible.find((function(e){return e.id===t.recordId&&e.activity.idx===t.activityIdx})),n=e._activities[t.activityIdx],a=i?i.color:n.recorder.view.color||"black";t.marker?t.marker.color=a:t.line&&(t.line.color=a)}}))}},{key:"updateData",value:function(e){}},{key:"updateLayoutLabel",value:function(){}},{key:"updateTime",value:function(){this._state.time.start=0,this._state.time.end=Math.max(this._state.time.end,this._panel.graph.currenttime+1)}},{key:"removeRecord",value:function(e){this._state.recordsVisible.splice(this._state.recordsVisible.indexOf(e),1)}},{key:"toJSON",value:function(){var e={id:this._id};return this._state.recordsVisible.length>0&&(e.records=this._state.recordsVisible.map((function(e){return e.toJSON()}))),e}}]),e}(),p=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e),a.activityType="analog",a.id="analogSignalPanelModel",a.label="analog signals",a.init(s),a}return Object(a["a"])(i,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.initActivities(),this.initAnalogRecords(),this.initAnalogRecordsVisible(e.records)}},{key:"initActivities",value:function(){this.activities=this.panel.graph.project.analogSignalActivities}},{key:"axisTitle",get:function(){var e="",t=this.state.recordsVisible,i=new Set(t.map((function(e){return e.id})));if(1===i.size){var n=t[0];e=n.labelCapitalize,n.unit&&(e+=" [".concat(n.unit,"]"))}else e=t.every((function(e){return e.id.includes("ct_")}))?"Channel activation":t.every((function(e){return e.id.includes("g_")}))?"Conductance [nS]":t.every((function(e){return e.id.includes("I_syn_")}))?"Total synaptic current [pA]":t.every((function(e){return e.id.includes("weighted_spikes_")}))?"Weighted incoming spikes":"Multiple records";return e}}]),i}(h),v=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-bar",a.id="analogSignalHistogram",a.panel.xaxis=2,a.params=[{id:"bins",input:"tickSlider",label:"number of bins",ticks:[1,5,10,20,50,100,200],value:50}],a}return Object(a["a"])(i,[{key:"updateData",value:function(){var e=this;this.data=[],0!==this.state.recordsVisible.length&&(this.state.recordsVisible.forEach((function(t){e.updateHistogramRange(t.values)})),this.state.recordsVisible.forEach((function(t){return e.updateEventData(t)})))}},{key:"updateHistogramRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0!==e.length&&(this.state.histogram.start=Math.min(this.state.histogram.start,l["min"](e)),this.state.histogram.end=Math.max(this.state.histogram.end,l["max"](e)))}},{key:"updateEventData",value:function(e){if(null!=e.values&&0!==e.values.length){var t=this.state.histogram.start,i=this.state.histogram.end+1,n=(i-t)/this.params[0].value;this.data.push({activityIdx:e.activity.idx,histfunc:"count",hoverinfo:"x+y",legendgroup:e.groupId,marker:{color:e.color,line:{color:e.darkMode?"#121212":"white",width:this.params[0].value>100?0:1}},name:"Histogram of "+e.nodeLabel,opacity:.6,recordId:e.id,showlegend:!1,source:"x",type:"histogram",visible:this.state.visible,x:e.values,xaxis:"x"+this.panel.xaxis,xbins:{end:i,size:n,start:t}})}}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.title=this.axisTitle,this.panel.layout.yaxis.title="Count"}}]),i}(p),m=(i("b0c0"),i("2ca0"),function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-bell-curve-cumulative",a.id="analogSignalPlot",a.panel.xaxis=1,a}return Object(a["a"])(i,[{key:"update",value:function(){var e=this;this.data=[],0!==this.state.recordsVisible.length&&(this.updateAnalogRecords(),this.updateTime(),this.state.recordsVisible.forEach((function(t){"V_m"===t.id&&e.updateSpikeThresholdLine(t),1===t.nodeSize?e.updateSingleLine(t):t.nodeSize>1&&(e.updateMultipleLines(t),e.updateAverageLine(t))})),this.updateLayoutLabel())}},{key:"createGraphDataPoints",value:function(e,t){var i=e.map((function(){return{x:[],y:[],name:""}}));return t.activity.events.senders.forEach((function(n,a){var s=e.indexOf(n);-1!==s&&(i[s].x.push(t.times[a]),i[s].y.push(t.values[a]),i[s].name=t.id+" of "+t.nodeLabel)})),i}},{key:"updateSpikeThresholdLine",value:function(e){var t=e.node.nodes.filter((function(e){return e.modelId.startsWith("iaf")})).map((function(e){return e.getParameter("V_th")||-55}));if(t.length>0){var i={color:e.color,dash:"dot",width:2};this.data.push({activityIdx:e.activity.idx,hoverinfo:"none",id:"threshold",line:i,mode:"lines",name:"Spike threshold",opacity:.5,recordId:e.id,showlegend:!0,type:"scattergl",visible:this.state.visibleThreshold,x:[.1,e.activity.currenttime],y:[t[0],t[0]]})}}},{key:"updateSingleLine",value:function(e){if(e.hasEvent()){var t={color:e.color,width:1.5};this.data.push({activityIdx:e.activity.idx,hoverinfo:"x+y",legendgroup:e.groupId,line:t,mode:"lines",name:e.id+" of "+e.nodeLabel,recordId:e.id,showlegend:!0,type:"scattergl",visible:this.state.visible,x:e.times,y:e.values})}}},{key:"updateMultipleLines",value:function(e){var t=this;if(e.hasEvent()){var i=e.activity.nodeIds.slice(0,10),n=this.createGraphDataPoints(i,e);n.forEach((function(i,n){var a={color:e.color,width:1};t.data.push({activityIdx:e.activity.idx,hoverinfo:"none",legendgroup:e.groupId,line:a,mode:"lines",name:i.name,opacity:0===n?.5:.3,recordId:e.id,showlegend:0===n,type:"scattergl",visible:t.state.visible,x:i.x,y:i.y})}))}}},{key:"updateAverageLine",value:function(e){if(e.hasEvent()){var t=e.activity.nodeIds,i=this.createGraphDataPoints(t,e),n=i[0].x,a=n.map((function(e,n){var a=[];t.forEach((function(e,t){return a.push(i[t].y[n])}));var s=a.reduce((function(e,t){return e+t})),o=s/t.length;return o})),s={color:e.activity.project.app.darkMode?"#121212":"white",width:4.5};this.data.push({activityIdx:e.activity.idx,class:"background",hoverinfo:"none",legendgroup:e.groupId,line:s,mode:"lines",recordId:e.id,showlegend:!1,type:"scattergl",visible:this.state.visible,x:n,y:a});var o={color:e.color,width:1.5};this.data.push({activityIdx:e.activity.idx,hoverinfo:"x+y",legendgroup:e.groupId,line:o,mode:"lines",name:e.groupId+" average",recordId:e.id,showlegend:!1,type:"scattergl",visible:this.state.visible,x:n,y:a})}}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.title="Time [ms]",this.panel.layout.yaxis.title=this.axisTitle}}]),i}(p)),f=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a;return Object(n["a"])(this,i),a=t.call(this,e),a.activityType="spike",a.id="spikeTimesPanelModel",a.label="spike times",a.init(),a}return Object(a["a"])(i,[{key:"init",value:function(){this.initActivities()}},{key:"initActivities",value:function(){this.activities=this.panel.graph.project.spikeActivities}}]),i}(h),_=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-bar",a.id="CVISIHistogram",a.label="CV of ISI",a.panel.xaxis=3,a.params=[{input:"tickSlider",label:"bin size",ticks:[.01,.02,.05,.1,.2,.5],value:.05}],a}return Object(a["a"])(i,[{key:"updateData",value:function(e){if(0!==e.nodeIds.length){var t=0,i=5,n=this.params[0].value,a=e.ISI(),s=a.map((function(t){return e.getStandardDeviation(t)/e.getAverage(t)}));this.data.push({activityIdx:e.idx,histfunc:"count",hoverinfo:"y",legendgroup:"spikes"+e.idx,marker:{color:e.recorder.view.color,line:{color:e.project.app.darkMode?"#121212":"white",width:(i-t)/n>100?0:1}},name:"Histogram of CV(ISI) in"+e.recorder.view.label,opacity:.6,showlegend:!1,source:"x+y",type:"histogram",visible:this.state.visible,x:s,xbins:{end:i,size:n,start:t}})}}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.title="CV of ISI",this.panel.layout.yaxis.title="Count"}}]),i}(f),b=(i("99af"),function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-bar",a.id="interSpikeIntervalHistogram",a.label="inter-spike interval",a.panel.xaxis=2,a.params=[{id:"binSize",input:"tickSlider",label:"bin size",ticks:[1,2,5,10,20,50],unit:"ms",value:5}],a.state.xaxisType="linear",a}return Object(a["a"])(i,[{key:"updateData",value:function(e){if(0!==e.nodeIds.length){var t=e.ISI(),i=[].concat.apply([],t),n=0,a=l["max"](i)+1,s=this.params[0].value;this.data.push({activityIdx:e.idx,histfunc:"count",hoverinfo:"x-y",legendgroup:"spikes"+e.idx,marker:{color:e.recorder.view.color,line:{color:e.project.app.darkMode?"#121212":"white",width:(a-n)/s>100?0:1}},name:"Histogram of ISI in"+e.recorder.view.label,opacity:.6,showlegend:!1,source:"x",type:"histogram",visible:this.state.visible,x:i,xbins:{end:a,size:s,start:n}})}}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.type=this.state.xaxisType,this.panel.layout.xaxis.title="Inter-spike interval [ms]",this.panel.layout.yaxis.title="Count"}}]),i}(f)),g=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-bell-curve-cumulative",a.id="senderCVISIPlot",a.label="CV of ISI in each sender",a.panel.xaxis=4,a.params=[{id:"plotMode",input:"select",items:["lines","lines+markers","markers","bar"],label:"Plot mode",value:"lines"},{id:"lineShape",input:"select",items:[{text:"linear",value:"linear"},{text:"spline",value:"spline"},{text:"vertical-horizontal-vertical steps",value:"vhv"},{text:"horizontal-vertical-horizontal steps",value:"hvh"},{text:"vertical-horizontal steps",value:"vh"},{text:"horizontal-vertical steps",value:"hv"}],label:"Line shape",value:"linear"}],a}return Object(a["a"])(i,[{key:"plotMode",get:function(){return this.params[0].value}},{key:"plotType",get:function(){return"bar"===this.plotMode?this.plotMode:"scatter"}},{key:"lineShape",get:function(){return this.params[1].value}},{key:"updateData",value:function(e){if(0!==e.nodeIds.length){var t=e.nodeIds,i=e.ISI(),n=i.map((function(t){return t.length>1?e.getStandardDeviation(t)/e.getAverage(t):0}));this.data.push({activityIdx:e.idx,hoverinfo:"x+y",legendgroup:"spikes"+e.idx,line:{shape:this.lineShape},marker:{color:e.recorder.view.color,line:{color:e.project.app.darkMode?"#121212":"white",width:t.length>100?0:1}},mode:this.plotMode,name:"CV of ISI in each sender in"+e.recorder.view.label,opacity:.6,showlegend:!1,type:this.plotType,visible:this.state.visible,x:t,y:n})}}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.type=this.state.xaxisType,this.panel.layout.xaxis.title="Senders",this.panel.layout.yaxis.title="CV of ISI"}}]),i}(f),y=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-bell-curve-cumulative",a.id="senderMeanISIPlot",a.label="mean ISI in each sender",a.panel.xaxis=4,a.params=[{id:"plotMode",input:"select",items:["lines","lines+markers","markers","bar"],label:"Plot mode",value:"lines"},{id:"lineShape",input:"select",items:[{text:"linear",value:"linear"},{text:"spline",value:"spline"},{text:"vertical-horizontal-vertical steps",value:"vhv"},{text:"horizontal-vertical-horizontal steps",value:"hvh"},{text:"vertical-horizontal steps",value:"vh"},{text:"horizontal-vertical steps",value:"hv"}],label:"Line shape",value:"linear",show:function(){return a.plotMode.includes("lines")}}],a}return Object(a["a"])(i,[{key:"lineShape",get:function(){return this.params[1].value}},{key:"plotMode",get:function(){return this.params[0].value}},{key:"plotType",get:function(){return"bar"===this.plotMode?this.plotMode:"scatter"}},{key:"updateData",value:function(e){if(0!==e.nodeIds.length){var t=e.nodeIds,i=e.ISI(),n=i.map((function(t){return t.length>0?e.getAverage(t):0}));this.data.push({activityIdx:e.idx,hoverinfo:"x+y",legendgroup:"spikes"+e.idx,line:{shape:this.lineShape},marker:{color:e.recorder.view.color,line:{color:e.project.app.darkMode?"#121212":"white",width:t.length>100?0:1}},mode:this.plotMode,name:"Mean ISI in each sender in"+e.recorder.view.label,opacity:.6,showlegend:!1,type:this.plotType,visible:this.state.visible,x:t,y:n})}}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.type=this.state.xaxisType,this.panel.layout.xaxis.title="Senders",this.panel.layout.yaxis.title="Mean ISI [ms]"}}]),i}(f),k=i("b85c"),j=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-bell-curve-cumulative",a.id="senderSpikeCountPlot",a.label="spike count in each sender",a.panel.xaxis=4,a.params=[{id:"plotMode",input:"select",items:["lines","lines+markers","markers","bar"],label:"Plot mode",value:"lines"},{id:"lineShape",input:"select",items:[{text:"linear",value:"linear"},{text:"spline",value:"spline"},{text:"vertical-horizontal-vertical steps",value:"vhv"},{text:"horizontal-vertical-horizontal steps",value:"hvh"},{text:"vertical-horizontal steps",value:"vh"},{text:"horizontal-vertical steps",value:"hv"}],label:"Line shape",value:"linear"},{id:"spikeRate",input:"checkbox",label:"Spikes per seconds (spikes/s)",value:!1}],a}return Object(a["a"])(i,[{key:"lineShape",get:function(){return this.params[1].value}},{key:"plotMode",get:function(){return this.params[0].value}},{key:"plotType",get:function(){return"bar"===this.plotMode?this.plotMode:"scatter"}},{key:"spikeRate",get:function(){return this.params[2].value}},{key:"updateData",value:function(e){if(0!==e.nodeIds.length){var t,i=e.nodeIds,n=e.events.senders,a={},s=Object(k["a"])(n);try{for(s.s();!(t=s.n()).done;){var o=t.value;a[o]=a[o]?a[o]+1:1}}catch(u){s.e(u)}finally{s.f()}var r=this.spikeRate?e.endtime/1e3:1,c=i.map((function(e){return a[e]?a[e]/r:0})),l=i.length;this.data.push({activityIdx:e.idx,hoverinfo:"x+y",legendgroup:"spikes"+e.idx,line:{shape:this.lineShape},marker:{color:e.recorder.view.color,line:{color:e.project.app.darkMode?"#121212":"white",width:l>100?0:1}},mode:this.plotMode,name:"Spike count in each sender in"+e.recorder.view.label,opacity:.6,showlegend:!1,type:this.plotType,visible:this.state.visible,x:i,y:c})}}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.title="Neuron ID",this.panel.layout.yaxis.title=this.spikeRate?"Spikes/s":"Spike count"}}]),i}(f),x=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-bar",a.id="spikeTimesHistogram",a.panel.xaxis=1,a.params=[{id:"binSize",input:"tickSlider",label:"bin size",ticks:[5,10,20,50,100,200,500,1e3],unit:"ms",value:20}],a}return Object(a["a"])(i,[{key:"updateData",value:function(e){if(0!==e.nodeIds.length){var t=e.events.times,i=this.state.time.start,n=this.state.time.end,a=this.params[0].value;this.data.push({activityIdx:e.idx,histfunc:"count",hoverinfo:"x+y",legendgroup:"spikes"+e.idx,marker:{color:e.recorder.view.color,line:{color:e.project.app.darkMode?"#121212":"white",width:(n-i)/a>100?0:1}},name:"Histogram of spike times in"+e.recorder.view.label,opacity:.6,showlegend:!1,source:"x+y",type:"histogram",visible:this.state.visible,x:t,xbins:{end:n,size:a,start:i}})}}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.title="Time [ms]",this.panel.layout.yaxis.title="Spike count"}}]),i}(f),w=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n["a"])(this,i),a=t.call(this,e,s),a.icon="mdi-chart-scatter-plot",a.id="spikeTimesRasterPlot",a.panel.height=30,a.panel.xaxis=1,a}return Object(a["a"])(i,[{key:"updateData",value:function(e){0!==e.nodeIds.length&&this.data.push({activityIdx:e.idx,hoverinfo:"x",legendgroup:"spikes"+e.idx,marker:{color:e.recorder.view.color,size:5},mode:"markers",name:"Spikes of "+e.recorder.view.label,showlegend:!0,type:"scattergl",visible:this.state.visible,x:e.events.times,y:e.events.senders})}},{key:"updateLayoutLabel",value:function(){this.panel.layout.xaxis.title="Time [ms]",this.panel.layout.yaxis.title="Neuron ID"}}]),i}(f),O=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,e),Object(s["a"])(this,"_graph",void 0),Object(s["a"])(this,"_layout",{xaxis:{showgrid:!0,title:""},yaxis:{height:10,showgrid:!0,title:""}}),Object(s["a"])(this,"_models",[{activityType:"analog",component:m,id:"analogSignalPlot",icon:"mdi-chart-bell-curve-cumulative",label:"Analog signals"},{activityType:"analog",component:v,id:"analogSignalHistogram",icon:"mdi-chart-bar",label:"analog signals"},{activityType:"spike",component:w,id:"spikeTimesRasterPlot",icon:"mdi-chart-scatter-plot",label:"Spike times"},{activityType:"spike",component:x,id:"spikeTimesHistogram",icon:"mdi-chart-bar",label:"Spike times"},{activityType:"spike",component:b,id:"interSpikeIntervalHistogram",icon:"mdi-chart-bar",label:"Inter-spike interval"},{activityType:"spike",component:_,id:"CVISIHistogram",icon:"mdi-chart-bar",label:"CV of ISI"},{activityType:"spike",component:j,id:"senderSpikeCountPlot",icon:"mdi-chart-bell-curve-cumulative",label:"Spike count in each sender"},{activityType:"spike",component:y,id:"senderMeanISIPlot",icon:"mdi-chart-bell-curve-cumulative",label:"Mean ISI in each sender"},{activityType:"spike",component:g,id:"senderCVISIPlot",icon:"mdi-chart-bell-curve-cumulative",label:"CV ISI in each sender"}]),Object(s["a"])(this,"_model",void 0),Object(s["a"])(this,"_state",{initialized:!1,visible:!0}),Object(s["a"])(this,"_xaxis",1),this._graph=t,this.selectModel(i.model?i.model.id:"spikeTimesRasterPlot",i.model)}return Object(a["a"])(e,[{key:"graph",get:function(){return this._graph}},{key:"height",get:function(){return this._layout.yaxis.height},set:function(e){this._layout.yaxis.height=e}},{key:"idx",get:function(){return this.graph.panels.indexOf(this)}},{key:"layout",get:function(){return this._layout}},{key:"model",get:function(){return this._model}},{key:"models",get:function(){return this._models}},{key:"modelsAnalog",get:function(){return this._models.filter((function(e){return"analog"===e.activityType}))}},{key:"modelsSpike",get:function(){return this._models.filter((function(e){return"spike"===e.activityType}))}},{key:"params",get:function(){return[]}},{key:"state",get:function(){return this._state}},{key:"xaxis",get:function(){return this._xaxis},set:function(e){this._xaxis=e}},{key:"yaxis",get:function(){return this.graph.panelsVisible.indexOf(this)+1}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"toggleVisible",value:function(){this._state.visible=!this._state.visible,this._graph.update()}},{key:"increaseHeight",value:function(){this.height+=1,this._graph.update()}},{key:"decreaseHeight",value:function(){1!==this.height&&(this.height-=1,this._graph.update())}},{key:"selectModel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"spikeTimesRasterPlot",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var i=this._models.find((function(t){return t.id===e}));i&&(this._model=new i.component(this,t),this._state.initialized=!0)}this._state.initialized||(this._model=new w(this,t),this._state.initialized=!0)}},{key:"updatePanelLayout",value:function(){var e=this.graph.panelsVisible,t=e.map((function(e){return e.layout.yaxis.height})),i=o["c"](t);t.reverse();var n=t.map(function(e){return function(t){return e+=t}}(0)),a=n.map((function(e){return e/i}));a.unshift(0),a.reverse();var s=1===this.xaxis?.02:.07,r=[a[this.yaxis],a[this.yaxis-1]-s];this.layout.yaxis.domain=r,this.layout.xaxis.anchor="y"+this.yaxis}},{key:"remove",value:function(){this._graph.removePanel(this)}},{key:"toJSON",value:function(){return{model:this._model.toJSON()}}}]),e}()},"99a9":function(e){e.exports=JSON.parse('{"center":{"label":"center","value":[0,0]},"columns":{"label":"columns","max":10,"min":1,"step":1,"value":1},"extent":{"label":"extent","value":[1,1]},"positions":{"label":"positions","value":[]},"rows":{"label":"rows","max":10,"min":1,"step":1,"value":1}}')},"9dec":function(e){e.exports=JSON.parse('{"camera":{"position":{"x":16,"y":0,"z":0},"distance":24,"rotation":{"speed":0,"theta":0},"control":true},"colorMap":{"max":-55,"min":-70,"reverse":false,"scale":"spectral"},"dotSize":10,"frames":{"idx":0,"rate":30,"sampleRate":1,"speed":1,"windowSize":1},"trail":{"fading":false,"length":10,"mode":"off"}}')},"9f51":function(e){e.exports=JSON.parse('{"id":"hh_psc_alpha","elementType":"neuron","label":"HH psc alpha","recordables":["Act_m","Act_n","I_syn_ex","I_syn_in","Inact_h","V_m"],"params":[{"id":"C_m","label":"capacity of the membrane","unit":"pF","value":100,"input":"valueSlider","max":500,"min":0,"step":1},{"id":"E_K","label":"potassium reversal potential","unit":"mV","value":-77,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"E_L","label":"leak reversal potential","unit":"mV","value":-54.4,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"E_Na","label":"sodium reversal potential","unit":"mV","value":50,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"I_e","label":"constant external input current","unit":"pA","value":0,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"V_m","label":"initial membrane potential","unit":"mV","value":-65,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"g_K","label":"potassium conductance","unit":"nS","value":3600,"input":"valueSlider","max":5000,"min":10,"step":10},{"id":"g_L","label":"leak conductance","unit":"nS","value":30,"input":"valueSlider","max":30,"min":1,"step":1},{"id":"g_Na","label":"sodium conductance","unit":"nS","value":12000,"input":"valueSlider","max":20000,"min":100,"step":100},{"id":"t_ref","label":"duration of refractory period","unit":"ms","value":2,"input":"valueSlider","max":5,"min":0.1,"step":0.1},{"id":"tau_syn_ex","label":"time constant of the excitatory synapse","unit":"ms","value":0.2,"input":"valueSlider","max":4,"min":0.1,"step":0.1},{"id":"tau_syn_in","label":"time constant of the inhibitory synapse","unit":"ms","value":2,"input":"valueSlider","max":4,"min":0.1,"step":0.1}]}')},a36d:function(e){e.exports=JSON.parse('{"name":"step current (up/down) to model","network":{"nodes":[{"model":"step_current_generator","size":1,"view":{"position":{"x":50,"y":100}},"params":[{"id":"amplitude_times","value":[100,300,500,700],"visible":true},{"id":"amplitude_values","value":[1,0,-1,0],"visible":true}]},{"model":"iaf_psc_alpha","size":1,"view":{"position":{"x":200,"y":50}},"params":[]},{"model":"voltmeter","view":{"position":{"x":350,"y":100}},"params":[{"id":"interval","value":0.1,"visible":true}]}],"connections":[{"source":0,"target":1},{"source":2,"target":1}]},"simulation":{"kernel":{"resolution":0.1},"time":1000,"randomSeed":1},"version":"3.1.0"}')},a62d:function(e,t,i){"use strict";i("766c")},a672:function(e){e.exports=JSON.parse('{"centerNetwork":true,"centerSelected":false,"showGrid":false}')},a793:function(e){e.exports=JSON.parse('{"params":[{"id":"time","input":"valueSlider","label":"simulation time","max":2000,"min":0,"step":10,"unit":"ms","value":1000}]}')},adeb:function(e,t,i){},ae8d:function(e){e.exports=JSON.parse('{"name":"current steps to model","network":{"nodes":[{"model":"step_current_generator","size":1,"view":{"position":{"x":50,"y":100}},"params":[{"id":"amplitude_times","value":[100,300,500,700,900,1100,1300,1500,1700,1900,2100,2300,2500,2700,2900,3100],"visible":true},{"id":"amplitude_values","value":[10,0,20,0,40,0,80,0,160,0,320,0,640,0,1280,0],"visible":true}]},{"model":"iaf_psc_alpha","size":1,"view":{"position":{"x":200,"y":50}},"params":[]},{"model":"voltmeter","view":{"position":{"x":350,"y":100}},"params":[{"id":"interval","value":0.1,"visible":true}]}],"connections":[{"source":0,"target":1},{"source":2,"target":1}]},"simulation":{"kernel":{"resolution":0.1},"time":3300,"randomSeed":1},"version":"3.1.0"}')},b2b8:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("d4ec"),a=i("bee2"),s=i("257e"),o=i("262e"),r=i("2caf"),c=i("ade3"),l=(i("fb6a"),i("ed09")),u=i("d442"),d=i("fa0a"),h=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e){var a;return Object(n["a"])(this,i),a=t.call(this),Object(c["a"])(Object(s["a"])(a),"_hash",void 0),Object(c["a"])(Object(s["a"])(a),"_project",void 0),Object(c["a"])(Object(s["a"])(a),"_script",void 0),Object(c["a"])(Object(s["a"])(a),"_state",void 0),a._project=e,a._state=Object(l["e"])({codeInsite:!1}),a}return Object(a["a"])(i,[{key:"hash",get:function(){return this._hash}},{key:"project",get:function(){return this._project}},{key:"script",get:function(){return this._script},set:function(e){this._script=e,this._hash=Object(u["sha1"])(this._script)}},{key:"shortHash",get:function(){return this._hash?this._hash.slice(0,6):""}},{key:"state",get:function(){return this._state}},{key:"generate",value:function(){var e=!!this._project.app.project.view&&this._project.app.project.view.config.simulateWithInsite;this._script="",this._script+=this.importModules(),this._script+="nest.ResetKernel()\n",e&&(this._script+='# "insitemodule" can only be loaded once.\n',this._script+="try:",this._script+=this._()+'nest.Install("insitemodule")\n',this._script+="except:",this._script+=this._()+"pass"),this._script+="\n\n# Simulation kernel\n",this._script+=this._project.simulation.code.setKernelStatus(),this._script+="\n\n# Create nodes\n",this._script+=this._project.network.code.createNodes(),this._script+="\n\n# Connect nodes\n",this._script+=this._project.network.code.connectNodes(),this._script+="\n\n# Run simulation\n",this._script+=this._project.simulation.code.simulate(),!e&&this._project.network.recorders.length>0&&(this._script+="\n\n# Get IDs of recorded node\n",this._script+=this.defineGetNodeIds(),this._project.network.hasSpatialNodes()&&(this._script+="\n\n# Get node positions\n",this._script+=this.defineGetNodePositions()),this._script+="\n\n# Collect response\n",this._script+=this.response()),this._state.codeInsite=e,this._hash=Object(u["sha1"])(this._script)}},{key:"importModules",value:function(){var e="";return e+="import nest\n",e+="import numpy\n",e+"\n"}},{key:"defineGetNodeIds",value:function(){var e="";return e+="def getNodeIds(node):",e+=this._()+'if node.model == "spike_recorder":',e+=this._(2)+"return list(nest.GetConnections(None, node).sources())",e+=this._()+"else:",e+=this._(2)+"return list(nest.GetConnections(node).targets())",e+"\n"}},{key:"defineGetNodePositions",value:function(){var e="def getPosition(node):";return e+=this._()+"return list(zip(node.tolist(), nest.GetPosition(node)))",e+"\n"}},{key:"response",value:function(){var e="";return e+="response = {",e+=this._()+'"kernel": {',e+=this._(2)+'"biological_time": nest.biological_time',e+=this._()+"}",this._project.network.recorders.length>0&&(e+=","+this._()+'"activities": '+this._project.network.code.getActivities(),this._project.network.hasSpatialNodes()&&(e+=","+this._()+'"positions": '+this._project.network.code.getNodePositions())),e+=this.end()+"}",e+"\n"}}]),i}(d["a"])},b69b:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var n=i("d4ec"),a=i("bee2"),s=i("257e"),o=i("262e"),r=i("2caf"),c=i("ade3"),l=(i("e9c4"),i("bf19"),i("b0c0"),i("d442")),u=i("669f"),d=(i("cb29"),i("a630"),i("3ca3"),i("a15b"),i("d81d"),i("b680"),i("7909")),h=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,e),Object(c["a"])(this,"_name","free"),Object(c["a"])(this,"_edgeWrap",void 0),Object(c["a"])(this,"_extent",void 0),Object(c["a"])(this,"_numDimensions",void 0),Object(c["a"])(this,"_pos",void 0),Object(c["a"])(this,"_spatial",void 0),this._spatial=t,this._pos=i.pos||[],this._numDimensions=i.numDimensions||2,this._extent=i.extent||new Array(this._numDimensions).fill(1),this._edgeWrap=i.edgeWrap||!1}return Object(a["a"])(e,[{key:"edgeWrap",get:function(){return this._edgeWrap},set:function(e){this._edgeWrap=e}},{key:"extent",get:function(){return this._extent},set:function(e){this._extent=e}},{key:"name",get:function(){return this._name}},{key:"numDimensions",get:function(){return this._numDimensions},set:function(e){this._numDimensions=e,this._extent=new Array(this._numDimensions).fill(1)}},{key:"pos",get:function(){return this._pos},set:function(e){this._pos=e}},{key:"spatial",get:function(){return this._spatial}},{key:"round",value:function(e){return Math.floor(100*e)/100}},{key:"generate",value:function(){var e=this,t=-1*this._extent[0]/2,i=this._extent[0]/2,n=-1*this._extent[1]/2,a=this._extent[1]/2,s=-1*this._extent[2]/2,o=this._extent[2]/2;this._pos=Array.from({length:this._spatial.node.size},(function(){var r=d["a"](t,i),c=d["a"](n,a),l=[e.round(r),e.round(c)];if(3===e._numDimensions){var u=d["a"](s,o);l.push(e.round(u))}return l}))}},{key:"toCode",value:function(){var e=[];return this._pos.length>0?e.push("["+this._pos.map((function(e){var t=e.map((function(e){return e.toFixed(2)}));return"["+t.join(",")+"]"})).join(",")+"]"):(e.push("nest.random.uniform(-0.5, 0.5)"),e.push("num_dimensions=".concat(this._numDimensions))),"nest.spatial.free("+this.spatial.node.code._(2)+e.join(","+this.spatial.node.code._(2))+"\n)"}},{key:"toJSON",value:function(){var e={edgeWrap:this._edgeWrap,extent:this._extent,numDimensions:this._numDimensions,pos:this._pos};return e}}]),e}(),p=(i("d3b7"),i("159b"),i("4de4"),function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n["a"])(this,e),Object(c["a"])(this,"_name","grid"),Object(c["a"])(this,"_center",void 0),Object(c["a"])(this,"_edgeWrap",void 0),Object(c["a"])(this,"_extent",void 0),Object(c["a"])(this,"_numDimensions",void 0),Object(c["a"])(this,"_pos",void 0),Object(c["a"])(this,"_shape",void 0),Object(c["a"])(this,"_spatial",void 0),this._spatial=t,this._numDimensions=i.numDimensions||2,this._center=i.center||new Array(this._numDimensions).fill(0),this._extent=i.extent||new Array(this._numDimensions).fill(1),this._shape=i.shape||new Array(this._numDimensions).fill(1),this._edgeWrap=i.edgeWrap||!1}return Object(a["a"])(e,[{key:"center",get:function(){return this._center},set:function(e){this._center=e}},{key:"edgeWrap",get:function(){return this._edgeWrap},set:function(e){this._edgeWrap=e}},{key:"extent",get:function(){return this._extent},set:function(e){this._extent=e}},{key:"name",get:function(){return this._name}},{key:"numDimensions",get:function(){return this._numDimensions},set:function(e){this._numDimensions=e,this._center=new Array(this._numDimensions).fill(0),this._extent=new Array(this._numDimensions).fill(1),this._shape=new Array(this._numDimensions).fill(1)}},{key:"pos",get:function(){return this._pos},set:function(e){this._pos=e}},{key:"shape",get:function(){return this._shape},set:function(e){this._shape=e}},{key:"spatial",get:function(){return this._spatial}},{key:"generate",value:function(){var e=this,t=this._center[0]-this._extent[0]/2,i=this._center[0]+this._extent[0]/2,n=this._center[1]-this._extent[1]/2,a=this._center[1]+this._extent[1]/2,s=this.range(t,i,this._shape[0]),o=this.range(n,a,this._shape[1]);this._pos=[],s.forEach((function(t){o.forEach((function(i){e._pos.push([e.round(t),e.round(i)])}))}))}},{key:"range",value:function(e,t,i){var n=(t-e)/i/2,a=d["b"](e,t,n);return a._data.filter((function(e,t){return t%2===1}))}},{key:"round",value:function(e){return Math.floor(100*e)/100}},{key:"toCode",value:function(){return"nest.spatial.grid(".concat(JSON.stringify(this._shape),")")}},{key:"toJSON",value:function(){var e={center:this._center,edgeWrap:this._edgeWrap,extent:this._extent,numDimensions:this._numDimensions,shape:this._shape};return e}}]),e}()),v=function(e){Object(o["a"])(i,e);var t=Object(r["a"])(i);function i(e,a){var o;return Object(n["a"])(this,i),o=t.call(this,"NodeSpatial"),Object(c["a"])(Object(s["a"])(o),"_hash",void 0),Object(c["a"])(Object(s["a"])(o),"_node",void 0),Object(c["a"])(Object(s["a"])(o),"_positions",void 0),o._node=e,o.init(a),o}return Object(a["a"])(i,[{key:"hash",get:function(){return this._hash}},{key:"node",get:function(){return this._node}},{key:"positions",get:function(){return this._positions}},{key:"updateHash",value:function(){this._hash=Object(l["sha1"])(JSON.stringify(this.toJSON()))}},{key:"init",value:function(e){if(void 0!=e)switch(e.positions){case"free":this._positions=new h(this,e.specs);break;case"grid":this._positions=new p(this,e.specs);break;default:this._positions=void 0}else this._positions=void 0}},{key:"hasPositions",value:function(){return void 0!=this._positions}},{key:"toJSON",value:function(){var e;return e=void 0==this._positions?{}:{positions:this._positions.name,specs:this._positions.toJSON()},e}}]),i}(u["a"])},bcdc:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("a15b"),i("99af"),i("b0c0");var n=!1;function a(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=new Date;n&&console.log(a.toLocaleTimeString()+" - "+new Array(i).join("  ")+"".concat(t," (").concat(e.constructor.name,")"))}},be10:function(e){e.exports=JSON.parse('{"custom":false,"hostname":"","path":"/","port":"","protocol":""}')},bea4:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("1da1"),a=i("d4ec"),s=i("bee2"),o=i("257e"),r=i("262e"),c=i("2caf"),l=i("ade3"),u=(i("4de4"),i("d3b7"),i("caad"),i("2532"),i("7db0"),i("4e82"),i("159b"),i("d81d"),i("8a79"),i("bf19"),i("96cf"),i("ed09")),d=i("ec26"),h=i("669f"),p=(i("99af"),i("a15b"),i("fa0a")),v=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var n;return Object(a["a"])(this,i),n=t.call(this),Object(l["a"])(Object(o["a"])(n),"_model",void 0),n._model=e,n}return Object(s["a"])(i,[{key:"copyModel",value:function(){var e="";return e+='nest.CopyModel("'.concat(this._model.existing,'", "').concat(this._model.id,'"'),e+=this.modelParams(),e+=")",e+"\n"}},{key:"modelParams",value:function(){var e=this,t="";if(void 0==this._model.params||0===this._model.params.length)return t;var i=[];return this._model.params.filter((function(e){return e.visible})).map((function(t){"record_from"===t.id?i.push(e._()+'"'.concat(t.id,'": [').concat(t.value.join(","),"]")):i.push(e._()+'"'.concat(t.id,'": ').concat(t.value))})),i.length>0&&(t+=", params={",t+=i.join(","),t+=this.end()+"}"),t}}]),i}(p["a"]),m=i("5e7e"),f=function(e){Object(r["a"])(i,e);var t=Object(c["a"])(i);function i(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a["a"])(this,i),n=t.call(this,"Model"),Object(l["a"])(Object(o["a"])(n),"_name","Model"),Object(l["a"])(Object(o["a"])(n),"_abbreviation",void 0),Object(l["a"])(Object(o["a"])(n),"_app",void 0),Object(l["a"])(Object(o["a"])(n),"_code",void 0),Object(l["a"])(Object(o["a"])(n),"_doc",void 0),Object(l["a"])(Object(o["a"])(n),"_elementType",void 0),Object(l["a"])(Object(o["a"])(n),"_existing",void 0),Object(l["a"])(Object(o["a"])(n),"_id",void 0),Object(l["a"])(Object(o["a"])(n),"_idx",void 0),Object(l["a"])(Object(o["a"])(n),"_label",void 0),Object(l["a"])(Object(o["a"])(n),"_params",[]),Object(l["a"])(Object(o["a"])(n),"_recordables",[]),Object(l["a"])(Object(o["a"])(n),"_state",void 0),n._app=e,n._code=new v(Object(o["a"])(n)),n._doc=s||{},n._id=s.id||Object(d["a"])(),n._idx=n.app.model.state.models.length,n._elementType=null!=s.elementType?s.elementType:s.element_type,n._existing=s.existing||s.id,n._label=s.label||"",n._abbreviation=s.abbreviation,n.update(s),n._state=Object(u["e"])({selected:!1}),n}return Object(s["a"])(i,[{key:"abbreviation",get:function(){return this._abbreviation}},{key:"app",get:function(){return this._app}},{key:"code",get:function(){return this._code}},{key:"doc",get:function(){return this._doc}},{key:"docId",get:function(){return this._doc?this._doc._id:void 0}},{key:"elementType",get:function(){return this._elementType}},{key:"existing",get:function(){return this._existing}},{key:"id",get:function(){return this._id}},{key:"idx",get:function(){return this._idx}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"name",get:function(){return this._name}},{key:"params",get:function(){return this._params}},{key:"recordables",get:function(){return this._recordables}},{key:"state",get:function(){return this._state}},{key:"value",get:function(){return this.id}},{key:"fetchDefaults",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._app.backends.nestSimulator.instance.post("api/GetDefaults",{model:this._id}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateRecordables",value:function(e){"recordables"in e&&(this._recordables=this.config.recordables.filter((function(t){return e.recordables.includes(t.id)})))}},{key:"getParameter",value:function(e){return this._params.find((function(t){return t.id===e}))}},{key:"addParameter",value:function(e){this._params.push(new m["a"](this,e))}},{key:"newParameter",value:function(e,t){var i={id:e,label:e,value:t,level:1,input:"valueSlider",min:0,max:100,step:1};Array.isArray(t)&&(i.input="arrayInput"),this.addParameter(i),this._params.sort((function(e,t){return e.id-t.id}))}},{key:"removeParameter",value:function(e){this._params=this.params.filter((function(t){return t.id!==e}))}},{key:"update",value:function(e){var t=this;this._id=e.id,this.updateRecordables(e),e.params.forEach((function(e){t.getParameter(e.id)?t.updateParameter(e):t.addParameter(e)}))}},{key:"updateParameter",value:function(e){var t=this._params.map((function(e){return e.id})).indexOf(e.id);this._params[t]=new m["a"](this,e)}},{key:"modelChanges",value:function(){}},{key:"clean",value:function(){this._idx=this._app.model.state.models.indexOf(this)}},{key:"clone",value:function(){return new i(this._app,this)}},{key:"isAnalogRecorder",value:function(){return"recorder"===this._elementType&&this._existing.endsWith("meter")}},{key:"isMultimeter",value:function(){return"multimeter"===this._existing}},{key:"isNeuron",value:function(){return"neuron"===this._elementType}},{key:"isRecorder",value:function(){return"recorder"===this._elementType}},{key:"isSpikeRecorder",value:function(){return"spike_recorder"===this._existing}},{key:"isStimulator",value:function(){return"stimulator"===this._elementType}},{key:"resetState",value:function(){this._state.selected=!1}},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._app.model.deleteModel(this.docId));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._app.model.saveModel(this));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"toJSON",value:function(){var e={abbreviation:this._abbreviation,elementType:this._elementType,existing:this._existing,id:this._id,label:this._label,params:this._params.map((function(e){return e.toJSON()})),version:this._app.state.version};return this._recordables.length>0&&(e.recordables=this._recordables.map((function(e){return e.id}))),e}}]),i}(h["a"])},c474:function(e){e.exports=JSON.parse('{"types":[{"icon":"mdi-numeric","id":"constant","label":"constant"},{"icon":"mdi-code-brackets","id":"numpy.arange","label":"ranged array","specs":[{"default":0,"id":"start","optional":true,"label":"start","value":0},{"id":"stop","label":"stop","value":1},{"default":1,"id":"step","optional":true,"label":"step","value":1}]},{"icon":"mdi-code-brackets","id":"numpy.linspace","label":"linear spaced array","specs":[{"id":"start","label":"start","value":0},{"id":"stop","label":"stop","value":1},{"default":50,"id":"num","optional":true,"label":"num","value":50}]},{"icon":"$diceMultipleOutline","id":"random.exponential","label":"exponential distribution","specs":[{"id":"beta","label":"scale","value":1}]},{"icon":"$diceMultipleOutline","id":"random.lognormal","label":"logarithm normal distribution","specs":[{"id":"mean","label":"mean","value":0},{"id":"std","label":"standard deviation","value":1}]},{"icon":"$diceMultipleOutline","id":"random.normal","label":"normal distribution","specs":[{"id":"mean","label":"mean","value":0},{"id":"std","label":"standard deviation","value":1}]},{"icon":"$diceMultipleOutline","id":"random.uniform","label":"uniform distribution","specs":[{"id":"min","label":"lower boundary","value":0},{"id":"max","label":"upper boundary","value":1}]},{"icon":"mdi-arrow-expand-horizontal","id":"spatial.distance","label":"linear distance","specs":[{"id":"a","label":"slope","value":1},{"id":"c","label":"shift","value":0}]},{"icon":"mdi-arrow-expand-horizontal","id":"spatial_distributions.exponential","label":"exponential spatial distribution","specs":[{"id":"beta","label":"scale","value":1}]},{"icon":"mdi-arrow-expand-horizontal","id":"spatial_distributions.gamma","label":"gamma spatial distribution","specs":[{"id":"kappa","label":"shape","value":1},{"id":"theta","label":"scale","value":1}]},{"icon":"mdi-arrow-expand-horizontal","id":"spatial_distributions.gaussian","label":"gaussian spatial distribution","specs":[{"id":"mean","label":"mean","value":0},{"id":"std","label":"standard deviation","value":1}]},{"icon":"mdi-arrow-expand-horizontal","id":"spatial_distributions.gaussian2D","label":"2D gaussian spatial distribution","specs":[{"id":"mean_x","label":"mean x","value":0},{"id":"mean_y","label":"mean y","value":0},{"id":"std_x","label":"std x","value":1},{"id":"std_y","label":"std y","value":1},{"id":"rho","label":"correlation of x and y","value":0}]}]}')},c4da:function(e){e.exports=JSON.parse('{"autoRNGSeed":false,"params":[{"id":"localNumThreads","input":"tickSlider","label":"local number of threads","ticks":[1,2,4,8],"value":1},{"id":"rngSeed","input":"valueSlider","label":"seed of random number generator","max":1000,"min":1,"step":1,"value":1},{"id":"resolution","input":"tickSlider","label":"time resolution","ticks":[0.01,0.1,1],"unit":"ms","value":0.1}]}')},c6c0:function(e){e.exports=JSON.parse('{"color":{"scheme":"category10","cycle":["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]}}')},c7bf:function(e){e.exports=JSON.parse('{"id":"parrot_neuron","elementType":"neuron","label":"parrot neuron","params":[]}')},c998:function(e){e.exports=JSON.parse('[{"text":"category 10","value":"category10","colors":["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]},{"text":"category 20","value":"category20","colors":["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]},{"text":"paired","value":"paired","colors":["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},{"text":"set1","value":"set1","colors":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},{"text":"set2","value":"set2","colors":["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},{"text":"set3","value":"set3","colors":["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]},{"text":"tableau10","value":"stableau10","colors":["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"]},{"text":"google 10c","value":"google10c","colors":["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395"]},{"text":"google 20c","value":"google20c","colors":["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]}]')},cd1d:function(e){e.exports=JSON.parse('{"id":"iaf_cond_alpha","elementType":"neuron","label":"IAF cond alpha","recordables":["g_ex","g_in","t_ref_remaining","V_m"],"params":[{"id":"C_m","label":"capacity of the membrane","unit":"pF","value":250,"input":"valueSlider","max":500,"min":0,"step":1},{"id":"E_L","label":"leak reversal potential","unit":"mV","value":-70,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"E_ex","label":"excitatory reversal potential","unit":"mV","value":0,"input":"valueSlider","max":100,"min":0,"step":1},{"id":"E_in","label":"inhibitory reversal potential","unit":"mV","value":-85,"input":"valueSlider","max":0,"min":-100,"step":1},{"id":"I_e","label":"constant external input current","unit":"pA","value":0,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"V_m","label":"initial membrane potential","unit":"mV","value":-70,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"V_reset","label":"reset potential of the membrane","unit":"mV","value":-60,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"V_th","label":"spike threshold","unit":"mV","value":-55,"input":"valueSlider","max":100,"min":-100,"step":1},{"id":"g_L","label":"leak conductance","unit":"nS","value":16.6667,"input":"valueSlider","max":30,"min":1,"step":1},{"id":"t_ref","label":"duration of refractory period","unit":"ms","value":2,"input":"valueSlider","max":5,"min":0.1,"step":0.1},{"id":"tau_syn_ex","label":"time constant of the excitatory synapse","unit":"ms","value":0.2,"input":"valueSlider","max":4,"min":0.1,"step":0.1},{"id":"tau_syn_in","label":"time constant of the inhibitory synapse","unit":"ms","value":2,"input":"valueSlider","max":4,"min":0.1,"step":0.1}]}')},cd49:function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("d3b7");var n=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("transition",{attrs:{name:"fade"}},[e.core.app.state.ready?i("div",[i("iframe",{staticClass:"iframe",attrs:{id:"NESTSimulatorFrame"}}),i("Navigation",{staticClass:"no-print"}),i("transition",{attrs:{name:"fade"}},[i("router-view")],1),i("v-snackbar",{attrs:{timeout:-1,value:e.state.updateExists},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[i("v-btn",e._b({attrs:{outlined:"",small:""},domProps:{textContent:e._s("Update")},on:{click:e.refreshApp}},"v-btn",n,!1))]}}],null,!1,1483269251)},[e._v(" An update is available. ")])],1):e._e()])],1)},s=[],o=i("ed09"),r=i("5339"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"navigation"},[e.dialogState.open?i("span",["project"===e.dialogState.source?i("ProjectsDialog"):"model"===e.dialogState.source?i("ModelsDialog"):e._e()],1):e._e(),e.state.menu.show?i("span",["project"===e.state.menu.content?i("ProjectsMenu",{attrs:{position:e.state.menu.position}}):"model"===e.state.menu.content?i("ModelsMenu",{attrs:{position:e.state.menu.position}}):"settings"===e.state.menu.content?i("SettingsMenu",{attrs:{position:e.state.menu.position}}):e._e()],1):e._e(),i("v-navigation-drawer",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){e.state.pinNav||(e.state.miniVariant=!0,e.state.navList="")},expression:"\n      () => {\n        if (!state.pinNav) {\n          state.miniVariant = true;\n          state.navList = '';\n        }\n      }\n    "}],style:{transition:e.state.resizing?"initial":""},attrs:{miniVariant:e.state.miniVariant,width:e.state.width,app:"",left:"","mini-variant-width":"64","mobile-breakpoint":"64",permanent:""}},[e.state.miniVariant?e._e():i("div",{staticClass:"resize-handle",on:{mousedown:e.resizeSidebar}}),i("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[i("v-col",[i("v-navigation-drawer",{attrs:{dark:e.state.darkNav,absolute:"","mini-variant":"","mini-variant-width":"64","mobile-breakpoint":"64",permanent:""}},[i("div",{staticClass:"flex"},[i("v-list",{attrs:{nav:""}},e._l(e.routes,(function(t){return i("v-list-item",{key:t.id,class:{"v-list-item--active":e.state.navList===t.id},attrs:{title:t.title},on:{click:function(){return e.updatePageContent(t.id)},contextmenu:function(e){return t.contextmenu(e)}}},[i("v-list-item-icon",[i("v-list-item-group",{staticClass:"nav-item"},[i("v-icon",{attrs:{color:t.color},domProps:{textContent:e._s(t.icon)}}),e._v(" "+e._s(t.title)+" ")],1)],1),i("v-list-item-content")],1)})),1),i("v-spacer"),i("v-list",{attrs:{nav:""}},[e.appConfig.devMode?[i("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[i("v-list-item",e._g(e._b({attrs:{dense:""},on:{click:function(t){return e.app.updateConfig({devMode:!1})}}},"v-list-item",a,!1),n),[i("v-list-item-icon",e._g(e._b({},"v-list-item-icon",a,!1),n),[i("v-list-item-group",{staticClass:"nav-item"},[i("v-icon",{attrs:{dense:""},domProps:{textContent:e._s("mdi-dev-to")}})],1)],1)],1)]}}],null,!1,2267517855)},[i("span",{domProps:{textContent:e._s("Dev mode is on.")}})])]:e._e(),e.appConfig.devMode?i("v-list-item",{attrs:{dense:""},on:{click:function(t){e.app.darkMode=!e.app.darkMode}}},[i("v-list-item-icon",[i("v-list-item-group",{staticClass:"nav-item"},[i("v-icon",{attrs:{dense:""},domProps:{textContent:e._s("mdi-theme-light-dark")}})],1)],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s("Dark mode")}})],1)],1):e._e(),i("v-list-item",{attrs:{title:"Settings",to:"/settings"},on:{click:e.reset,contextmenu:function(t){return e.showMenu(t,"settings")}}},[i("v-list-item-icon",[i("v-list-item-group",{staticClass:"nav-item"},[i("v-icon",{domProps:{textContent:e._s("mdi-cogs")}}),e._v(" Settings ")],1)],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s("Settings")}})],1)],1),i("v-list-item",{attrs:{href:"https://nest-desktop.readthedocs.io",target:"_blank",title:"Help"}},[i("v-list-item-icon",[i("v-list-item-group",{staticClass:"nav-item"},[i("v-icon",{domProps:{textContent:e._s("mdi-help-circle-outline")}}),e._v(" Help ")],1)],1),i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-h1",domProps:{textContent:e._s("Help")}})],1)],1),i("v-list-item",{attrs:{title:"About",to:"/about"},on:{click:e.reset}},[i("v-list-item-icon",[i("v-list-item-group",{staticClass:"nav-item"},[i("v-icon",{domProps:{textContent:e._s("mdi-information-variant")}}),e._v(" About ")],1)],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s("About")}})],1)],1)],2)],1)]),i("div",{staticStyle:{"padding-left":"64px",width:"100%"}},["project"===e.state.navList?i("ProjectNavList"):e._e(),"model"===e.state.navList?i("ModelNavList"):e._e()],1)],1)],1)],1)],1)},l=[],u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"models"},[e.state.modelMenu.show?i("ModelMenu",{attrs:{model:e.state.modelMenu.model,position:e.state.modelMenu.position}}):e._e(),i("v-container",{staticClass:"py-0"},[i("v-text-field",{attrs:{clearable:"","hide-details":"",label:"Search model","prepend-inner-icon":"mdi-magnify"},on:{"click:append":e.modelStore.clearSearch},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[i("v-btn",e._g(e._b({attrs:{depressed:"",fab:"","x-small":""}},"v-btn",a,!1),n),[i("v-icon",{domProps:{textContent:e._s("mdi-filter-outline")}})],1)]}}])},[i("v-list",{attrs:{dense:""}},e._l(e.filterTags,(function(t,n){return i("v-list-item",{key:n,on:{click:function(i){e.addFilterTag(t.text.toLowerCase())}}},[i("v-list-item-title",[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s(t.icon)}}),e._v(" "+e._s(t.text)+" ")],1)],1)})),1)],1)]},proxy:!0}]),model:{value:e.modelStore.state.searchTerm,callback:function(t){e.$set(e.modelStore.state,"searchTerm",t)},expression:"modelStore.state.searchTerm"}})],1),e._l(e.filterTags,(function(t,n){return i("span",{key:n},[e.modelStore.state.filterTags.includes(t.text.toLowerCase())?i("v-chip",{staticClass:"ma-1 mb-0",attrs:{close:"",outlined:"",small:""},on:{"click:close":function(i){e.removeFilterTag(t.text.toLowerCase())}}},[i("v-icon",{attrs:{left:"",small:""},domProps:{textContent:e._s(t.icon)}}),e._v(" "+e._s(t.text)+" ")],1):e._e()],1)})),i("v-subheader",{staticClass:"my-0 py-0",staticStyle:{"font-size":"12px",height:"16px"},domProps:{textContent:e._s(e.state.models.length+" models")}}),i("v-list",{staticClass:"pt-0",staticStyle:{fontsize:"14px"},attrs:{dense:""}},e._l(e.state.models,(function(t){return i("v-list-item",{directives:[{name:"show",rawName:"v-show",value:!e.modelStore.state.searchTerm||t.includes(e.modelStore.state.searchTerm),expression:"\n        modelStore.state.searchTerm\n          ? model.includes(modelStore.state.searchTerm)\n          : true\n      "}],key:t,attrs:{title:t,to:"/model/"+t},on:{contextmenu:function(i){return e.showModelMenu(i,t)}}},[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(t)}})],1),i("v-list-item-icon",[i("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.modelStore.hasModel(t),expression:"modelStore.hasModel(model)"}],attrs:{right:"",small:""},domProps:{textContent:e._s("mdi-database-outline")}}),i("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.modelStore.fileExistGithub(t),expression:"modelStore.fileExistGithub(model)"}],attrs:{right:"",small:""},domProps:{textContent:e._s("mdi-github")}})],1)],1)})),1)],2)},d=[],h=i("2909"),p=(i("a434"),i("2ca0"),i("caad"),i("2532"),i("8a79"),i("d81d"),i("4de4"),i("ac1f"),i("1276"),i("99af"),i("4e82"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.state.model?i("div",{staticClass:"modelMenu"},[i("v-menu",{attrs:{"close-on-content-click":!1,"position-x":e.state.position.x,"position-y":e.state.position.y,value:e.state.show,transition:"slide-y-transition"}},[i("v-card",[null==e.state.content?i("span",[i("v-list",{attrs:{dense:""}},e._l(e.state.items,(function(t,n){return i("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],key:n,on:{click:t.onClick}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),i("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),i("v-list-item-action",{directives:[{name:"show",rawName:"v-show",value:t.append,expression:"item.append"}]},[i("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-menu-right")}})],1)],1)})),1)],1):e._e(),"modelDelete"===e.state.content?i("span",[i("v-card-title",{domProps:{textContent:e._s("Are you sure to delete this model?")}}),i("v-card-actions",[i("v-btn",{attrs:{outlined:"",small:"",text:""},on:{click:function(t){e.state.content=null}}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-menu-left")}}),e._v(" back ")],1),i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:""},domProps:{textContent:e._s("Delete")},on:{click:e.deleteModel}})],1)],1):e._e()])],1)],1):e._e()}),v=[],m=i("bea4"),f=n["default"].extend({name:"ModelMenu",props:{model:m["a"],position:Object},setup:function(e){var t=Object(o["e"])({content:null,model:e.model,openModelDialog:!1,position:e.position,show:!0,items:[{id:"modelReload",icon:"mdi-reload",title:"Reload model",onClick:function(){t.show=!1},show:!1},{id:"modelCopy",icon:"mdi-content-duplicate",title:"Copy model",onClick:function(){t.show=!1},show:!1},{id:"modelImport",icon:"mdi-import",title:"Import model",onClick:function(){return s("import")},show:!1},{id:"modelExport",icon:"mdi-export",title:"Export model",onClick:function(){return s("export")},show:!1},{id:"modelDelete",icon:"mdi-delete",title:"Delete model",onClick:function(){t.content="modelDelete"},show:!1,append:!0}]}),i=function(){t.model.delete().then((function(){t.show=!1}))},n=function(){t.items[0].show=r["a"].app.model.hasModel(t.model.id),t.items[1].show=r["a"].app.model.hasModel(t.model.id),t.items[2].show=r["a"].app.model.fileExistGithub(t.model.id),t.items[3].show=r["a"].app.model.hasModel(t.model.id),t.items[4].show=r["a"].app.model.hasModel(t.model.id)},a=function(){t.content=null,t.show=!0,t.model=e.model,t.position=e.position,n()},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"export";t.model.resetState(),r["a"].app.openDialog("model",e,[t.model]),t.show=!1};return Object(o["d"])((function(){return a()})),Object(o["g"])((function(){return e.model}),(function(){return a()})),{deleteModel:i,state:t}}}),_=f,b=i("0c7c"),g=i("6544"),y=i.n(g),k=i("8336"),j=i("b0af"),x=i("99d9"),w=i("132d"),O=i("8860"),S=i("da13"),I=i("1800"),C=i("34c3"),P=i("5d23"),A=i("e449"),N=i("2fa4"),M=Object(b["a"])(_,p,v,!1,null,null,null),R=M.exports;y()(M,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardTitle:x["d"],VIcon:w["a"],VList:O["a"],VListItem:S["a"],VListItemAction:I["a"],VListItemIcon:C["a"],VListItemTitle:P["c"],VMenu:A["a"],VSpacer:N["a"]});var T=n["default"].extend({name:"Models",components:{ModelMenu:R},setup:function(){var e=r["a"].app.model,t=Object(o["e"])({modelMenu:{model:void 0,position:{x:0,y:0},show:!1},models:[]}),i=[{icon:"mdi-database-outline",text:"Installed"},{icon:"mdi-github",text:"GitHub"},{icon:"mdi-alpha-n-circle-outline",text:"Neuron"},{icon:"mdi-alpha-s-circle-outline",text:"Stimulator"},{icon:"mdi-alpha-r-circle-outline",text:"Recorder"},{icon:"mdi-alpha-s-circle",text:"Synapse"}],n=function(e,i){e.preventDefault(),t.modelMenu.show=!1,t.modelMenu.model=r["a"].app.model.getModel(i),t.modelMenu.position.x=e.clientX,t.modelMenu.position.y=e.clientY,this.$nextTick((function(){t.modelMenu.show=!0}))},a=function(t){e.state.filterTags.push(t),p()},s=function(t){e.state.filterTags.splice(e.state.filterTags.indexOf(t),1),e.state.filterTags=Object(h["a"])(e.state.filterTags),p()},c=function(e){return e.startsWith("aiaf")||e.startsWith("gif")||e.startsWith("hh")||e.startsWith("iaf")||e.includes("izhikevich")||e.includes("_cond_")||e.includes("_psc_")||e.includes("_neuron")},l=function(e){return e.endsWith("_detector")||e.endsWith("_recorder")||e.endsWith("meter")},u=function(e){return e.endsWith("_dilutor")||e.includes("_generator")},d=function(e){return e.endsWith("gap_junction")||e.endsWith("_synapse")},p=function(){var i=e.state.filterTags;if(t.models=e.state.modelsNEST.length>0?e.state.modelsNEST:e.state.models.map((function(e){return e.id})),i.includes("installed")){var n=e.state.models.map((function(e){return e.id}));t.models=t.models.filter((function(e){return n.includes(e)}))}if(i.includes("github")){var a=e.state.filesGithub.map((function(e){return e.split(".json")[0].split("/")[1]}));t.models=t.models.filter((function(e){return a.some((function(t){return e.startsWith(t)}))}))}if(i.includes("neuron")||i.includes("recorder")||i.includes("stimulator")||i.includes("synapse")){var s=[];i.includes("neuron")&&(s=s.concat(t.models.filter((function(e){return c(e)})))),i.includes("recorder")&&(s=s.concat(t.models.filter((function(e){return l(e)})))),i.includes("stimulator")&&(s=s.concat(t.models.filter((function(e){return u(e)})))),i.includes("synapse")&&(s=s.concat(t.models.filter((function(e){return d(e)})))),s.sort(),t.models=s}};return Object(o["d"])((function(){p()})),{modelStore:e,addFilterTag:a,filterTags:i,removeFilterTag:s,showModelMenu:n,state:t}}}),V=T,E=i("cc20"),L=i("a523"),D=i("e0c7"),G=i("8654"),z=Object(b["a"])(V,u,d,!1,null,null,null),F=z.exports;y()(z,{VBtn:k["a"],VChip:E["a"],VContainer:L["a"],VIcon:w["a"],VList:O["a"],VListItem:S["a"],VListItemContent:P["a"],VListItemIcon:C["a"],VListItemTitle:P["c"],VMenu:A["a"],VSubheader:D["a"],VTextField:G["a"]});var J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ModelsDialog"},[i("v-dialog",{attrs:{"max-width":"1024"},model:{value:e.dialogState.open,callback:function(t){e.$set(e.dialogState,"open",t)},expression:"dialogState.open"}},["import"===e.dialogState.action?i("span",[i("ModelsImport")],1):i("span",[i("v-card",[0!==e.dialogState.content.length?i("v-card-title",{domProps:{textContent:e._s("Select models to "+e.dialogState.action+".")}}):e._e(),i("v-card-text",[0!==e.dialogState.content.length?i("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{domProps:{textContent:e._s("Model name")}}),i("th",{domProps:{textContent:e._s("Element type")}}),i("th",{staticClass:"text-center",domProps:{textContent:e._s("Selected")}})])]),i("tbody",e._l(e.dialogState.content,(function(t,n){return i("tr",{key:n},[i("td",{domProps:{textContent:e._s(t.label)}}),i("td",{domProps:{textContent:e._s(t.elementType)}}),i("td",{staticClass:"text-center"},[i("v-checkbox",{staticClass:"my-0 mx-auto",attrs:{color:"model","hide-details":""},model:{value:t.state.selected,callback:function(i){e.$set(t.state,"selected",i)},expression:"model.state.selected"}})],1)])})),0)]},proxy:!0}],null,!1,4142799422)}):e._e()],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:"",text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(){return e.closeDialog()}}}),"export"===e.dialogState.action?i("v-btn",{attrs:{disabled:!e.dialogState.content.some((function(e){return e.state.selected})),outlined:"",small:""},on:{click:e.exportModels}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-export")}}),e._v(" Export ")],1):e._e(),"delete"===e.dialogState.action?i("v-btn",{attrs:{disabled:!e.dialogState.content.some((function(e){return e.state.selected})),outlined:"",small:""},on:{click:e.deleteModels}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-trash-can-outline")}}),e._v(" Delete ")],1):e._e()],1)],1)],1)])],1)},H=[],W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ModelsImport"},[i("v-card",[i("v-card-title",{domProps:{textContent:e._s("Import models")}}),i("v-card-text",[i("v-row",{staticClass:"mb-1"},[i("v-col",{attrs:{cols:"4"}},[i("v-select",{attrs:{items:e.state.items,dense:"",label:"Select a source"},scopedSlots:e._u([{key:"selection",fn:function(t){return[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s(t.item.icon)}}),e._v(" Import from "+e._s(t.item.text)+" ")]}},{key:"item",fn:function(t){return[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s(t.item.icon)}}),e._v(" "+e._s(t.item.text)+" ")]}}]),model:{value:e.state.source,callback:function(t){e.$set(e.state,"source",t)},expression:"state.source"}})],1),i("v-col",{staticClass:"pa-3",attrs:{cols:"8"}},[i("v-row",{directives:[{name:"show",rawName:"v-show",value:"github"===e.state.source,expression:"state.source === 'github'"}]},[i("v-col",{attrs:{cols:"4"}},[i("v-select",{attrs:{disabled:0===e.state.trees.length,items:e.state.trees,dense:"",label:"Select element type","prepend-icon":"mdi-github"},on:{change:e.getFilesFromGithub},model:{value:e.state.selectedTree,callback:function(t){e.$set(e.state,"selectedTree",t)},expression:"state.selectedTree"}})],1),i("v-col",{attrs:{cols:"8"}},[i("v-select",{attrs:{disabled:0===e.state.files.length,items:e.state.files,dense:"",label:"Select file"},on:{change:e.getModelFromGithub},model:{value:e.state.selectedFile,callback:function(t){e.$set(e.state,"selectedFile",t)},expression:"state.selectedFile"}})],1)],1),i("v-file-input",{directives:[{name:"show",rawName:"v-show",value:"file"===e.state.source,expression:"state.source === 'file'"}],attrs:{dense:"",label:"File input","truncate-length":"100"},on:{change:e.getModelFromFile}}),i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"url"===e.state.source,expression:"state.source === 'url'"}],staticClass:"ma-0 pa-0",attrs:{clearable:"",dense:"",flat:"","full-width":"",label:"Enter URL","prepend-icon":"mdi-web"},on:{change:e.getModelFromUrl}})],1)],1),0!==e.state.models.length?i("span",[i("span",{domProps:{textContent:e._s(e.state.models.length+" model"+(e.state.models.length>1?"s":"")+" found. Select models to import.")}}),i("v-simple-table",[i("thead",[i("tr",[i("th",{domProps:{textContent:e._s("Model")}}),i("th",{domProps:{textContent:e._s("Label")}}),i("th",{domProps:{textContent:e._s("Version")}}),i("th",{staticClass:"text-center",domProps:{textContent:e._s("Valid")}}),i("th",{staticClass:"text-center",domProps:{textContent:e._s("Selected")}})])]),i("tbody",e._l(e.state.models,(function(t,n){return i("tr",{key:n},[i("td",{domProps:{textContent:e._s(t.id)}}),i("td",{domProps:{textContent:e._s(t.label)}}),i("td",{domProps:{textContent:e._s(t.version)}}),i("td",{staticClass:"text-center"},[i("v-icon",{attrs:{color:t.valid?"green":"red"},domProps:{textContent:e._s(t.valid?"mdi-check":"mdi-cancel")}})],1),i("td",{staticClass:"text-center"},[i("v-checkbox",{staticClass:"ma-0",attrs:{color:"model","hide-details":""},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"model.selected"}})],1)])})),0)])],1):i("span",{domProps:{textContent:e._s("No models found")}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:"",text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(){return e.closeDialog()}}}),i("v-btn",{attrs:{disabled:!e.state.models.some((function(e){return e.selected})),outlined:"",small:""},on:{click:e.importModels}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-import")}}),e._v(" Import ")],1)],1)],1)],1)},$=[],B=(i("159b"),i("7db0"),i("b64b"),i("bc3a")),U=i.n(B),K=i("66e0"),q=n["default"].extend({name:"ModelsImport",setup:function(){var e=r["a"].app.state.dialog,t=Object(o["e"])({items:[{icon:"mdi-paperclip",text:"file",value:"file"},{icon:"mdi-github",text:"GitHub",value:"github"},{icon:"mdi-web",text:"URL",value:"url"}],files:[],GitHubFile:"",modelId:"",models:[],selectedFile:{},selectedTree:{},source:"",trees:[]}),i=new K["a"],n=function(e){try{new m["a"](i,e),e.valid=!0}catch(t){e.valid=!1}},a=function(e){var i=Array.isArray(e)?e:[e];t.models=[],i.forEach((function(e){e.id&&(e.selected=e.id===t.modelId,t.models.push(e),n(e))}))},s=function(e){var t=new FileReader;t.readAsText(e),t.addEventListener("load",(function(e){return a(JSON.parse(e.target.result))}))},c=function(){t.selectedFile={},t.trees=[];var e="https://api.github.com/repos/nest-desktop/nest-desktop-models/git/trees/main?recursive=true";U.a.get(e).then((function(e){t.trees=e.data.tree.filter((function(e){return"tree"===e.type})).map((function(e){return{text:e.path,value:e}})),t.GitHubFile&&(t.selectedTree=t.trees.find((function(e){return t.GitHubFile.startsWith(e.text)})).value,l(t.selectedTree))}))},l=function(e){t.files=[];var i="https://api.github.com/repos/nest-desktop/nest-desktop-models/git/trees/"+e.sha;U.a.get(i).then((function(e){t.files=e.data.tree.filter((function(e){return"blob"===e.type&&e.path.endsWith(".json")})).map((function(e){return{text:e.path,value:e}})),t.GitHubFile&&(t.selectedFile=t.files.find((function(e){return t.GitHubFile.endsWith(e.value.path)})).value,d())}))},u=function(e){U.a.get(e).then((function(e){return a(e.data)}))},d=function(){if(Object.keys(t.selectedTree).includes("path")){var e="https://raw.githubusercontent.com/nest-desktop/nest-desktop-models/main/".concat(t.selectedTree["path"],"/").concat(t.selectedFile["path"]);u(e)}},h=function(){var e=t.models.filter((function(e){return e.selected}));r["a"].app.model.importModels(e),r["a"].app.closeDialog()},p=function(){null!=e&&1===e.content.length&&(t.source="github",t.modelId=e.content[0].id,t.GitHubFile=r["a"].app.model.state.filesGithub.find((function(e){return t.modelId.startsWith(e.split(".")[0].split("/")[1])}))),c()};return Object(o["d"])((function(){return p()})),{closeDialog:function(){return r["a"].app.closeDialog()},getFilesFromGithub:l,getModelFromGithub:d,getModelFromFile:s,getModelFromUrl:u,importModels:h,state:t}}}),Y=q,X=i("ac7c"),Z=i("62ad"),Q=i("23a7"),ee=i("0fd9"),te=i("b974"),ie=i("1f4f"),ne=Object(b["a"])(Y,W,$,!1,null,null,null),ae=ne.exports;y()(ne,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VCheckbox:X["a"],VCol:Z["a"],VFileInput:Q["a"],VIcon:w["a"],VRow:ee["a"],VSelect:te["a"],VSimpleTable:ie["a"],VSpacer:N["a"],VTextField:G["a"]});var se=n["default"].extend({name:"ModelsDialog",components:{ModelsImport:ae},setup:function(){var e=r["a"].app.state.dialog,t=function(){var t=e.content.filter((function(e){return e.state.selected}));t.length>0&&r["a"].app.model.exportModels(t),r["a"].app.closeDialog()},i=function(){var t=e.content.filter((function(e){return e.state.selected}));t.length>0&&r["a"].app.model.deleteModels(t),r["a"].app.closeDialog()};return{closeDialog:function(){return r["a"].app.closeDialog()},deleteModels:i,dialogState:e,exportModels:t}}}),oe=se,re=(i("8b56"),i("169a")),ce=Object(b["a"])(oe,J,H,!1,null,null,null),le=ce.exports;y()(ce,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VCheckbox:X["a"],VDialog:re["a"],VIcon:w["a"],VSimpleTable:ie["a"],VSpacer:N["a"]});var ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modelsMenu"},[i("v-menu",{attrs:{"close-on-content-click":!1,"position-x":e.state.position.x,"position-y":e.state.position.y,value:e.state.show,transition:"slide-y-transition"}},[i("v-card",{staticStyle:{"min-width":"300px"},attrs:{flat:"",tile:""}},[null==e.state.content?i("span",[i("v-list",{attrs:{dense:""}},e._l(e.state.items,(function(t,n){return i("v-list-item",{key:n,on:{click:t.onClick}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),i("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),i("v-list-item-action",{directives:[{name:"show",rawName:"v-show",value:t.append,expression:"item.append"}]},[i("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-menu-right")}})],1)],1)})),1)],1):e._e(),"modelsReset"===e.state.content?i("span",[i("v-card-title",{domProps:{textContent:e._s("Are you sure to reset all models?")}}),i("v-card-text",[e._v(" The cookie containing the local models will be deleted. "),i("br"),e._v(" All of your personal changes and all imported models will be removed. ")]),i("v-card-actions",[i("v-btn",{attrs:{outlined:"",small:"",text:""},on:{click:e.reset}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-menu-left")}}),e._v(" back ")],1),i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:""},domProps:{textContent:e._s("Reset")},on:{click:e.resetModels}})],1)],1):e._e()])],1)],1)},de=[],he=n["default"].extend({name:"ModelsMenu",props:{position:Object},setup:function(e){var t=Object(o["e"])({content:void 0,position:e.position,show:!0,items:[{id:"modelsReload",icon:"mdi-reload",title:"Reload models",onClick:function(){r["a"].app.model.initModelList(),t.show=!1}},{id:"modelsExport",icon:"mdi-export",title:"Export models",onClick:function(){return a("export")}},{id:"modelsImport",icon:"mdi-import",title:"Import models",onClick:function(){return a("import")}},{id:"modelsDelete",icon:"mdi-trash-can-outline",title:"Delete models",onClick:function(){return a("delete")}},{id:"modelsReset",icon:"$mdiDatabaseRefreshOutline",title:"Reset all models",onClick:function(){t.content="modelsReset"},append:!0}]}),i=function(){t.content=null},n=function(){t.show=!1,r["a"].app.model.resetDatabase().then((function(){i()}))},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"export";r["a"].app.model.resetModelStates(),r["a"].app.openDialog("model",e,r["a"].app.model.state.models),t.show=!1};return Object(o["g"])((function(){return e.position}),(function(){t.show=!1,i(),t.position=e.position,t.show=!0})),{reset:i,resetModels:n,state:t}}}),pe=he,ve=Object(b["a"])(pe,ue,de,!1,null,null,null),me=ve.exports;y()(ve,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VIcon:w["a"],VList:O["a"],VListItem:S["a"],VListItemAction:I["a"],VListItemIcon:C["a"],VListItemTitle:P["c"],VMenu:A["a"],VSpacer:N["a"]});var fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"projects"},[e.state.projectMenu.show?i("ProjectMenu",{attrs:{position:e.state.projectMenu.position,project:e.state.projectMenu.project}}):e._e(),i("v-list",{attrs:{dense:""}},[i("v-list-item",{attrs:{exact:"",to:"/project/"}},[i("v-list-item-icon",[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-plus")}})],1),i("v-list-item-title",{domProps:{textContent:e._s("New project")}})],1)],1),e.projectStore.view.state.project?i("v-container",{key:e.state.projectId,staticClass:"py-0"},[i("v-text-field",{attrs:{clearable:"",dense:"","hide-details":"",placeholder:"Project name",title:"Rename the current project"},on:{change:function(){return e.projectStore.view.state.project.clean()}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[i("v-row",[i("v-btn",{staticClass:"mx-2",attrs:{depressed:"",fab:"",small:"",title:"Save the current project"},on:{click:e.saveProject}},[i("v-icon",{domProps:{textContent:e._s("mdi-content-save-outline")}})],1)],1)]},proxy:!0}],null,!1,2068171344),model:{value:e.projectStore.view.state.project.name,callback:function(t){e.$set(e.projectStore.view.state.project,"name",t)},expression:"projectStore.view.state.project.name"}})],1):e._e(),i("v-container",{staticClass:"py-0"},[i("v-text-field",{attrs:{clearable:"","hide-details":"",placeholder:"Search project","prepend-inner-icon":"mdi-magnify"},model:{value:e.projectStore.state.searchTerm,callback:function(t){e.$set(e.projectStore.state,"searchTerm",t)},expression:"projectStore.state.searchTerm"}})],1),i("v-list",{key:e.projectStore.state.projects.length,attrs:{dense:"","two-line":""}},[i("draggable",{model:{value:e.projectStore.state.projects,callback:function(t){e.$set(e.projectStore.state,"projects",t)},expression:"projectStore.state.projects"}},[i("transition-group",e._l(e.projectStore.filteredProjects,(function(t){return i("v-list-item",{key:t.id,attrs:{to:"/project/"+t.id},on:{click:function(i){e.state.projectId=t.id},contextmenu:function(i){return e.showProjectMenu(i,t.id)}}},[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),i("v-list-item-subtitle",[e._v(" "+e._s(t.network.nodes.length)+" nodes, "+e._s(t.network.connections.length)+" connections ")])],1),i("v-list-item-icon",[t.doc?i("span",[t.id!==t.doc.id||t.state.hash!==t.doc.hash?i("v-icon",{staticClass:"px-1",attrs:{small:""},domProps:{textContent:e._s("mdi-alert-circle-outline")}}):e._e(),t.state.hasActivities?i("ActivityGraphIcon",{attrs:{project:t,append:""}}):e._e()],1):e._e()])],1)})),1)],1)],1)],1)},_e=[],be=i("b76a"),ge=i.n(be),ye=i("f720"),ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.state.project?i("div",{staticClass:"projectMenu"},[i("v-menu",{attrs:{"close-on-content-click":!1,"position-x":e.state.position.x,"position-y":e.state.position.y,value:e.state.show,transition:"slide-y-transition"}},[i("v-card",[null==e.state.content?i("span",[i("v-list",{attrs:{dense:""}},e._l(e.state.items,(function(t,n){return i("v-list-item",{key:n,on:{click:t.onClick}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),i("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),i("v-list-item-action",{directives:[{name:"show",rawName:"v-show",value:t.append,expression:"item.append"}]},[i("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-menu-right")}})],1)],1)})),1)],1):e._e(),"projectDelete"===e.state.content?i("span",[i("v-card-title",{domProps:{textContent:e._s("Are you sure to delete this project?")}}),i("v-card-actions",[i("v-btn",{attrs:{outlined:"",small:"",text:""},on:{click:function(t){e.state.content=null}}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-menu-left")}}),e._v(" back ")],1),i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:""},domProps:{textContent:e._s("Delete")},on:{click:e.deleteProject}})],1)],1):e._e()])],1)],1):e._e()},je=[],xe=i("104a"),we=n["default"].extend({name:"ProjectMenu",props:{project:xe["a"],position:Object},setup:function(e,t){var i=t.root,n=Object(o["e"])({content:null,project:e.project,position:e.position,show:!0,items:[{id:"projectReload",icon:"mdi-reload",title:"Reload project",onClick:function(){n.project.reload(),n.show=!1}},{id:"projectDuplicate",icon:"mdi-content-duplicate",title:"Duplicate project",onClick:function(){var e=n.project.duplicate();i.$route.path.endsWith(e.id)||i.$router.push({path:"/project/".concat(e.id)}),n.show=!1}},{id:"projectExport",icon:"mdi-export",title:"Export project",onClick:function(){return s("export")}},{id:"projectDelete",icon:"mdi-delete",title:"Delete project",onClick:function(){n.content="projectDelete"},append:!0}]}),a=function(){n.project.delete(),n.show=!1},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"export";n.project.resetState(),r["a"].app.openDialog("project",e,[n.project]),n.show=!1};return Object(o["g"])((function(){return e.project}),(function(){n.content=null,n.show=!0,n.project=e.project,n.position=e.position})),{deleteProject:a,state:n}}}),Oe=we,Se=Object(b["a"])(Oe,ke,je,!1,null,null,null),Ie=Se.exports;y()(Se,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardTitle:x["d"],VIcon:w["a"],VList:O["a"],VListItem:S["a"],VListItemAction:I["a"],VListItemIcon:C["a"],VListItemTitle:P["c"],VMenu:A["a"],VSpacer:N["a"]});var Ce=n["default"].extend({name:"ProjectNavList",components:{ActivityGraphIcon:ye["a"],draggable:ge.a,ProjectMenu:Ie},setup:function(e,t){var i=t.root,n=r["a"].app.project,a=Object(o["e"])({app:r["a"].app,projectId:"",projectMenu:{position:{x:0,y:0},project:void 0,show:!1}}),s=function(e,t){e.preventDefault(),a.projectMenu.show=!1,a.projectMenu.project=n.getProject(t),a.projectMenu.position.x=e.clientX,a.projectMenu.position.y=e.clientY,this.$nextTick((function(){a.projectMenu.show=!0}))},c=function(){var e=n.view.state.project;e.save().then((function(){i.$route.path.endsWith(e.id)||i.$router.push({path:"/project/".concat(e.id)})}))};return{projectStore:n,saveProject:c,showProjectMenu:s,state:a}}}),Pe=Ce,Ae=Object(b["a"])(Pe,fe,_e,!1,null,null,null),Ne=Ae.exports;y()(Ae,{VBtn:k["a"],VContainer:L["a"],VIcon:w["a"],VList:O["a"],VListItem:S["a"],VListItemContent:P["a"],VListItemIcon:C["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VRow:ee["a"],VTextField:G["a"]});var Me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ProjectsDialog"},[i("v-dialog",{attrs:{"max-width":"1024"},model:{value:e.dialogState.open,callback:function(t){e.$set(e.dialogState,"open",t)},expression:"dialogState.open"}},["import"===e.dialogState.action?i("span",[i("ProjectsImport")],1):i("span",[i("v-card",[0!==e.dialogState.content.length?i("v-card-title",{domProps:{textContent:e._s("Select projects to "+e.dialogState.action+".")}}):e._e(),i("v-card-text",[0!==e.dialogState.content.length?i("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{domProps:{textContent:e._s("Project name")}}),i("th",{domProps:{textContent:e._s("Created at")}}),i("th",{staticClass:"text-center",domProps:{textContent:e._s("Selected")}}),"export"===e.dialogState.action?i("th",{staticClass:"text-center",domProps:{textContent:e._s("Activities")}}):e._e()])]),i("tbody",e._l(e.dialogState.content,(function(t,n){return i("tr",{key:n},[i("td",{domProps:{textContent:e._s(t.name)}}),i("td",{domProps:{textContent:e._s(new Date(t.createdAt).toLocaleString())}}),i("td",{staticClass:"text-center"},[i("v-checkbox",{staticClass:"my-0 mx-auto",attrs:{color:"project","hide-details":""},model:{value:t.state.selected,callback:function(i){e.$set(t.state,"selected",i)},expression:"project.state.selected"}})],1),"export"===e.dialogState.action?i("td",[i("v-row",[i("v-col",{staticClass:"py-4",attrs:{cols:"4"}},[i("ActivityGraphIcon",{attrs:{project:t,small:""}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-checkbox",{staticClass:"ma-0",attrs:{disabled:!t.state.hasActivities,color:"project","hide-details":""},model:{value:t.state.withActivities,callback:function(i){e.$set(t.state,"withActivities",i)},expression:"project.state.withActivities"}})],1)],1)],1):e._e()])})),0)]},proxy:!0}],null,!1,563244418)}):e._e()],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:"",text:""},domProps:{textContent:e._s("Cancel")},on:{click:e.closeDialog}}),"export"===e.dialogState.action?i("v-btn",{attrs:{disabled:!e.dialogState.content.some((function(e){return e.state.selected})),outlined:"",small:""},on:{click:e.exportProjects}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-export")}}),e._v(" Export ")],1):e._e(),"delete"===e.dialogState.action?i("v-btn",{attrs:{disabled:!e.dialogState.content.some((function(e){return e.state.selected})),outlined:"",small:""},on:{click:e.deleteProjects}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-trash-can-outline")}}),e._v(" Delete ")],1):e._e()],1)],1)],1)])],1)},Re=[],Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ProjectsImport"},[i("v-card",[i("v-card-title",{domProps:{textContent:e._s("Import projects")}}),i("v-card-text",[i("v-row",{staticClass:"mb-1"},[i("v-col",{attrs:{cols:"3"}},[i("v-select",{attrs:{items:e.state.items,dense:"",label:"Select a source"},scopedSlots:e._u([{key:"selection",fn:function(t){return[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s(t.item.icon)}}),e._v(" Import from "+e._s(t.item.text)+" ")]}},{key:"item",fn:function(t){return[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s(t.item.icon)}}),e._v(" "+e._s(t.item.text)+" ")]}}]),model:{value:e.state.source,callback:function(t){e.$set(e.state,"source",t)},expression:"state.source"}})],1),i("v-col",{staticClass:"pa-3",attrs:{cols:"9"}},[i("v-row",{directives:[{name:"show",rawName:"v-show",value:"github"===e.state.source,expression:"state.source === 'github'"}]},[i("v-col",{attrs:{cols:"6"}},[i("v-select",{attrs:{disabled:0===e.state.trees.length,items:e.state.trees,dense:"",label:"Select path","prepend-icon":"mdi-github"},on:{change:e.getFilesFromGithub},model:{value:e.state.selectedTree,callback:function(t){e.$set(e.state,"selectedTree",t)},expression:"state.selectedTree"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-select",{attrs:{disabled:0===e.state.files.length,items:e.state.files,dense:"",label:"Select file"},on:{change:e.getProjectsFromGithub},model:{value:e.state.selectedFile,callback:function(t){e.$set(e.state,"selectedFile",t)},expression:"state.selectedFile"}})],1)],1),i("v-file-input",{directives:[{name:"show",rawName:"v-show",value:"file"===e.state.source,expression:"state.source === 'file'"}],attrs:{dense:"",label:"File input","truncate-length":"100"},on:{change:e.getProjectsFromFile}}),i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"url"===e.state.source,expression:"state.source === 'url'"}],staticClass:"ma-0 pa-0",attrs:{clearable:"",dense:"",flat:"","full-width":"",label:"Enter URL","prepend-icon":"mdi-web"},on:{change:e.getProjectsFromUrl}})],1)],1),0!==e.state.projects.length?i("span",[i("span",{domProps:{textContent:e._s(e.state.projects.length+" project"+(e.state.projects.length>1?"s":"")+" found. Select projects to import.")}}),i("v-simple-table",[i("thead",[i("tr",[i("th",{domProps:{textContent:e._s("Project name")}}),i("th",{domProps:{textContent:e._s("Created at")}}),i("th",{domProps:{textContent:e._s("Version")}}),i("th",{staticClass:"text-center",domProps:{textContent:e._s("Valid")}}),i("th",{staticClass:"text-center",domProps:{textContent:e._s("Selected")}})])]),i("tbody",e._l(e.state.projects,(function(t,n){return i("tr",{key:n},[i("td",{domProps:{textContent:e._s(t.name)}}),i("td",[t.createdAt?i("span",{domProps:{textContent:e._s(new Date(t.createdAt).toLocaleString())}}):i("span",{domProps:{textContent:e._s("undefined")}})]),i("td",{domProps:{textContent:e._s(t.version)}}),i("td",{staticClass:"text-center"},[i("v-icon",{attrs:{color:t.valid?"green":"red"},domProps:{textContent:e._s(t.valid?"mdi-check":"mdi-cancel")}})],1),i("td",{staticClass:"text-center"},[i("v-checkbox",{staticClass:"ma-0",attrs:{color:"project","hide-details":""},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"project.selected"}})],1)])})),0)])],1):i("span",{domProps:{textContent:e._s("No projects found")}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:"",text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(){return e.closeDialog()}}}),i("v-btn",{attrs:{disabled:!e.state.projects.some((function(e){return e.selected})),outlined:"",small:""},on:{click:e.importProjects}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-import")}}),e._v(" Import ")],1)],1)],1)],1)},Ve=[],Ee=(i("b0c0"),n["default"].extend({name:"ProjectsImport",setup:function(){var e=Object(o["e"])({dialog:!1,items:[{icon:"mdi-paperclip",text:"file",value:"file"},{icon:"mdi-github",text:"GitHub",value:"github"},{icon:"mdi-web",text:"URL",value:"url"}],files:[],projects:[],selectedFile:{},selectedProjects:[],selectedTree:{},source:"",trees:[]}),t=new K["a"],i=function(e){try{new xe["a"](t,e),e.valid=e.network.nodes.length>0&&e.network.connections.length>0}catch(i){e.valid=!1}},n=function(t){var n=Array.isArray(t)?t:[t];e.projects=[],n.forEach((function(t){t.name&&(e.projects.push(t),i(t))}))},a=function(e){var t=new FileReader;t.readAsText(e),t.addEventListener("load",(function(e){return n(JSON.parse(e.target.result))}))},s=function(){e.selectedFile={},e.trees=[];var t="https://api.github.com/repos/nest-desktop/nest-desktop-projects/git/trees/main?recursive=true";U.a.get(t).then((function(t){e.trees=t.data.tree.filter((function(e){return"tree"===e.type})).map((function(e){return{text:e.path,value:e}}))}))},c=function(t){e.files=[];var i="https://api.github.com/repos/nest-desktop/nest-desktop-projects/git/trees/"+t.sha;U.a.get(i).then((function(t){e.files=t.data.tree.filter((function(e){return"blob"===e.type&&e.path.endsWith(".json")})).map((function(e){return{text:e.path,value:e}}))}))},l=function(e){U.a.get(e).then((function(e){return n(e.data)}))},u=function(){if(Object.keys(e.selectedTree).includes("path")){var t="https://raw.githubusercontent.com/nest-desktop/nest-desktop-projects/main/".concat(e.selectedTree["path"],"/").concat(e.selectedFile["path"]);l(t)}},d=function(){var t=e.projects.filter((function(e){return e.selected}));r["a"].app.project.importProjects(t),r["a"].app.closeDialog()};return Object(o["d"])((function(){return s()})),{closeDialog:function(){return r["a"].app.closeDialog()},getFilesFromGithub:c,getProjectsFromGithub:u,getProjectsFromFile:a,getProjectsFromUrl:l,importProjects:d,state:e}}})),Le=Ee,De=Object(b["a"])(Le,Te,Ve,!1,null,null,null),Ge=De.exports;y()(De,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VCheckbox:X["a"],VCol:Z["a"],VFileInput:Q["a"],VIcon:w["a"],VRow:ee["a"],VSelect:te["a"],VSimpleTable:ie["a"],VSpacer:N["a"],VTextField:G["a"]});var ze=n["default"].extend({name:"ProjectsDialog",components:{ActivityGraphIcon:ye["a"],ProjectsImport:Ge},setup:function(){var e=r["a"].app.state.dialog,t=function(){var t=e.content.filter((function(e){return e.state.selected}));t.length>0&&r["a"].app.project.exportProjects(t),r["a"].app.closeDialog()},i=function(){var t=e.content.filter((function(e){return e.state.selected}));t.length>0&&r["a"].app.project.deleteProjects(t),r["a"].app.closeDialog()};return{closeDialog:function(){return r["a"].app.closeDialog()},deleteProjects:i,dialogState:e,exportProjects:t}}}),Fe=ze,Je=(i("a62d"),Object(b["a"])(Fe,Me,Re,!1,null,null,null)),He=Je.exports;y()(Je,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VCheckbox:X["a"],VCol:Z["a"],VDialog:re["a"],VIcon:w["a"],VRow:ee["a"],VSimpleTable:ie["a"],VSpacer:N["a"]});var We=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"projectsMenu"},[i("v-menu",{attrs:{"close-on-content-click":!1,"position-x":e.state.position.x,"position-y":e.state.position.y,value:e.state.show,transition:"slide-y-transition"}},[i("v-card",{staticStyle:{"min-width":"300px"},attrs:{tile:"",flat:""}},[null==e.state.content?i("span",[i("v-list",{attrs:{dense:""}},e._l(e.state.items,(function(t,n){return i("v-list-item",{key:n,on:{click:t.onClick}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),i("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),i("v-list-item-action",{directives:[{name:"show",rawName:"v-show",value:t.append,expression:"item.append"}]},[i("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-menu-right")}})],1)],1)})),1)],1):e._e(),"projectsReset"===e.state.content?i("span",[i("v-card-title",{domProps:{textContent:e._s("Are you sure to reset all projects?")}}),i("v-card-text",[e._v(" The database for projects will be deleted and then reset. "),i("br"),e._v(" All current projects will be lost. ")]),i("v-card-actions",[i("v-btn",{attrs:{outlined:"",small:"",text:""},on:{click:e.reset}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-menu-left")}}),e._v(" back ")],1),i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:""},domProps:{textContent:e._s("Reset")},on:{click:e.resetProjects}})],1)],1):e._e()])],1)],1)},$e=[],Be=n["default"].extend({name:"ProjectsMenu",components:{},props:{position:Object},setup:function(e){var t=Object(o["e"])({content:null,selectedProjects:[],position:e.position,show:!0,items:[{id:"projectsReload",icon:"mdi-reload",title:"Reload projects",onClick:function(){r["a"].app.project.initProjectList(),t.show=!1}},{id:"projectsExport",icon:"mdi-export",title:"Export projects",onClick:function(){return a("export")}},{id:"projectsImport",icon:"mdi-import",title:"Import projects",onClick:function(){return a("import")}},{id:"projectsDelete",icon:"mdi-trash-can-outline",title:"Delete projects",onClick:function(){return a("delete")}},{id:"projectsReset",icon:"$mdiDatabaseRefreshOutline",title:"Reset all projects",onClick:function(){t.content="projectsReset"},append:!0}]}),i=function(){t.content=null,t.selectedProjects=[]},n=function(){t.show=!1,r["a"].app.project.resetDatabase().then((function(){i()}))},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"export";r["a"].app.project.state.projects.forEach((function(e){return r["a"].app.project.getProject(e.id)})),r["a"].app.project.resetProjectStates(),r["a"].app.openDialog("project",e,r["a"].app.project.state.projects),t.show=!1};return Object(o["g"])((function(){return e.position}),(function(){t.show=!1,i(),t.position=e.position,t.show=!0})),{reset:i,resetProjects:n,state:t}}}),Ue=Be,Ke=Object(b["a"])(Ue,We,$e,!1,null,null,null),qe=Ke.exports;y()(Ke,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VIcon:w["a"],VList:O["a"],VListItem:S["a"],VListItemAction:I["a"],VListItemIcon:C["a"],VListItemTitle:P["c"],VMenu:A["a"],VSpacer:N["a"]});var Ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"settingsMenu"},[i("v-menu",{attrs:{"close-on-content-click":!1,"position-x":e.state.position.x,"position-y":e.state.position.y,value:e.state.show,transition:"slide-y-transition"}},[i("v-card",{staticStyle:{"min-width":"300px"},attrs:{flat:"",tile:""}},[null==e.state.content?i("span",[i("v-list",{attrs:{dense:""}},e._l(e.state.items,(function(t,n){return i("v-list-item",{key:n,on:{click:t.onClick}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),i("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),i("v-list-item-action",{directives:[{name:"show",rawName:"v-show",value:t.append,expression:"item.append"}]},[i("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-menu-right")}})],1)],1)})),1)],1):e._e(),"databasesReset"===e.state.content?i("span",[i("v-card-title",{domProps:{textContent:e._s("Are you sure to reset all databases?")}}),i("v-card-text",[e._v(" The databases (stored in the NEST Desktop cookies of your browser) will be reset. ")]),i("v-card-actions",[i("v-btn",{attrs:{outlined:"",small:"",text:""},on:{click:e.reset}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-menu-left")}}),e._v(" back ")],1),i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:""},domProps:{textContent:e._s("Reset")},on:{click:e.resetDatabases}})],1)],1):e._e(),"configsReset"===e.state.content?i("span",[i("v-card-title",{domProps:{textContent:e._s("Are you sure to reset all configs?")}}),i("v-card-text",[e._v(" The configurations will be reset and then the app will be reloaded. ")]),i("v-card-actions",[i("v-btn",{attrs:{outlined:"",small:"",text:""},on:{click:e.reset}},[i("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-menu-left")}}),e._v(" back ")],1),i("v-spacer"),i("v-btn",{attrs:{outlined:"",small:""},domProps:{textContent:e._s("Reset")},on:{click:e.resetConfigs}})],1)],1):e._e()])],1)],1)},Xe=[],Ze=n["default"].extend({name:"SettingsMenu",props:{position:Object},setup:function(e){var t=Object(o["e"])({content:void 0,position:e.position,show:!0,items:[{id:"configsReset",icon:"mdi-cog-refresh",title:"Reset all configurations",onClick:function(){t.content="configsReset"},append:!0},{id:"databasesReset",icon:"$mdiDatabaseRefreshOutline",title:"Reset all databases",onClick:function(){t.content="databasesReset"},append:!0}]}),i=function(){t.content=void 0},n=function(){r["a"].app.resetDatabases(),t.show=!1},a=function(){localStorage.clear(),location.reload()};return Object(o["g"])((function(){return e.position}),(function(){t.show=!1,i(),t.position=e.position,t.show=!0})),{reset:i,resetDatabases:n,resetConfigs:a,state:t}}}),Qe=Ze,et=Object(b["a"])(Qe,Ye,Xe,!1,null,null,null),tt=et.exports;y()(et,{VBtn:k["a"],VCard:j["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VIcon:w["a"],VList:O["a"],VListItem:S["a"],VListItemAction:I["a"],VListItemIcon:C["a"],VListItemTitle:P["c"],VMenu:A["a"],VSpacer:N["a"]});var it={name:"Navigation",components:{ModelNavList:F,ModelsDialog:le,ModelsMenu:me,ProjectNavList:Ne,ProjectsDialog:He,ProjectsMenu:qe,SettingsMenu:tt},setup:function(){var e=Object(o["e"])({dialog:!1,miniVariant:!0,navList:"",pinNav:r["a"].app.config.pinNav,menu:{content:"",position:{x:0,y:0},show:!1},resizing:!1,width:320}),t="",i="ac_generator",n=function(t){e.miniVariant=e.navList===t,e.navList=e.navList===t?"":t},a=function(){e.navList="",e.miniVariant=!0};function s(e,n){"project"===e?((void 0==t||t.length<=0)&&(t=r["a"].app.project.recentProjectId),n.push({name:"ProjectId",params:{id:t}})):((void 0==i||i.length<=0)&&(i="ac_generator"),n.push({name:"ModelId",params:{id:i}}))}function c(e,n){switch(e){case"model":t=n.params.id;break;case"project":i=n.params.id;break;default:break}}var l=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"project";t.preventDefault(),e.menu.show=!1,e.menu.position.x=t.clientX,e.menu.position.y=t.clientY,e.menu.content=i,setTimeout((function(){e.menu.show=!0}),1)};function u(e){n(e);var t=this.$route.path;t.indexOf(e)<0&&(c(e,this.$route),s(e,this.$router))}var d=[{id:"project",color:"project",contextmenu:function(e){return l(e,"project")},icon:"$network",title:"Project"},{id:"model",color:"model",contextmenu:function(e){return l(e,"model")},icon:"$nest",title:"Model"}],h=function(t){window.getSelection().removeAllRanges();var i=t.clientX+2;i<320||(e.width=i,window.dispatchEvent(new Event("resize")))},p=function t(){e.resizing=!1,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",t)},v=function(){e.resizing=!0,window.addEventListener("mousemove",h),window.addEventListener("mouseup",p)};return{app:r["a"].app,appConfig:r["a"].app.config,dialogState:r["a"].app.state.dialog,reset:a,resizeSidebar:v,routes:d,showMenu:l,state:e,toggle:n,updatePageContent:u}}},nt=it,at=(i("8d46"),i("1baa")),st=i("f774"),ot=i("3a2f"),rt=i("269a"),ct=i.n(rt),lt=i("a293"),ut=Object(b["a"])(nt,c,l,!1,null,null,null),dt=ut.exports;y()(ut,{VCol:Z["a"],VIcon:w["a"],VList:O["a"],VListItem:S["a"],VListItemContent:P["a"],VListItemGroup:at["a"],VListItemIcon:C["a"],VListItemTitle:P["c"],VNavigationDrawer:st["a"],VRow:ee["a"],VSpacer:N["a"],VTooltip:ot["a"]}),ct()(ut,{ClickOutside:lt["a"]});var ht=n["default"].extend({name:"App",components:{Navigation:dt},setup:function(e,t){var i=t.root,a=Object(o["e"])({refreshing:!1,registration:null,updateExists:!1}),s=function(e){a.registration=e.detail,r["a"].app.config.autoUpdate?setTimeout((function(){c()}),1):a.updateExists=!0},c=function(){a.updateExists=!1,a.refreshing||(a.refreshing=!0,window.location.reload())},l=function(){r["a"].app.backends.nestSimulator.check().then((function(){var e=document.getElementById("NESTSimulatorFrame");setInterval((function(){e.src=r["a"].app.backends.nestSimulator.url}),3e5)})).catch((function(){}))};return Object(o["d"])((function(){document.addEventListener("swUpdated",s,{once:!0}),r["a"].app.initTheme(i.$vuetify.theme),r["a"].app.init(n["default"].prototype.$appConfig),l()})),{core:r["a"],refreshApp:c,state:a}}}),pt=ht,vt=(i("034f"),i("7496")),mt=i("2db4"),ft=Object(b["a"])(pt,a,s,!1,null,null,null),_t=ft.exports;y()(ft,{VApp:vt["a"],VBtn:k["a"],VSnackbar:mt["a"]});var bt=i("9483");Object(bt["a"])("".concat("/nest_desktop/app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var gt=i("e683"),yt=i.n(gt),kt=(i("3ca3"),i("ddb0"),i("8c4f"));n["default"].use(kt["a"]);var jt=new kt["a"]({mode:"hash",base:"/nest_desktop/app/",routes:[{path:"/",name:"Home",component:function(){return i.e("chunk-4c1d7003").then(i.bind(null,"d041"))},props:{includeProjectButtons:!0}},{path:"/project",name:"Project",component:function(){return Promise.all([i.e("chunk-eefb417a"),i.e("chunk-36b84bbf")]).then(i.bind(null,"07bd"))}},{path:"/project/:id",name:"ProjectId",component:function(){return Promise.all([i.e("chunk-eefb417a"),i.e("chunk-36b84bbf")]).then(i.bind(null,"07bd"))},props:!0},{path:"/model",name:"Model",component:function(){return Promise.all([i.e("chunk-eefb417a"),i.e("chunk-52ff25c1")]).then(i.bind(null,"b679"))}},{path:"/model/:id",name:"ModelId",component:function(){return Promise.all([i.e("chunk-eefb417a"),i.e("chunk-52ff25c1")]).then(i.bind(null,"b679"))},props:!0},{path:"/settings",name:"Settings",component:function(){return i.e("chunk-3c2299ea").then(i.bind(null,"26d3"))}},{path:"/about",name:"About",component:function(){return i.e("chunk-4c1d7003").then(i.bind(null,"d041"))},props:{includeProjectButtons:!1}}]}),xt=i("2f62");n["default"].use(xt["a"]);var wt=new xt["a"].Store({state:{},mutations:{},actions:{}}),Ot=i("f309"),St=i("fcf4"),It=i("94ed"),Ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diceMultipleOutline icon"},[i("svg",{staticStyle:{"-ms-transform":"rotate(360deg)","-webkit-transform":"rotate(360deg)",transform:"rotate(360deg)"},attrs:{"aria-hidden":"true",focusable:"false",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1em","xmlns:xlink":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M14 8c-.55 0-1-.45-1-1s.45-1 1-1s1 .45 1 1s-.45 1-1 1m-2 4v7H5v-7h7m.78-2H4.22C3.55 10 3 10.55 3 11.22v8.56c0 .67.55 1.22 1.22 1.22h8.56c.67 0 1.22-.55 1.22-1.22v-8.56c0-.67-.55-1.22-1.22-1.22m7-7h-8.56C10.55 3 10 3.55 10 4.22V8h2V5h7v7h-3v2h3.78c.67 0 1.22-.55 1.22-1.22V4.22C21 3.55 20.45 3 19.78 3M17 8c-.55 0-1-.45-1-1s.45-1 1-1s1 .45 1 1s-.45 1-1 1m0 3c-.55 0-1-.45-1-1s.45-1 1-1s1 .45 1 1s-.45 1-1 1M7 15c-.55 0-1-.45-1-1s.45-1 1-1s1 .45 1 1s-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1s1 .45 1 1s-.45 1-1 1",fill:"#626262"}}),i("rect",{attrs:{fill:"rgba(0, 0, 0, 0)",height:"24",width:"24",x:"0",y:"0"}})])])},Pt=[],At=n["default"].extend({name:"DiceMultipleOutlineIcon"}),Nt=At,Mt=Object(b["a"])(Nt,Ct,Pt,!1,null,null,null),Rt=Mt.exports,Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dotsGrid icon"},[i("svg",{staticStyle:{"-ms-transform":"rotate(360deg)","-webkit-transform":"rotate(360deg)",transform:"rotate(360deg)"},attrs:{"aria-hidden":"true",focusable:"false",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1em","xmlns:xlink":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M12 16c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2M6 16c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m12 12c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2z",fill:"#626262"}}),i("rect",{attrs:{fill:"rgba(0, 0, 0, 0)",height:"24",width:"24",x:"0",y:"0"}})])])},Vt=[],Et=n["default"].extend({name:"DotsGridIcon"}),Lt=Et,Dt=Object(b["a"])(Lt,Tt,Vt,!1,null,null,null),Gt=Dt.exports,zt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nest icon"},[i("svg",{attrs:{viewBox:"0 0 24 24"}},[i("g",{staticStyle:{display:"inline"},attrs:{transform:"translate(-353.26166,-545.8422)"}},[i("path",{attrs:{d:"m 377.26166,566.04715 c 0,1.95725 -1.61484,3.79511 -3.54368,3.79511 H 353.2619 l -2.4e-4,-20.45644 c 0,-1.95696 1.56309,-3.54362 3.49193,-3.54362 h 16.96439 c 1.92884,0 3.54368,1.97403 3.54368,3.54374 z",id:"background"}}),i("path",{staticClass:"content",attrs:{d:"m 364.25701,559.99905 v -2.91687 c 0,-2.29055 -0.87685,-3.43583 -2.77372,-3.43583 -1.10948,0 -1.91475,0.42948 -2.4695,1.27054 v -0.68001 c 0,-0.23263 -0.16105,-0.37579 -0.50105,-0.37579 h -1.48528 c -0.73369,0 -1.09159,0.23263 -1.09159,0.96632 0,0.62633 0.32211,0.94844 0.94843,0.94844 0.0358,0 0.0895,0 0.14316,0 v 4.2232 c -0.0358,0 -0.0716,0 -0.10737,0 -0.66211,0 -0.98422,0.32211 -0.98422,0.96633 0,0.71579 0.34,0.96632 1.09159,0.96632 h 2.16528 c 0.75159,0 1.09159,-0.25053 1.09159,-0.96632 0,-0.64422 -0.32211,-0.96633 -0.98422,-0.96633 -0.0358,0 -0.0716,0 -0.10737,0 v -2.52318 c 0,-1.23475 0.7337,-1.93266 1.64634,-1.93266 1.00211,0 1.27054,0.66212 1.27054,1.93266 v 2.52318 c -0.0358,0 -0.0716,0 -0.10737,0 -0.66211,0 -1.00212,0.32211 -1.00212,0.96633 0,0.71579 0.3579,0.96632 1.10949,0.96632 h 2.14739 c 0.75158,0 1.09159,-0.25053 1.09159,-0.96632 0,-0.64422 -0.32211,-0.96633 -0.98422,-0.96633 -0.0358,0 -0.0716,0 -0.10737,0"}}),i("circle",{staticClass:"content",attrs:{cx:"368.43753",cy:"555.05078",r:"1.5718517"}}),i("circle",{staticClass:"content",attrs:{cx:"373.75766",cy:"555.05078",r:"1.5718517"}}),i("circle",{staticClass:"content",attrs:{cx:"373.75766",cy:"560.37091",r:"1.5718517"}}),i("circle",{staticClass:"content",attrs:{cx:"368.43753",cy:"560.37091",r:"1.5718517"}})])])])},Ft=[],Jt=n["default"].extend({name:"NESTIcon"}),Ht=Jt,Wt=(i("8b43"),Object(b["a"])(Ht,zt,Ft,!1,null,null,null)),$t=Wt.exports,Bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"network icon"},[i("svg",{attrs:{viewBox:"0 0 24 19.1"}},[i("path",{attrs:{d:"m 12.629093,8.4763371 3.214033,6.4532689 H 9.4150594 Z m 5.632285,6.2560289 1.536108,0.920775 m 1.891767,-0.674638 c 1.002612,0 1.809769,0.807157 1.809769,1.809769 0,1.002612 -0.807157,1.809769 -1.809769,1.809769 -1.002612,0 -1.809769,-0.807157 -1.809769,-1.809769 0,-1.002612 0.807157,-1.809769 1.809769,-1.809769 z M 9.1827703,4.1197096 10.631494,7.1165823 M 7.6529667,0.5001719 H 11.272505 L 9.1827703,4.1197096 H 5.5632328 Z m 8.0202003,9.0350365 4.65849,-3.4864236 m 1.358402,-3.1357155 c 1.002613,0 1.809769,0.8071568 1.809769,1.8097688 0,1.002612 -0.807156,1.8097687 -1.809769,1.8097687 -1.002611,0 -1.809768,-0.8071567 -1.809768,-1.8097687 0,-1.002612 0.807157,-1.8097688 1.809768,-1.8097688 z M 2.3873751,9.184107 l -1.88693626,1.091862 0.002017,2.180093 1.88907446,1.088171 1.8869362,-1.091781 -0.00202,-2.180094 z m 7.2389543,2.175826 -4.862183,0.004 z"}})])])},Ut=[],Kt=n["default"].extend({name:"NetworkIcon"}),qt=Kt,Yt=(i("d1fc"),Object(b["a"])(qt,Bt,Ut,!1,null,null,null)),Xt=Yt.exports;n["default"].use(Ot["a"]);var Zt=new Ot["a"]({icons:{values:{mdiDatabaseRefreshOutline:It["a"],diceMultipleOutline:{component:Rt},dotsGrid:{component:Gt},nest:{component:$t},network:{component:Xt}}},theme:{themes:{light:{primary:St["a"].grey.base,secondary:St["a"].shades.white,accent:St["a"].grey.darken2,model:{base:"#FF6633"},project:{base:"#1281B3"}},dark:{primary:St["a"].grey.base,secondary:St["a"].grey.darken4,accent:St["a"].grey.lighten4,model:{base:"#FF6633"},project:{base:"#1281B3"}}}}}),Qt=i("8f94"),ei=i.n(Qt);i("db91"),i("31c5"),i("a7be"),i("8c2e"),i("10b2"),i("8c33"),i("f6b6");n["default"].use(ei.a);i("d5e8"),i("5363");var ti=i("b079"),ii=i.n(ti);i("4238");n["default"].use(o["a"]),n["default"].use(ii.a),n["default"].config.productionTip=!1;var ni=function(){new n["default"]({router:jt,store:wt,vuetify:Zt,render:function(e){return e(_t)}}).$mount("#app")};Object({NODE_ENV:"production",BASE_URL:"/nest_desktop/app/"}).IS_ELECTRON?(n["default"].prototype.$appConfig={insiteAccess:{url:"http://localhost:8080"},nestSimulator:{url:"http://localhost:5000"}},ni()):fetch(yt()("/nest_desktop/app/","config.json")).then((function(e){return e.json()})).then((function(e){return n["default"].prototype.$appConfig=e})).finally(ni)},ceae:function(e){e.exports=JSON.parse('{"abbreviation":"ac","id":"ac_generator","elementType":"stimulator","label":"alternating current","recordables":["I"],"params":[{"id":"amplitude","label":"Amplitude of sine current","unit":"pA","value":0,"input":"valueSlider","max":1000,"min":-1000,"step":1},{"id":"frequency","label":"frequency","unit":"Hz","value":0,"input":"valueSlider","max":100,"min":0,"step":1},{"id":"offset","label":"constant amplitude offset","unit":"pA","value":0,"input":"valueSlider","max":1000,"min":0,"step":1},{"id":"phase","label":"phase of sine current","unit":"deg","value":0,"input":"valueSlider","max":360,"min":0,"step":1},{"id":"start","label":"start time","unit":"ms","value":0,"input":"valueSlider","max":1000,"min":0,"step":1},{"id":"stop","label":"stop time","unit":"ms","value":1000,"input":"valueSlider","max":1000,"min":0,"step":1}]}')},d1fc:function(e,t,i){"use strict";i("1660")},dd61:function(e){e.exports=JSON.parse('{"abbreviation":"dc","id":"dc_generator","elementType":"stimulator","label":"direct current","recordables":["I"],"params":[{"id":"amplitude","label":"amplitude of current","unit":"pA","value":0,"input":"valueSlider","max":1000,"min":-1000,"step":1},{"id":"start","label":"start time","unit":"ms","value":0,"input":"valueSlider","max":1000,"min":0,"step":1},{"id":"stop","label":"stop time","unit":"ms","value":1000,"input":"valueSlider","max":1000,"min":0,"step":1}]}')},e4a3:function(e){e.exports=JSON.parse('{"activityGraph":{"panels":[{"model":{"id":"senderSpikeCountPlot"}},{"model":{"id":"senderMeanISIPlot"}}]},"name":"spike activity","network":{"nodes":[{"model":"iaf_psc_alpha","size":1000,"view":{"position":{"x":0,"y":25}}},{"model":"dc_generator","params":[{"id":"amplitude","value":0,"visible":true,"type":{"icon":"mdi-code-brackets","id":"numpy.arange","label":"ranged array","specs":[{"default":0,"id":"start","optional":true,"label":"start","value":1},{"id":"stop","label":"stop","value":1002},{"default":1,"id":"step","optional":true,"label":"step","value":1}]}},{"id":"start","value":0,"visible":false},{"id":"stop","value":1000,"visible":false}],"size":1000,"view":{"position":{"x":-150,"y":-25}}},{"model":"spike_recorder","params":[{"id":"start","value":0,"visible":false},{"id":"stop","value":10000,"visible":false}],"size":1,"view":{"position":{"x":150,"y":-25}}}],"connections":[{"rule":"one_to_one","source":1,"target":0},{"source":0,"target":2}]},"simulation":{"kernel":{"localNumThreads":1,"resolution":0.1,"rngSeed":1},"time":1000},"version":"3.1.0"}')},f1d0:function(e,t,i){var n={"./current-input.json":"1d81","./model-current-steps.json":"ae8d","./model-f-i-curve.json":"e4a3","./model-poisson-spikes-steps.json":"1f90","./model-regular-spikes-steps.json":"84b5","./model-spikes-up-down.json":"6e6c","./model-step-current-up-down.json":"a36d","./spatial-neurons.json":"0b4a","./spatial-spike-activity.json":"0324","./spike-activity.json":"58e8","./spike-input.json":"6406"};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="f1d0"},f720:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.state.project?i("div",{staticClass:"activityGraphIcon"},[e.state.append?i("span",[i("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.state.project.state.hasSpatialActivities,expression:"state.project.state.hasSpatialActivities"}],staticClass:"mx-1",attrs:{small:""},domProps:{textContent:e._s("mdi-axis-arrow")}}),i("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.state.project.state.hasAnalogActivities,expression:"state.project.state.hasAnalogActivities"}],staticClass:"mx-1",attrs:{small:""},domProps:{textContent:e._s("mdi-chart-bell-curve-cumulative")}}),i("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.state.project.state.hasSpikeActivities,expression:"state.project.state.hasSpikeActivities"}],staticClass:"mx-1",attrs:{small:""},domProps:{textContent:e._s("mdi-chart-scatter-plot")}})],1):i("span",[e.state.project.state.hasSpatialActivities&&!e.state.fixed&&"spatial"===e.state.project.app.project.view.state.activityGraph?i("v-icon",{domProps:{textContent:e._s("mdi-axis-arrow")}}):e.state.project.state.hasAnalogActivities?i("v-icon",{domProps:{textContent:e._s("mdi-chart-bell-curve-cumulative")}}):e.state.project.state.hasSpikeActivities?i("v-icon",{domProps:{textContent:e._s("mdi-chart-scatter-plot")}}):e._e()],1)]):e._e()},a=[],s=(i("c7cd"),i("2b0e")),o=i("ed09"),r=i("104a"),c=s["default"].extend({name:"ActivityGraphIcon",props:{append:Boolean,fixed:Boolean,project:r["a"]},setup:function(e){var t=Object(o["e"])({append:!1,fixed:!1,project:void 0}),i=function(){t.append=e.append,t.fixed=e.fixed,t.project=e.project};return Object(o["d"])((function(){return i()})),Object(o["g"])((function(){return[e.project]}),(function(){return i()})),{state:t}}}),l=c,u=i("0c7c"),d=i("6544"),h=i.n(d),p=i("132d"),v=Object(u["a"])(l,n,a,!1,null,null,null);t["a"]=v.exports;h()(v,{VIcon:p["a"]})},f727:function(e){e.exports=JSON.parse('{"abbreviation":"pg","id":"poisson_generator","elementType":"stimulator","label":"Poisson generator","params":[{"id":"rate","label":"mean firing rate","unit":"Hz","value":0,"input":"valueSlider","max":10000,"min":0,"step":1},{"id":"start","label":"start time","unit":"ms","value":0,"input":"valueSlider","max":1000,"min":0,"step":1},{"id":"stop","label":"stop time","unit":"ms","value":1000,"input":"valueSlider","max":1000,"min":0,"step":1}]}')},fa0a:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("d4ec"),a=i("bee2"),s=(i("38cf"),function(){function e(){Object(n["a"])(this,e)}return Object(a["a"])(e,[{key:"_",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"\n"+"  ".repeat(e)}},{key:"end",value:function(){return"\n"}}]),e}())},fed5:function(e,t,i){}});